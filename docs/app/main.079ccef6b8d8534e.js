(self.webpackChunkcard_games=self.webpackChunkcard_games||[]).push([[179],{171:(Ye,F,w)=>{"use strict";var T={};w.r(T),w.d(T,{fixNegotiationNeeded:()=>nk,shimAddTrackRemoveTrack:()=>tk,shimAddTrackRemoveTrackWithNative:()=>ek,shimGetDisplayMedia:()=>nJ,shimGetSendersWithDtmf:()=>JR,shimGetStats:()=>ZR,shimGetUserMedia:()=>KR,shimMediaStream:()=>QR,shimOnTrack:()=>YR,shimPeerConnection:()=>LE,shimSenderReceiverGetStats:()=>XR});var U={};w.r(U),w.d(U,{shimGetDisplayMedia:()=>ik,shimGetUserMedia:()=>rk,shimPeerConnection:()=>$E,shimReplaceTrack:()=>ok});var P={};w.r(P),w.d(P,{shimAddTransceiver:()=>fk,shimCreateAnswer:()=>gk,shimCreateOffer:()=>hk,shimGetDisplayMedia:()=>sJ,shimGetParameters:()=>pk,shimGetUserMedia:()=>sk,shimOnTrack:()=>ak,shimPeerConnection:()=>jE,shimRTCDataChannel:()=>dk,shimReceiverGetStats:()=>uk,shimRemoveStream:()=>ck,shimSenderGetStats:()=>lk});var O={};w.r(O),w.d(O,{shimAudioContext:()=>wk,shimCallbacksAPI:()=>vk,shimConstraints:()=>Ck,shimCreateOfferLegacy:()=>bk,shimGetUserMedia:()=>_k,shimLocalStreamsAPI:()=>mk,shimRTCIceServerUrls:()=>Sk,shimRemoteStreamsAPI:()=>yk,shimTrackEventTransceiver:()=>Ek});var b={};function de(t){return"function"==typeof t}function Se(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}w.r(b),w.d(b,{removeExtmapAllowMixed:()=>BE,shimAddIceCandidateNullOrEmpty:()=>Rv,shimConnectionState:()=>VE,shimMaxMessageSize:()=>pg,shimRTCIceCandidate:()=>Pv,shimSendThrowTypeError:()=>hg});const D=Se(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function C(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class L{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof D?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{K(o)}catch(s){e=e??[],s instanceof D?e=[...e,...s.errors]:e.push(s)}}if(e)throw new D(e)}}add(e){var n;if(e&&e!==this)if(this.closed)K(e);else{if(e instanceof L){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&C(n,e)}remove(e){const{_finalizers:n}=this;n&&C(n,e),e instanceof L&&e._removeParent(this)}}L.EMPTY=(()=>{const t=new L;return t.closed=!0,t})();const ee=L.EMPTY;function z(t){return t instanceof L||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function K(t){de(t)?t():t.unsubscribe()}const G={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ye={setTimeout(t,e,...n){const{delegate:r}=ye;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ye;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ot(t){ye.setTimeout(()=>{const{onUnhandledError:e}=G;if(!e)throw t;e(t)})}function R(){}const k=te("C",void 0,void 0);function te(t,e,n){return{kind:t,value:e,error:n}}let De=null;function me(t){if(G.useDeprecatedSynchronousErrorHandling){const e=!De;if(e&&(De={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=De;if(De=null,n)throw r}}else t()}class We extends L{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,z(e)&&e.add(this)):this.destination=on}static create(e,n,r){return new Ct(e,n,r)}next(e){this.isStopped?$t(function X(t){return te("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$t(function ne(t){return te("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$t(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function xe(t,e){return Le.call(t,e)}class lt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dt(r)}else dt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dt(n)}}}class Ct extends We{constructor(e,n,r){let i;if(super(),de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&G.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xe(e.next,o),error:e.error&&xe(e.error,o),complete:e.complete&&xe(e.complete,o)}):i=e}this.destination=new lt(i)}}function dt(t){G.useDeprecatedSynchronousErrorHandling?function ke(t){G.useDeprecatedSynchronousErrorHandling&&De&&(De.errorThrown=!0,De.error=t)}(t):ot(t)}function $t(t,e){const{onStoppedNotification:n}=G;n&&ye.setTimeout(()=>n(t,e))}const on={closed:!0,next:R,error:function Wt(t){throw t},complete:R},Z="function"==typeof Symbol&&Symbol.observable||"@@observable";function ie(t){return t}function Ae(t){return 0===t.length?ie:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function en(t){return t&&t instanceof We||function Je(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}(t)&&z(t)}(n)?n:new Ct(n,r,i);return me(()=>{const{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=tt(r))((i,o)=>{const s=new Ct({next:l=>{try{n(l)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Z](){return this}pipe(...n){return Ae(n)(this)}toPromise(n){return new(n=tt(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function tt(t){var e;return null!==(e=t??G.Promise)&&void 0!==e?e:Promise}const Mt=Se(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ft=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new wr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Mt}next(n){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ee:(this.currentObservers=null,o.push(n),new L(()=>{this.currentObservers=null,C(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ve;return n.source=this,n}}return t.create=(e,n)=>new wr(e,n),t})();class wr extends Ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ee}}function Oi(t){return de(t?.lift)}function tn(t){return e=>{if(Oi(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dn(t,e,n,r,i){return new Ni(t,e,n,r,i)}class Ni extends We{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){e.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return tn((n,r)=>{let i=0;n.subscribe(Dn(r,o=>{r.next(t.call(e,o,i++))}))})}function vo(t){return this instanceof vo?(this.v=t,this):new vo(t)}function Jc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(_){return new Promise(function(E,M){o.push([y,_,E,M])>1||l(y,_)})})}function l(y,_){try{!function c(y){y.value instanceof vo?Promise.resolve(y.value.v).then(f,p):g(o[0][2],y)}(r[y](_))}catch(E){g(o[0][3],E)}}function f(y){l("next",y)}function p(y){l("throw",y)}function g(y,_){y(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Xc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(l,c){!function i(o,s,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},s)}(l,c,(s=t[o](s)).done,s.value)})}}}const al=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nd(t){return de(t?.then)}function ll(t){return de(t[Z])}function ul(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function cl(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bo=function vu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Uo(t){return de(t?.[Bo])}function _u(t){return Jc(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vo(n.read());if(i)return yield vo(void 0);yield yield vo(r)}}finally{n.releaseLock()}})}function Cu(t){return de(t?.getReader)}function Br(t){if(t instanceof ve)return t;if(null!=t){if(ll(t))return function Su(t){return new ve(e=>{const n=t[Z]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(al(t))return function rd(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nd(t))return function Eu(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ot)})}(t);if(ul(t))return _o(t);if(Uo(t))return function id(t){return new ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Cu(t))return function bu(t){return _o(_u(t))}(t)}throw cl(t)}function _o(t){return new ve(e=>{(function wu(t,e){var n,r,i,o;return function qc(t,e,n,r){return new(n||(n=Promise))(function(o,s){function l(p){try{f(r.next(p))}catch(g){s(g)}}function c(p){try{f(r.throw(p))}catch(g){s(g)}}function f(p){p.done?o(p.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(p.value).then(l,c)}f((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Xc(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Li(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function mt(t,e,n=1/0){return de(e)?mt((r,i)=>Ie((o,s)=>e(r,o,i,s))(Br(t(r,i))),n):("number"==typeof e&&(n=e),tn((r,i)=>function I(t,e,n,r,i,o,s,l){const c=[];let f=0,p=0,g=!1;const y=()=>{g&&!c.length&&!f&&e.complete()},_=M=>f<r?E(M):c.push(M),E=M=>{o&&e.next(M),f++;let $=!1;Br(n(M,p++)).subscribe(Dn(e,j=>{i?.(j),o?_(j):e.next(j)},()=>{$=!0},void 0,()=>{if($)try{for(f--;c.length&&f<r;){const j=c.shift();s?Li(e,s,()=>E(j)):E(j)}y()}catch(j){e.error(j)}}))};return t.subscribe(Dn(e,_,()=>{g=!0,y()})),()=>{l?.()}}(r,i,t,n)))}function Qr(t=1/0){return mt(ie,t)}const lr=new ve(t=>t.complete());function Co(t){return t&&de(t.schedule)}function ia(t){return t[t.length-1]}function Uf(t){return de(ia(t))?t.pop():void 0}function dl(t){return Co(ia(t))?t.pop():void 0}function Ho(t,e=0){return tn((n,r)=>{n.subscribe(Dn(r,i=>Li(r,t,()=>r.next(i),e),()=>Li(r,t,()=>r.complete(),e),i=>Li(r,t,()=>r.error(i),e)))})}function od(t,e=0){return tn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{Li(n,e,()=>{const r=t[Symbol.asyncIterator]();Li(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Te(t,e){return e?function Cs(t,e){if(null!=t){if(ll(t))return function Mn(t,e){return Br(t).pipe(od(e),Ho(e))}(t,e);if(al(t))return function Hf(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nd(t))return function So(t,e){return Br(t).pipe(od(e),Ho(e))}(t,e);if(ul(t))return fl(t,e);if(Uo(t))return function sd(t,e){return new ve(n=>{let r;return Li(n,e,()=>{r=t[Bo](),Li(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}(t,e);if(Cu(t))return function pl(t,e){return fl(_u(t),e)}(t,e)}throw cl(t)}(t,e):Br(t)}function _i(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ct({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Lt(t){for(let e in t)if(t[e]===Lt)return e;throw Error("Could not find renamed property on target object.")}function $i(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function hn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(hn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function zo(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const oa=Lt({__forward_ref__:Lt});function En(t){return t.__forward_ref__=En,t.toString=function(){return hn(this())},t}function pt(t){return hl(t)?t():t}function hl(t){return"function"==typeof t&&t.hasOwnProperty(oa)&&t.__forward_ref__===En}class le extends Error{constructor(e,n){super(function gl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Et(t){return"string"==typeof t?t:null==t?"":String(t)}function Go(t,e){throw new le(-201,!1)}function Zt(t,e){null==t&&function un(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function nt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function vl(t){return qo(t,cd)||qo(t,xu)}function qo(t,e){return t.hasOwnProperty(e)?t[e]:null}function Pg(t){return t&&(t.hasOwnProperty(Gf)||t.hasOwnProperty(o_))?t[Gf]:null}const cd=Lt({\u0275prov:Lt}),Gf=Lt({\u0275inj:Lt}),xu=Lt({ngInjectableDef:Lt}),o_=Lt({ngInjectorDef:Lt});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let Mu;function vr(t){const e=Mu;return Mu=t,e}function dd(t,e,n){const r=vl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&St.Optional?null:void 0!==e?e:void Go(hn(t))}function Ko(t){return{toString:t}.toString()}var oi=(()=>((oi=oi||{})[oi.OnPush=0]="OnPush",oi[oi.Default=1]="Default",oi))(),Vn=(()=>{return(t=Vn||(Vn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vn;var t})();const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_l={},gn=[],Cl=Lt({\u0275cmp:Lt}),sa=Lt({\u0275dir:Lt}),Sl=Lt({\u0275pipe:Lt}),Qf=Lt({\u0275mod:Lt}),Qo=Lt({\u0275fac:Lt}),Au=Lt({__NG_ELEMENT_ID__:Lt});let a_=0;function Ur(t){return Ko(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===oi.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vn.Emulated,id:"c"+a_++,styles:t.styles||gn,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.dependencies,s=t.features;return i.inputs=Yf(t.inputs,r),i.outputs=Yf(t.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(kg).filter(Og):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Or).filter(Og):null,i})}function kg(t){return bn(t)||Yr(t)}function Og(t){return null!==t}function Ci(t){return Ko(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yf(t,e){if(null==t)return _l;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const bt=Ur;function si(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[Cl]||null}function Yr(t){return t[sa]||null}function Or(t){return t[Sl]||null}function Si(t,e){const n=t[Qf]||null;if(!n&&!0===e)throw new Error(`Type ${hn(t)} does not have '\u0275mod' property.`);return n}function Jr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vi(t){return Array.isArray(t)&&!0===t[1]}function Zf(t){return 0!=(8&t.flags)}function gd(t){return 2==(2&t.flags)}function md(t){return 1==(1&t.flags)}function Xi(t){return null!==t.template}function c_(t){return 0!=(256&t[2])}function bs(t,e){return t.hasOwnProperty(Qo)?t[Qo]:null}class Vg{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zr(){return ep}function ep(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cd),Lu}function Lu(){const t=tp(this),e=t?.current;if(e){const n=t.previous;if(n===_l)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Cd(t,e,n,r){const i=tp(t)||function Sd(t,e){return t[da]=e}(t,{previous:_l,current:null}),o=i.current||(i.current={}),s=i.previous,l=this.declaredInputs[n],c=s[l];o[l]=new Vg(c&&c.currentValue,e,s===_l),t[r]=e}Zr.ngInherit=!0;const da="__ngSimpleChanges__";function tp(t){return t[da]||null}function er(t){for(;Array.isArray(t);)t=t[0];return t}function fa(t,e){return er(e[t])}function ur(t,e){return er(e[t.index])}function ws(t,e){return t.data[e]}function pa(t,e){return t[e]}function _r(t,e){const n=e[t];return Jr(n)?n:n[0]}function Zo(t){return 64==(64&t[2])}function Xo(t,e){return null==e?null:t[e]}function wd(t){t[18]=0}function Ds(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const gt={lFrame:lp(null),bindingsEnabled:!0};function xs(){return gt.bindingsEnabled}function pe(){return gt.lFrame.lView}function cn(){return gt.lFrame.tView}function cr(t){return gt.lFrame.contextLView=t,t[8]}function Wn(t){return gt.lFrame.contextLView=null,t}function dr(){let t=Dd();for(;null!==t&&64===t.type;)t=t.parent;return t}function Dd(){return gt.lFrame.currentTNode}function bo(t,e){const n=gt.lFrame;n.currentTNode=t,n.isParent=e}function Uu(){return gt.lFrame.isParent}function Hu(){gt.lFrame.isParent=!1}function ha(){return gt.lFrame.bindingIndex++}function Do(t){const e=gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function es(t,e){const n=gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,zu(e)}function zu(t){gt.lFrame.currentDirectiveIndex=t}function Fr(){return gt.lFrame.currentQueryIndex}function Ms(t){gt.lFrame.currentQueryIndex=t}function Wg(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function As(t,e,n){if(n&St.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&St.Host||(i=Wg(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=gt.lFrame=no();return r.currentTNode=e,r.lView=t,!0}function ga(t){const e=no(),n=t[1];gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function no(){const t=gt.lFrame,e=null===t?null:t.child;return null===e?lp(t):e}function lp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function qg(){const t=gt.lFrame;return gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bi=qg;function xl(){const t=qg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mr(){return gt.lFrame.selectedIndex}function To(t){gt.lFrame.selectedIndex=t}function Gu(){gt.lFrame.currentNamespace="svg"}function ro(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:p}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),l&&((t.contentHooks||(t.contentHooks=[])).push(n,l),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,l)),c&&(t.viewHooks||(t.viewHooks=[])).push(-n,c),f&&((t.viewHooks||(t.viewHooks=[])).push(n,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,f)),null!=p&&(t.destroyHooks||(t.destroyHooks=[])).push(n,p)}}function io(t,e,n){cp(t,e,3,n)}function Wu(t,e,n,r){(3&t[2])===n&&cp(t,e,n,r)}function ma(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function cp(t,e,n,r){const o=r??-1,s=e.length-1;let l=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(l=e[c],null!=r&&l>=r)break}else e[c]<0&&(t[18]+=65536),(l<o||-1==o)&&(Qg(t,n,e,c),t[18]=(4294901760&t[18])+c+2),c++}function Qg(t,e,n,r){const i=n[r]<0,o=n[r+1],l=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(l)}finally{}}}else try{o.call(l)}finally{}}class Ps{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ya(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],l=n[r++];t.setAttribute(e,s,l,o)}else{const o=i,s=n[++r];Pl(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fp(t){return 3===t||4===t||6===t}function Pl(t){return 64===t.charCodeAt(0)}function wi(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Rl(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Rl(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const l=t[o++];if("number"==typeof l){if(l===e){s=-1;break}if(l>e){s=o-1;break}}}for(;o<t.length;){const l=t[o];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function kl(t){return-1!==t}function Hi(t){return 32767&t}function so(t,e){let n=function pp(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Id=!0;function Ol(t){const e=Id;return Id=t,e}let Rs=0;const Cr={};function Nl(t,e){const n=Pd(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yu(r.data,t),Yu(e,null),Yu(r.blueprint,null));const i=va(t,e),o=t.injectorIndex;if(kl(i)){const s=Hi(i),l=so(i,e),c=l[1].data;for(let f=0;f<8;f++)e[o+f]=l[s+f]|c[s+f]}return e[o+8]=i,o}function Yu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pd(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function va(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Bl(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Fl(t,e,n){!function Zg(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Au)&&(r=n[Au]),null==r&&(r=n[Au]=Rs++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Rd(t,e,n){if(n&St.Optional||void 0!==t)return t;Go()}function $l(t,e,n,r){if(n&St.Optional&&void 0===r&&(r=null),0==(n&(St.Self|St.Host))){const i=t[9],o=vr(void 0);try{return i?i.get(e,r,n&St.Optional):dd(e,r,n&St.Optional)}finally{vr(o)}}return Rd(r,0,n)}function Di(t,e,n,r=St.Default,i){if(null!==t){if(1024&e[2]){const s=function Mo(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const l=jl(o,s,n,r|St.Self,Cr);if(l!==Cr)return l;let c=o.parent;if(!c){const f=s[21];if(f){const p=f.get(n,Cr,r);if(p!==Cr)return p}c=Bl(s),s=s[15]}o=c}return i}(t,e,n,r,Cr);if(s!==Cr)return s}const o=jl(t,e,n,r,Cr);if(o!==Cr)return o}return $l(e,n,r,i)}function jl(t,e,n,r,i){const o=function kd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Au)?t[Au]:void 0;return"number"==typeof e?e>=0?255&e:hp:e}(n);if("function"==typeof o){if(!As(e,t,r))return r&St.Host?Rd(i,0,r):$l(e,n,r,i);try{const s=o(r);if(null!=s||r&St.Optional)return s;Go()}finally{Bi()}}else if("number"==typeof o){let s=null,l=Pd(t,e),c=-1,f=r&St.Host?e[16][6]:null;for((-1===l||r&St.SkipSelf)&&(c=-1===l?va(t,e):e[l+8],-1!==c&&Xr(r,!1)?(s=e[1],l=Hi(c),e=so(c,e)):l=-1);-1!==l;){const p=e[1];if(Vl(o,l,p.data)){const g=rr(l,e,n,s,r,f);if(g!==Cr)return g}c=e[l+8],-1!==c&&Xr(r,e[1].data[l+8]===f)&&Vl(o,l,e)?(s=p,l=Hi(c),e=so(c,e)):l=-1}}return i}function rr(t,e,n,r,i,o){const s=e[1],l=s.data[t+8],p=Sr(l,s,n,null==r?gd(l)&&Id:r!=s&&0!=(3&l.type),i&St.Host&&o===l);return null!==p?ir(e,s,p,l):Cr}function Sr(t,e,n,r,i){const o=t.providerIndexes,s=e.data,l=1048575&o,c=t.directiveStart,p=o>>20,y=i?l+p:t.directiveEnd;for(let _=r?l:l+p;_<y;_++){const E=s[_];if(_<c&&n===E||_>=c&&E.type===n)return _}if(i){const _=s[c];if(_&&Xi(_)&&_.type===n)return c}return null}function ir(t,e,n,r){let i=t[n];const o=e.data;if(function Yg(t){return t instanceof Ps}(i)){const s=i;s.resolving&&function ml(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Et(t)}(o[n]));const l=Ol(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?vr(s.injectImpl):null;As(t,r,St.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Kg(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=ep(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&vr(c),Ol(l),s.resolving=!1,Bi()}}return i}function Vl(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xr(t,e){return!(t&St.Self||t&St.Host&&e)}class ks{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Di(this._tNode,this._lView,e,r,n)}}function hp(){return new ks(dr(),pe())}function qn(t){return Ko(()=>{const e=t.prototype.constructor,n=e[Qo]||ts(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Qo]||ts(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ts(t){return hl(t)?()=>{const e=ts(pt(t));return e&&e()}:bs(t)}function Bl(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Ca="__parameters__";function Ea(t,e,n){return Ko(()=>{const r=function Hl(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return l.annotation=s,l;function l(c,f,p){const g=c.hasOwnProperty(Ca)?c[Ca]:Object.defineProperty(c,Ca,{value:[]})[Ca];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ct{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=nt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Bn(r,e)):e!==t&&e.push(r)}return e}function Qn(t,e){t.forEach(n=>Array.isArray(n)?Qn(n,e):e(n))}function _p(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zr(t,e,n){let r=ba(t,e);return r>=0?t[1|r]=n:(r=~r,function Cp(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Nd(t,e){const n=ba(t,e);if(n>=0)return t[1|n]}function ba(t,e){return function Ep(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const ec={},Dp="__NG_DI_FLAG__",Wl="ngTempTokenPath",A_=/\n/gm,xp="__source";let tc;function wa(t){const e=tc;return tc=t,e}function I_(t,e=St.Default){if(void 0===tc)throw new le(-203,!1);return null===tc?dd(t,void 0,e):tc.get(t,e&St.Optional?null:void 0,e)}function Oe(t,e=St.Default){return(function Wf(){return Mu}()||I_)(pt(t),e)}function Un(t,e=St.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),Oe(t,e)}function $d(t){const e=[];for(let n=0;n<t.length;n++){const r=pt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new le(900,!1);let i,o=St.Default;for(let s=0;s<r.length;s++){const l=r[s],c=am(l);"number"==typeof c?-1===c?i=l.token:o|=c:i=l}e.push(Oe(i,o))}else e.push(Oe(r))}return e}function ql(t,e){return t[Dp]=e,t.prototype[Dp]=e,t}function am(t){return t[Dp]}const Da=ql(Ea("Optional"),8),nc=ql(Ea("SkipSelf"),4);var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();const Ud=new Map;let Hd=0;const zd="__ngContext__";function Yn(t,e){Jr(e)?(t[zd]=e[20],function Yl(t){Ud.set(t[20],t)}(e)):t[zd]=e}function ci(t,e){return undefined(t,e)}function js(t){const e=t[3];return Vi(e)?e[3]:e}function pc(t){return mm(t[13])}function hc(t){return mm(t[4])}function mm(t){for(;null!==t&&!Vi(t);)t=t[4];return t}function os(t,e,n,r,i){if(null!=r){let o,s=!1;Vi(r)?o=r:Jr(r)&&(s=!0,r=r[0]);const l=er(r);0===t&&null!==n?null==i?S(e,n,l):v(e,n,l,i||null,!0):1===t&&null!==n?v(e,n,l,i||null,!0):2===t?function Rt(t,e,n){const r=Fe(t,e);r&&function V(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,l,s):3===t&&e.destroyNode(l),null!=o&&function Vs(t,e,n,r,i){const o=n[7];o!==er(n)&&os(e,t,r,o,i);for(let l=10;l<n.length;l++){const c=n[l];Tt(c[1],c,t,e,r,o)}}(e,t,o,n,i)}}function Jp(t,e,n){return t.createElement(e,n)}function Zl(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Ds(i,-1)),n.splice(r,1)}function Xp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Zl(i,r),e>0&&(t[n-1][4]=r[4]);const o=Zu(t,10+e);!function Zp(t,e){Tt(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function yc(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Tt(t,e,n,3,null,null),function Gd(t){let e=t[13];if(!e)return a(t[1],t);for(;e;){let n=null;if(Jr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Jr(e)&&a(e[1],e),e=e[3];null===e&&(e=t),Jr(e)&&a(e[1],e),n=e&&e[4]}e=n}}(e)}}function a(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function d(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ps)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const l=i[o[s]],c=o[s+1];try{c.call(l)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function u(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],l="function"==typeof s?s(e):er(e[s]),c=r[i=n[o+2]],f=n[o+3];"boolean"==typeof f?l.removeEventListener(n[o],c,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Vi(e[3])){n!==e[3]&&Zl(n,e);const r=e[19];null!==r&&r.detachView(t)}!function dm(t){Ud.delete(t[20])}(e)}}function h(t,e,n){return function m(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Vn.None||i===Vn.Emulated)return null}return ur(r,n)}(t,e.parent,n)}function v(t,e,n,r,i){t.insertBefore(e,n,r,i)}function S(t,e,n){t.appendChild(e,n)}function x(t,e,n,r,i){null!==r?v(t,e,n,r,i):S(t,e,n)}function Fe(t,e){return t.parentNode(e)}let vm,B_,At=function rt(t,e,n){return 40&t.type?ur(t,n):null};function B(t,e,n,r){const i=h(t,r,e),o=e[11],l=function Ce(t,e,n){return At(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)x(o,i,n[c],l,!1);else x(o,i,n,l,!1)}function W(t,e){if(null!==e){const n=e.type;if(3&n)return ur(e,t);if(4&n)return he(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return W(t,r);{const i=t[e.index];return Vi(i)?he(-1,i):er(i)}}if(32&n)return ci(e,t)()||er(t[e.index]);{const r=ue(t,e);return null!==r?Array.isArray(r)?r[0]:W(js(t[16]),r):W(t,e.next)}}return null}function ue(t,e){return null!==e?t[16][6].projection[e.projection]:null}function he(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return W(r,i)}return e[7]}function Ge(t,e,n,r,i,o,s){for(;null!=n;){const l=r[n.index],c=n.type;if(s&&0===e&&(l&&Yn(er(l),r),n.flags|=4),64!=(64&n.flags))if(8&c)Ge(t,e,n.child,r,i,o,!1),os(e,t,i,l,o);else if(32&c){const f=ci(n,r);let p;for(;p=f();)os(e,t,i,p,o);os(e,t,i,l,o)}else 16&c?jt(t,e,r,n,i,o):os(e,t,i,l,o);n=s?n.projectionNext:n.next}}function Tt(t,e,n,r,i,o){Ge(n,r,t.firstChild,e,i,o,!1)}function jt(t,e,n,r,i,o){const s=n[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)os(e,t,i,c[f],o);else Ge(t,e,c,s[3],i,o,!0)}function Hb(t,e,n){t.setAttribute(e,"style",n)}function j_(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vc(t){return function V_(){if(void 0===vm&&(vm=null,_n.trustedTypes))try{vm=_n.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vm}()?.createHTML(t)||t}class _c{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class HO extends _c{getTypeName(){return"HTML"}}class zO extends _c{getTypeName(){return"Style"}}class GO extends _c{getTypeName(){return"Script"}}class WO extends _c{getTypeName(){return"URL"}}class qO extends _c{getTypeName(){return"ResourceURL"}}function lo(t){return t instanceof _c?t.changingThisBreaksApplicationSecurity:t}function Bs(t,e){const n=function KO(t){return t instanceof _c&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}class eN{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(vc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class tN{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(e){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=vc(e),n;const r=this.inertDocument.createElement("body");return r.innerHTML=vc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const n=e.attributes;for(let i=n.length-1;0<i;i--){const s=n.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const rN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Cm(t){return(t=String(t)).match(rN)?t:"unsafe:"+t}function Ra(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function eh(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Qb=Ra("area,br,col,hr,img,wbr"),Yb=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jb=Ra("rp,rt"),H_=eh(Qb,eh(Yb,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eh(Jb,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eh(Jb,Yb)),z_=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zb=eh(z_,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iN=Ra("script,style,template");class oN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!H_.hasOwnProperty(n))return this.sanitizedSomething=!0,!iN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,l=s.toLowerCase();if(!Zb.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=o.value;z_[l]&&(c=Cm(c)),this.buf.push(" ",s,'="',Xb(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();H_.hasOwnProperty(n)&&!Qb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Xb(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const sN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aN=/([^\#-~ |!])/g;function Xb(t){return t.replace(/&/g,"&amp;").replace(sN,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(aN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sm;function ew(t,e){let n=null;try{Sm=Sm||function Kb(t){const e=new tN(t);return function nN(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new eN(e):e}(t);let r=e?String(e):"";n=Sm.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Sm.getInertBodyElement(r)}while(r!==o);return vc((new oN).sanitizeChildren(G_(n)||n))}finally{if(n){const r=G_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function G_(t){return"content"in t&&function lN(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Em(t){const e=function th(){const t=pe();return t&&t[12]}();return e?e.sanitize(Ln.URL,t)||"":Bs(t,"URL")?lo(t):Cm(Et(t))}const W_=new ct("ENVIRONMENT_INITIALIZER"),nw=new ct("INJECTOR",-1),rw=new ct("INJECTOR_DEF_TYPES");class iw{get(e,n=ec){if(n===ec){const r=new Error(`NullInjectorError: No provider for ${hn(e)}!`);throw r.name="NullInjectorError",r}return n}}function mN(...t){return{\u0275providers:ow(0,t)}}function ow(t,...e){const n=[],r=new Set;let i;return Qn(e,o=>{const s=o;q_(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&sw(i,n),n}function sw(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Qn(i,o=>{e.push(o)})}}function q_(t,e,n,r){if(!(t=pt(t)))return!1;let i=null,o=Pg(t);const s=!o&&bn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Pg(c),!o)return!1;i=c}const l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)q_(f,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let f;r.add(i);try{Qn(o.imports,p=>{q_(p,e,n,r)&&(f||(f=[]),f.push(p))})}finally{}void 0!==f&&sw(f,e)}if(!l){const f=bs(i)||(()=>new i);e.push({provide:i,useFactory:f,deps:gn},{provide:rw,useValue:i,multi:!0},{provide:W_,useValue:()=>Oe(i),multi:!0})}const c=o.providers;null==c||l||Qn(c,p=>{e.push(p)})}}return i!==t&&void 0!==t.providers}const yN=Lt({provide:String,useValue:Lt});function K_(t){return null!==t&&"object"==typeof t&&yN in t}function Cc(t){return"function"==typeof t}const Q_=new ct("Set Injector scope."),bm={},_N={};let Y_;function wm(){return void 0===Y_&&(Y_=new iw),Y_}class Xl{}class uw extends Xl{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z_(e,s=>this.processProvider(s)),this.records.set(nw,Wd(void 0,this)),i.has("environment")&&this.records.set(Xl,Wd(void 0,this));const o=this.records.get(Q_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rw.multi,gn,St.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=wa(this),r=vr(void 0);try{return e()}finally{wa(n),vr(r)}}get(e,n=ec,r=St.Default){this.assertNotDestroyed();const i=wa(this),o=vr(void 0);try{if(!(r&St.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function wN(t){return"function"==typeof t||"object"==typeof t&&t instanceof ct}(e)&&vl(e);l=c&&this.injectableDefInScope(c)?Wd(J_(e),bm):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&St.Self?wm():this.parent).get(e,n=r&St.Optional&&n===ec?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Wl]=s[Wl]||[]).unshift(hn(e)),i)throw s;return function Ap(t,e,n,r){const i=t[Wl];throw e[xp]&&i.unshift(e[xp]),t.message=function Ip(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=hn(e);if(Array.isArray(e))i=e.map(hn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];o.push(s+":"+("string"==typeof l?JSON.stringify(l):hn(l)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(A_,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Wl]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{vr(o),wa(i)}}resolveInjectorInitializers(){const e=wa(this),n=vr(void 0);try{const r=this.get(W_.multi,gn,St.Self);for(const i of r)i()}finally{wa(e),vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(hn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(e){let n=Cc(e=pt(e))?e:pt(e&&e.provide);const r=function SN(t){return K_(t)?Wd(void 0,t.useValue):Wd(cw(t),bm)}(e);if(Cc(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Wd(void 0,bm,!0),i.factory=()=>$d(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===bm&&(n.value=_N,n.value=n.factory()),"object"==typeof n.value&&n.value&&function bN(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=pt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function J_(t){const e=vl(t),n=null!==e?e.factory:bs(t);if(null!==n)return n;if(t instanceof ct)throw new le(204,!1);if(t instanceof Function)return function CN(t){const e=t.length;if(e>0)throw function Gl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new le(204,!1);const n=function r_(t){const e=t&&(t[cd]||t[xu]);if(e){const n=function i_(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new le(204,!1)}function cw(t,e,n){let r;if(Cc(t)){const i=pt(t);return bs(i)||J_(i)}if(K_(t))r=()=>pt(t.useValue);else if(function lw(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$d(t.deps||[]));else if(function aw(t){return!(!t||!t.useExisting)}(t))r=()=>Oe(pt(t.useExisting));else{const i=pt(t&&(t.useClass||t.provide));if(!function EN(t){return!!t.deps}(t))return bs(i)||J_(i);r=()=>new i(...$d(t.deps))}return r}function Wd(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DN(t){return!!t.\u0275providers}function Z_(t,e){for(const n of t)Array.isArray(n)?Z_(n,e):DN(n)?Z_(n.\u0275providers,e):e(n)}class dw{}class MN{resolveComponentFactory(e){throw function xN(t){const e=Error(`No component factory found for ${hn(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let nh=(()=>{class t{}return t.NULL=new MN,t})();function AN(){return qd(dr(),pe())}function qd(t,e){return new di(ur(t,e))}let di=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=AN,t})();function IN(t){return t instanceof di?t.nativeElement:t}class rh{}let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PN(){const t=pe(),n=_r(dr().index,t);return(Jr(n)?n:t)[11]}(),t})(),RN=(()=>{class t{}return t.\u0275prov=nt({token:t,providedIn:"root",factory:()=>null}),t})();class ih{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kN=new ih("14.2.12"),X_={};function t0(t){return t.ngOriginalError}class Kd{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&t0(e);for(;n&&t0(n);)n=t0(n);return n||null}}function Oa(t){return t instanceof Function?t():t}function hw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const gw="ng-template";function zN(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hw(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mw(t){return 4===t.type&&t.value!==gw}function GN(t,e,n){return e===(4!==t.type||n?t.value:gw)}function WN(t,e,n){let r=4;const i=t.attrs||[],o=function QN(t){for(let e=0;e<t.length;e++)if(fp(t[e]))return e;return t.length}(i);let s=!1;for(let l=0;l<e.length;l++){const c=e[l];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!GN(t,c,n)||""===c&&1===e.length){if(ss(r))return!1;s=!0}}else{const f=8&r?c:e[++l];if(8&r&&null!==t.attrs){if(!zN(t.attrs,f,n)){if(ss(r))return!1;s=!0}continue}const g=qN(8&r?"class":c,i,mw(t),n);if(-1===g){if(ss(r))return!1;s=!0;continue}if(""!==f){let y;y=g>o?"":i[g+1].toLowerCase();const _=8&r?y:null;if(_&&-1!==hw(_,f,0)||2&r&&f!==y){if(ss(r))return!1;s=!0}}}}else{if(!s&&!ss(r)&&!ss(c))return!1;if(s&&ss(c))continue;s=!1,r=c|1&r}}return ss(r)||s}function ss(t){return 0==(1&t)}function qN(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let l=e[++i];for(;"string"==typeof l;)l=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function YN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yw(t,e,n=!1){for(let r=0;r<e.length;r++)if(WN(t,e[r],n))return!0;return!1}function vw(t,e){return t?":not("+e.trim()+")":e}function ZN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const l=t[++n];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ss(s)&&(e+=vw(o,i),i=""),r=s,o=o||!ss(r);n++}return""!==i&&(e+=vw(o,i)),e}const Ut={};function ft(t){_w(cn(),pe(),Mr()+t,!1)}function _w(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&io(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Wu(e,o,0,n)}To(n)}function bw(t,e=null,n=null,r){const i=ww(t,e,n,r);return i.resolveInjectorInitializers(),i}function ww(t,e=null,n=null,r,i=new Set){const o=[n||gn,mN(t)];return r=r||("object"==typeof t?void 0:hn(t)),new uw(o,e||wm(),r||null,i)}let Gi=(()=>{class t{static create(n,r){if(Array.isArray(n))return bw({name:""},r,n,"");{const i=n.name??"";return bw({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ec,t.NULL=new iw,t.\u0275prov=nt({token:t,providedIn:"any",factory:()=>Oe(nw)}),t.__NG_ELEMENT_ID__=-1,t})();function oe(t,e=St.Default){const n=pe();return null===n?Oe(t,e):Di(dr(),n,pt(t),e)}function a0(){throw new Error("invalid")}function Tm(t,e){return t<<17|e<<2}function as(t){return t>>17&32767}function l0(t){return 2|t}function Na(t){return(131068&t)>>2}function u0(t,e){return-131069&t|e<<2}function c0(t){return 1|t}function Bw(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];Ms(i),s.contentQueries(2,e[o],o)}}}function Am(t,e,n,r,i,o,s,l,c,f,p){const g=e.blueprint.slice();return g[0]=i,g[2]=76|r,(null!==p||t&&1024&t[2])&&(g[2]|=1024),wd(g),g[3]=g[15]=t,g[8]=n,g[10]=s||t&&t[10],g[11]=l||t&&t[11],g[12]=c||t&&t[12]||null,g[9]=f||t&&t[9]||null,g[6]=o,g[20]=function Vp(){return Hd++}(),g[21]=p,g[16]=2==e.type?t[16]:g,g}function Jd(t,e,n,r,i){let o=t.data[e];if(null===o)o=function v0(t,e,n,r,i){const o=Dd(),s=Uu(),c=t.data[e]=function OF(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(t,e,n,r,i),function ap(){return gt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function to(){const t=gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return bo(o,!0),o}function Zd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _0(t,e,n){ga(e);try{const r=t.viewQuery;null!==r&&x0(1,r,n);const i=t.template;null!==i&&Uw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Bw(t,e),t.staticViewQueries&&x0(2,t.viewQuery,n);const o=t.components;null!==o&&function PF(t,e){for(let n=0;n<e.length;n++)YF(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,xl()}}function Im(t,e,n,r){const i=e[2];if(128!=(128&i)){ga(e);try{wd(e),function sp(t){return gt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Uw(t,e,n,2,r);const s=3==(3&i);if(s){const f=t.preOrderCheckHooks;null!==f&&io(e,f,null)}else{const f=t.preOrderHooks;null!==f&&Wu(e,f,0,null),ma(e,0)}if(function KF(t){for(let e=pc(t);null!==e;e=hc(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(512&i[2])&&Ds(o,1),i[2]|=512}}}(e),function qF(t){for(let e=pc(t);null!==e;e=hc(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Zo(r)&&Im(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Bw(t,e),s){const f=t.contentCheckHooks;null!==f&&io(e,f)}else{const f=t.contentHooks;null!==f&&Wu(e,f,1),ma(e,1)}!function AF(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)To(~i);else{const o=i,s=n[++r],l=n[++r];es(s,o),l(2,e[o])}}}finally{To(-1)}}(t,e);const l=t.components;null!==l&&function IF(t,e){for(let n=0;n<e.length;n++)QF(t,e[n])}(e,l);const c=t.viewQuery;if(null!==c&&x0(2,c,r),s){const f=t.viewCheckHooks;null!==f&&io(e,f)}else{const f=t.viewHooks;null!==f&&Wu(e,f,2),ma(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Ds(e[3],-1))}finally{xl()}}}function Uw(t,e,n,r,i){const o=Mr(),s=2&r;try{To(-1),s&&e.length>22&&_w(t,e,22,!1),n(r,i)}finally{To(o)}}function Hw(t,e,n){if(Zf(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function C0(t,e,n){!xs()||(function jF(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Nl(n,e),Yn(r,e);const s=n.initialInputs;for(let l=i;l<o;l++){const c=t.data[l],f=Xi(c);f&&zF(e,n,c);const p=ir(e,t,l,n);Yn(p,e),null!==s&&GF(0,l-i,p,c,0,s),f&&(_r(n.index,e)[8]=p)}}(t,e,n,ur(n,e)),128==(128&n.flags)&&function VF(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Td(){return gt.lFrame.currentDirectiveIndex}();try{To(o);for(let l=r;l<i;l++){const c=t.data[l],f=e[l];zu(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Yw(c,f)}}finally{To(-1),zu(s)}}(t,e,n))}function S0(t,e,n=ur){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],l=-1===s?n(e,t):t[s];t[i++]=l}}}function zw(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=E0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function E0(t,e,n,r,i,o,s,l,c,f){const p=22+r,g=p+i,y=function RF(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ut);return n}(p,g),_="function"==typeof f?f():f;return y[1]={type:t,blueprint:y,template:n,queries:null,viewQuery:l,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1}}function Gw(t,e,n,r){const i=tD(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&nD(t).push(r,i.length-1))}function Ww(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function qw(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let l=null,c=null;for(let f=e.directiveStart;f<r;f++){const p=i[f],g=p.inputs,y=null===o||mw(e)?null:WF(g,o);s.push(y),l=Ww(g,f,l),c=Ww(p.outputs,f,c)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=l,e.outputs=c}function Kw(t,e){const n=_r(e,t);16&n[2]||(n[2]|=32)}function b0(t,e,n,r){let i=!1;if(xs()){const o=function BF(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];yw(n,s.selectors,!1)&&(i||(i=[]),Fl(Nl(n,e),t,s.type),Xi(s)?(Jw(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Zw(n,t.data.length,o.length);for(let p=0;p<o.length;p++){const g=o[p];g.providersResolver&&g.providersResolver(g)}let l=!1,c=!1,f=Zd(t,e,o.length,null);for(let p=0;p<o.length;p++){const g=o[p];n.mergedAttrs=wi(n.mergedAttrs,g.hostAttrs),Xw(t,n,e,f,g),HF(f,g,s),null!==g.contentQueries&&(n.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=128);const y=g.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),!c&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),f++}qw(t,n)}s&&function UF(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new le(-301,!1);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=wi(n.mergedAttrs,n.attrs),i}function Qw(t,e,n,r,i,o){const s=o.hostBindings;if(s){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~e.index;(function $F(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(l)!=c&&l.push(c),l.push(r,i,s)}}function Yw(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Jw(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function HF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xi(e)&&(n[""]=t)}}function Zw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xw(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bs(i.type)),s=new Ps(o,Xi(i),oe);t.blueprint[r]=s,n[r]=s,Qw(t,e,0,r,Zd(t,n,i.hostVars,Ut),i)}function zF(t,e,n){const r=ur(e,t),i=zw(n),o=t[10],s=Pm(t,Am(t,i,null,n.onPush?32:16,r,e,o,o.createRenderer(r,n),null,null,null));t[e.index]=s}function GF(t,e,n,r,i,o){const s=o[e];if(null!==s){const l=r.setInput;for(let c=0;c<s.length;){const f=s[c++],p=s[c++],g=s[c++];null!==l?r.setInput(n,g,f,p):n[p]=g}}}function WF(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function eD(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function QF(t,e){const n=_r(e,t);if(Zo(n)){const r=n[1];48&n[2]?Im(r,n,r.template,n[8]):n[5]>0&&D0(n)}}function D0(t){for(let r=pc(t);null!==r;r=hc(r))for(let i=10;i<r.length;i++){const o=r[i];if(Zo(o))if(512&o[2]){const s=o[1];Im(s,o,s.template,o[8])}else o[5]>0&&D0(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=_r(n[r],t);Zo(i)&&i[5]>0&&D0(i)}}function YF(t,e){const n=_r(e,t),r=n[1];(function JF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),_0(r,n,n[8])}function Pm(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function T0(t){for(;t;){t[2]|=32;const e=js(t);if(c_(t)&&!e)return t;t=e}return null}function Rm(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Im(t,e,t.template,n)}catch(s){throw r&&iD(e,s),s}finally{i.end&&i.end()}}function x0(t,e,n){Ms(0),e(t,n)}function tD(t){return t[7]||(t[7]=[])}function nD(t){return t.cleanup||(t.cleanup=[])}function iD(t,e){const n=t[9],r=n?n.get(Kd,null):null;r&&r.handleError(e)}function M0(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],l=n[o++],c=e[s],f=t.data[s];null!==f.setInput?f.setInput(c,i,r,l):c[l]=i}}function km(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const l=e[s];"number"==typeof l?o=l:1==o?i=zo(i,l):2==o&&(r=zo(r,l+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Om(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(er(o)),Vi(o))for(let l=10;l<o.length;l++){const c=o[l],f=c[1].firstChild;null!==f&&Om(c[1],c,f,r)}const s=n.type;if(8&s)Om(t,e,n.child,r);else if(32&s){const l=ci(n,e);let c;for(;c=l();)r.push(c)}else if(16&s){const l=ue(e,n);if(Array.isArray(l))r.push(...l);else{const c=js(e[16]);Om(c[1],c,l,r,!0)}}n=i?n.projectionNext:n.next}return r}class oh{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Om(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Vi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Xp(e,r),Zu(n,r))}this._attachedToViewContainer=!1}yc(this._lView[1],this._lView)}onDestroy(e){Gw(this._lView[1],this._lView,null,e)}markForCheck(){T0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F_(t,e){Tt(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=e}}class ZF extends oh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rm(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class A0 extends nh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=bn(e);return new sh(n,this.ngModule)}}function oD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class e2{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,X_,r);return i!==X_||n===X_?i:this.parentInjector.get(e,n,r)}}class sh extends dw{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function XN(t){return t.map(ZN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return oD(this.componentDef.inputs)}get outputs(){return oD(this.componentDef.outputs)}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Xl?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new e2(e,o):e,l=s.get(rh,null);if(null===l)throw new le(407,!1);const c=s.get(RN,null),f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function kF(t,e,n){return t.selectRootElement(e,n===Vn.ShadowDom)}(f,r,this.componentDef.encapsulation):Jp(f,p,function XF(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),y=this.componentDef.onPush?288:272,_=E0(0,null,null,1,0,null,null,null,null,null),E=Am(null,_,null,y,null,null,l,f,c,s,null);let M,$;ga(E);try{const j=function r2(t,e,n,r,i,o){const s=n[1];n[22]=t;const c=Jd(s,22,2,"#host",null),f=c.mergedAttrs=e.hostAttrs;null!==f&&(km(c,f,!0),null!==t&&(ya(i,t,f),null!==c.classes&&j_(i,t,c.classes),null!==c.styles&&Hb(i,t,c.styles)));const p=r.createRenderer(t,e),g=Am(n,zw(e),null,e.onPush?32:16,n[22],c,r,p,o||null,null,null);return s.firstCreatePass&&(Fl(Nl(c,n),s,e.type),Jw(s,c),Zw(c,n.length,1)),Pm(n,g),n[22]=g}(g,this.componentDef,E,l,f);if(g)if(r)ya(f,g,["ng-version",kN.full]);else{const{attrs:Q,classes:H}=function eF(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ss(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);Q&&ya(f,g,Q),H&&H.length>0&&j_(f,g,H.join(" "))}if($=ws(_,22),void 0!==n){const Q=$.projection=[];for(let H=0;H<this.ngContentSelectors.length;H++){const se=n[H];Q.push(null!=se?Array.from(se):null)}}M=function i2(t,e,n,r){const i=n[1],o=function LF(t,e,n){const r=dr();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Xw(t,r,e,Zd(t,e,1,null),n),qw(t,r));const i=ir(e,t,r.directiveStart,r);Yn(i,e);const o=ur(r,e);return o&&Yn(o,e),i}(i,n,e);if(t[8]=n[8]=o,null!==r)for(const l of r)l(o,e);if(e.contentQueries){const l=dr();e.contentQueries(1,o,l.directiveStart)}const s=dr();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(To(s.index),Qw(n[1],s,0,s.directiveStart,s.directiveEnd,e),Yw(e,o)),o}(j,this.componentDef,E,[o2]),_0(_,E,null)}finally{xl()}return new n2(this.componentType,M,qd($,E),E,$)}}class n2 extends class TN{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new ZF(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;M0(o[1],o,i,e,n),Kw(o,this._tNode.index)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function o2(){const t=dr();ro(pe()[1],t)}function In(t){let e=function sD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Xi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new le(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=I0(t.inputs),s.declaredInputs=I0(t.declaredInputs),s.outputs=I0(t.outputs);const l=i.hostBindings;l&&u2(t,l);const c=i.viewQuery,f=i.contentQueries;if(c&&a2(t,c),f&&l2(t,f),$i(t.inputs,i.inputs),$i(t.declaredInputs,i.declaredInputs),$i(t.outputs,i.outputs),Xi(i)&&i.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const l=o[s];l&&l.ngInherit&&l(t),l===In&&(n=!1)}}e=Object.getPrototypeOf(e)}!function s2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wi(i.hostAttrs,n=wi(n,i.hostAttrs))}}(r)}function I0(t){return t===_l?{}:t===gn?[]:t}function a2(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function l2(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function u2(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Nm=null;function Sc(){if(!Nm){const t=_n.Symbol;if(t&&t.iterator)Nm=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nm=r)}}}return Nm}function ah(t){return!!P0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Sc()in t)}function P0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yn(t,e,n,r,i,o,s,l){const c=pe(),f=cn(),p=t+22,g=f.firstCreatePass?function y2(t,e,n,r,i,o,s,l,c){const f=e.consts,p=Jd(e,t,4,s||null,Xo(f,l));b0(e,n,p,Xo(f,c)),ro(e,p);const g=p.tViews=E0(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}(p,f,c,e,n,r,i,o,s):f.data[p];bo(g,!1);const y=c[11].createComment("");B(f,c,y,g),Yn(y,c),Pm(c,c[p]=eD(y,c,y,g)),md(g)&&C0(f,c,g),null!=s&&S0(c,g,l)}function Lm(t){return pa(function Ug(){return gt.lFrame.contextLView}(),22+t)}function xt(t,e,n){const r=pe();return fi(r,ha(),e)&&function uo(t,e,n,r,i,o,s,l){const c=ur(e,n);let p,f=e.inputs;!l&&null!=f&&(p=f[r])?(M0(t,n,p,r,i),gd(e)&&Kw(n,e.index)):3&e.type&&(r=function NF(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}(cn(),function On(){const t=gt.lFrame;return ws(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),xt}function R0(t,e,n,r,i){const s=i?"class":"style";M0(t,n,e.inputs[s],s,r)}function qe(t,e,n,r){const i=pe(),o=cn(),s=22+t,l=i[11],c=i[s]=Jp(l,e,function up(){return gt.lFrame.currentNamespace}()),f=o.firstCreatePass?function _2(t,e,n,r,i,o,s){const l=e.consts,f=Jd(e,t,2,i,Xo(l,o));return b0(e,n,f,Xo(l,s)),null!==f.attrs&&km(f,f.attrs,!1),null!==f.mergedAttrs&&km(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,o,i,0,e,n,r):o.data[s];bo(f,!0);const p=f.mergedAttrs;null!==p&&ya(l,c,p);const g=f.classes;null!==g&&j_(l,c,g);const y=f.styles;return null!==y&&Hb(l,c,y),64!=(64&f.flags)&&B(o,i,c,f),0===function Ts(){return gt.lFrame.elementDepthCount}()&&Yn(c,i),function Hr(){gt.lFrame.elementDepthCount++}(),md(f)&&(C0(o,i,f),Hw(o,f,i)),null!==r&&S0(i,f),qe}function at(){let t=dr();Uu()?Hu():(t=t.parent,bo(t,!1));const e=t;!function ai(){gt.lFrame.elementDepthCount--}();const n=cn();return n.firstCreatePass&&(ro(n,t),Zf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ad(t){return 0!=(16&t.flags)}(e)&&R0(n,e,pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ku(t){return 0!=(32&t.flags)}(e)&&R0(n,e,pe(),e.stylesWithoutHost,!1),at}function or(t,e,n,r){return qe(t,e,n,r),at(),or}function Gs(t,e,n){const r=pe(),i=cn(),o=t+22,s=i.firstCreatePass?function C2(t,e,n,r,i){const o=e.consts,s=Xo(o,r),l=Jd(e,t,8,"ng-container",s);return null!==s&&km(l,s,!0),b0(e,n,l,Xo(o,i)),null!==e.queries&&e.queries.elementStart(e,l),l}(o,i,r,e,n):i.data[o];bo(s,!0);const l=r[o]=r[11].createComment("");return B(i,r,l,s),Yn(l,r),md(s)&&(C0(i,r,s),Hw(i,s,r)),null!=n&&S0(r,s),Gs}function Ws(){let t=dr();const e=cn();return Uu()?Hu():(t=t.parent,bo(t,!1)),e.firstCreatePass&&(ro(e,t),Zf(t)&&e.queries.elementEnd(t)),Ws}function ls(){return pe()}function uh(t){return!!t&&"function"==typeof t.then}function yD(t){return!!t&&"function"==typeof t.subscribe}const k0=yD;function sn(t,e,n,r){const i=pe(),o=cn(),s=dr();return function _D(t,e,n,r,i,o,s,l){const c=md(r),p=t.firstCreatePass&&nD(t),g=e[8],y=tD(e);let _=!0;if(3&r.type||l){const $=ur(r,e),j=l?l($):$,Q=y.length,H=l?Re=>l(er(Re[r.index])):r.index;let se=null;if(!l&&c&&(se=function S2(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const l=e[7],c=i[o+2];return l.length>c?l[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==se)(se.__ngLastListenerFn__||se).__ngNextListenerFn__=o,se.__ngLastListenerFn__=o,_=!1;else{o=SD(r,e,g,o,!1);const Re=n.listen(j,i,o);y.push(o,Re),p&&p.push(i,H,Q,Q+1)}}else o=SD(r,e,g,o,!1);const E=r.outputs;let M;if(_&&null!==E&&(M=E[i])){const $=M.length;if($)for(let j=0;j<$;j+=2){const Ve=e[M[j]][M[j+1]].subscribe(o),_t=y.length;y.push(o,Ve),p&&p.push(i,r.index,_t,-(_t+1))}}}(o,i,i[11],s,t,e,0,r),sn}function CD(t,e,n,r){try{return!1!==n(r)}catch(i){return iD(t,i),!1}}function SD(t,e,n,r,i){return function o(s){if(s===Function)return r;T0(2&t.flags?_r(t.index,e):e);let c=CD(e,0,r,s),f=o.__ngNextListenerFn__;for(;f;)c=CD(e,0,f,s)&&c,f=f.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function zt(t=1){return function Md(t){return(gt.lFrame.contextLView=function Ml(t,e){for(;t>0;)e=e[15],t--;return e}(t,gt.lFrame.contextLView))[8]}(t)}function PD(t,e,n,r,i){const o=t[n+1],s=null===e;let l=r?as(o):Na(o),c=!1;for(;0!==l&&(!1===c||s);){const p=t[l+1];x2(t[l],e)&&(c=!0,t[l+1]=r?c0(p):l0(p)),l=r?as(p):Na(p)}c&&(t[n+1]=r?l0(o):c0(o))}function x2(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ba(t,e)>=0}const $r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RD(t){return t.substring($r.key,$r.keyEnd)}function M2(t){return t.substring($r.value,$r.valueEnd)}function OD(t,e){const n=$r.textEnd;let r=$r.key=cf(t,e,n);return n===r?-1:(r=$r.keyEnd=function R2(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=FD(t,r,n),r=$r.value=cf(t,r,n),r=$r.valueEnd=function k2(t,e,n){let r=-1,i=-1,o=-1,s=e,l=s;for(;s<n;){const c=t.charCodeAt(s++);if(59===c)return l;34===c||39===c?l=s=LD(t,c,s,n):e===s-4&&85===o&&82===i&&76===r&&40===c?l=s=LD(t,41,s,n):c>32&&(l=s),o=i,i=r,r=-33&c}return l}(t,r,n),FD(t,r,n))}function cf(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function FD(t,e,n,r){return(e=cf(t,e,n))<n&&e++,e}function LD(t,e,n,r){let i=-1,o=n;for(;o<r;){const s=t.charCodeAt(o++);if(s==e&&92!==i)return o;i=92==s&&92===i?0:s}throw new Error}function ch(t,e){return function us(t,e,n,r){const i=pe(),o=cn(),s=Do(2);o.firstUpdatePass&&VD(o,t,s,r),e!==Ut&&fi(i,s,e)&&UD(o,o.data[Mr()],i,i[11],t,i[s+1]=function U2(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=hn(lo(t)))),t}(e,n),r,s)}(t,e,null,!0),ch}function Po(t){!function cs(t,e,n,r){const i=cn(),o=Do(2);i.firstUpdatePass&&VD(i,null,o,r);const s=pe();if(n!==Ut&&fi(s,o,n)){const l=i.data[Mr()];if(zD(l,r)&&!jD(i,o)){let c=r?l.classesWithoutHost:l.stylesWithoutHost;null!==c&&(n=zo(c,n||"")),R0(i,l,s,n,r)}else!function B2(t,e,n,r,i,o,s,l){i===Ut&&(i=gn);let c=0,f=0,p=0<i.length?i[0]:null,g=0<o.length?o[0]:null;for(;null!==p||null!==g;){const y=c<i.length?i[c+1]:void 0,_=f<o.length?o[f+1]:void 0;let M,E=null;p===g?(c+=2,f+=2,y!==_&&(E=g,M=_)):null===g||null!==p&&p<g?(c+=2,E=p):(f+=2,E=g,M=_),null!==E&&UD(t,e,n,r,E,M,s,l),p=c<i.length?i[c]:null,g=f<o.length?o[f]:null}}(i,l,s,s[11],s[o+1],s[o+1]=function V2(t,e,n){if(null==n||""===n)return gn;const r=[],i=lo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(BD,O2,t,!1)}function O2(t,e){for(let n=function I2(t){return function ND(t){$r.key=0,$r.keyEnd=0,$r.value=0,$r.valueEnd=0,$r.textEnd=t.length}(t),OD(t,cf(t,0,$r.textEnd))}(e);n>=0;n=OD(e,n))BD(t,RD(e),M2(e))}function jD(t,e){return e>=t.expandoStartIndex}function VD(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Mr()],s=jD(t,n);zD(o,r)&&null===e&&!s&&(e=!1),e=function F2(t,e,n,r){const i=function xd(t){const e=gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=dh(n=N0(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=N0(i,t,e,n,r),null===o){let c=function L2(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Na(r))return t[as(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=N0(null,t,e,c[1],r),c=dh(c,e.attrs,r),function $2(t,e,n,r){t[as(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function j2(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=dh(r,t[o].hostAttrs,n);return dh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function D2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,l=as(s),c=Na(s);t[r]=n;let p,f=!1;if(Array.isArray(n)){const g=n;p=g[1],(null===p||ba(g,p)>0)&&(f=!0)}else p=n;if(i)if(0!==c){const y=as(t[l+1]);t[r+1]=Tm(y,l),0!==y&&(t[y+1]=u0(t[y+1],r)),t[l+1]=function _F(t,e){return 131071&t|e<<17}(t[l+1],r)}else t[r+1]=Tm(l,0),0!==l&&(t[l+1]=u0(t[l+1],r)),l=r;else t[r+1]=Tm(c,0),0===l?l=r:t[c+1]=u0(t[c+1],r),c=r;f&&(t[r+1]=l0(t[r+1])),PD(t,p,r,!0),PD(t,p,r,!1),function T2(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ba(o,e)>=0&&(n[r+1]=c0(n[r+1]))}(e,p,t,r,o),s=Tm(l,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function N0(t,e,n,r,i){let o=null;const s=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<s&&(o=e[l],r=dh(r,o.hostAttrs,i),o!==t);)l++;return null!==t&&(n.directiveStylingLast=l),r}function dh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zr(t,s,!!n||e[++o]))}return void 0===t?null:t}function BD(t,e,n){zr(t,e,lo(n))}function UD(t,e,n,r,i,o,s,l){if(!(3&e.type))return;const c=t.data,f=c[l+1];$m(function kw(t){return 1==(1&t)}(f)?HD(c,e,n,i,Na(f),s):void 0)||($m(o)||function Rw(t){return 2==(2&t)}(f)&&(o=HD(c,null,n,i,l,s)),function $_(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ei.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ei.Important),t.setStyle(n,r,i,o))}}(r,s,fa(Mr(),n),i,o))}function HD(t,e,n,r,i,o){const s=null===e;let l;for(;i>0;){const c=t[i],f=Array.isArray(c),p=f?c[1]:c,g=null===p;let y=n[i+1];y===Ut&&(y=g?gn:void 0);let _=g?Nd(y,r):p===r?y:void 0;if(f&&!$m(_)&&(_=Nd(c,r)),$m(_)&&(l=_,s))return l;const E=t[i+1];i=s?as(E):Na(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(l=Nd(c,r))}return l}function $m(t){return void 0!==t}function zD(t,e){return 0!=(t.flags&(e?16:32))}function pn(t,e=""){const n=pe(),r=cn(),i=t+22,o=r.firstCreatePass?Jd(r,i,1,e,null):r.data[i],s=n[i]=function gc(t,e){return t.createText(e)}(n[11],e);B(r,n,s,o),bo(o,!1)}function pi(t){return bc("",t,""),pi}function bc(t,e,n){const r=pe(),i=function ef(t,e,n,r){return fi(t,ha(),n)?e+Et(n)+r:Ut}(r,t,e,n);return i!==Ut&&function Fa(t,e,n){const r=fa(e,t);!function Qp(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Mr(),i),bc}const ff="en-US";let f1=ff;function $0(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)$0(t[o],e,n,r,i);else{const o=cn(),s=pe();let l=Cc(t)?t:pt(t.provide),c=cw(t);const f=dr(),p=1048575&f.providerIndexes,g=f.directiveStart,y=f.providerIndexes>>20;if(Cc(t)||!t.multi){const _=new Ps(c,i,oe),E=V0(l,e,i?p:p+y,g);-1===E?(Fl(Nl(f,s),o,l),j0(o,t,e.length),e.push(l),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),n.push(_),s.push(_)):(n[E]=_,s[E]=_)}else{const _=V0(l,e,p+y,g),E=V0(l,e,p,p+y),M=_>=0&&n[_],$=E>=0&&n[E];if(i&&!$||!i&&!M){Fl(Nl(f,s),o,l);const j=function s$(t,e,n,r,i){const o=new Ps(t,n,oe);return o.multi=[],o.index=e,o.componentProviders=0,L1(o,i,r&&!n),o}(i?o$:i$,n.length,i,r,c);!i&&$&&(n[E].providerFactory=j),j0(o,t,e.length,0),e.push(l),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),n.push(j),s.push(j)}else j0(o,t,_>-1?_:E,L1(n[i?E:_],c,!i&&r));!i&&r&&$&&n[E].componentProviders++}}}function j0(t,e,n,r){const i=Cc(e),o=function vN(t){return!!t.useClass}(e);if(i||o){const c=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const p=f.indexOf(n);-1===p?f.push(n,[r,c]):f[p+1].push(r,c)}else f.push(n,c)}}}function L1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function V0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function i$(t,e,n,r){return B0(this.multi,[])}function o$(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=ir(n,n[1],this.providerFactory.index,r);o=l.slice(0,s),B0(i,o);for(let c=s;c<l.length;c++)o.push(l[c])}else o=[],B0(i,o);return o}function B0(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Jn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function r$(t,e,n){const r=cn();if(r.firstCreatePass){const i=Xi(t);$0(n,r.data,r.blueprint,i,!0),$0(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Dc{}class $1{}class j1 extends Dc{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A0(this);const r=Si(e);this._bootstrapComponents=Oa(r.bootstrap),this._r3Injector=ww(e,n,[{provide:Dc,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],hn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class U0 extends $1{constructor(e){super(),this.moduleType=e}create(e){return new j1(this.moduleType,e)}}class l$ extends Dc{constructor(e,n,r){super(),this.componentFactoryResolver=new A0(this),this.instance=null;const i=new uw([...e,{provide:Dc,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],n||wm(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Hm(t,e,n=null){return new l$(t,e,n).injector}let u$=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=ow(0,n.type),i=r.length>0?Hm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=nt({token:t,providedIn:"environment",factory:()=>new t(Oe(Xl))}),t})();function V1(t){t.getStandaloneInjector=e=>e.get(u$).getOrCreateStandaloneInjector(t)}function q1(t,e,n,r,i,o){const s=e+n;return fi(t,s,i)?function Hs(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function yh(t,e){const n=t[e];return n===Ut?void 0:n}(t,s+1)}function La(t,e){const n=cn();let r;const i=t+22;n.firstCreatePass?(r=function M$(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bs(r.type)),s=vr(oe);try{const l=Ol(!1),c=o();return Ol(l),function v2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,pe(),i,c),c}finally{vr(s)}}function $a(t,e,n){const r=t+22,i=pe(),o=pa(i,r);return function vh(t,e){return t[1].data[e].pure}(i,r)?q1(i,function xr(){const t=gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}function z0(t){return e=>{setTimeout(t,void 0,e)}}const sr=class k$ extends Ft{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=z0(o),i&&(i=z0(i)),s&&(s=z0(s)));const l=super.subscribe({next:i,error:o,complete:s});return e instanceof L&&e.add(l),l}};function O$(){return this._results[Sc()]()}class G0{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Sc(),r=G0.prototype;r[n]||(r[n]=O$)}get changes(){return this._changes||(this._changes=new sr)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=Bn(e);(this._changesDetected=!function T_(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=L$,t})();const N$=ja,F$=class extends N${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Am(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),_0(r,i,e),new oh(i)}};function L$(){return zm(dr(),pe())}function zm(t,e){return 4&t.type?new F$(e,t,qd(t,e)):null}let ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=$$,t})();function $$(){return eT(dr(),pe())}const j$=ds,Z1=class extends j${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const e=va(this._hostTNode,this._hostLView);if(kl(e)){const n=so(e,this._hostLView),r=Hi(e);return new ks(n[1].data[r+8],n)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=X1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(e,n,r,i,o){const s=e&&!function Ju(t){return"function"==typeof t}(e);let l;if(s)l=n;else{const g=n||{};l=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new sh(bn(e)),f=r||this.parentInjector;if(!o&&null==c.ngModule){const y=(s?f:this.parentInjector).get(Xl,null);y&&(o=y)}const p=c.create(f,i,void 0,o);return this.insert(p.hostView,l),p}insert(e,n){const r=e._lView,i=r[1];if(function bd(t){return Vi(t[3])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const g=r[3],y=new Z1(g,g[6],g[3]);y.detach(y.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function ym(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],_p(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function L_(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const l=e[19];null!==l&&l.insertView(t),e[2]|=64}(i,r,s,o);const l=he(o,s),c=r[11],f=Fe(c,s[7]);return null!==f&&function mc(t,e,n,r,i,o){r[0]=i,r[6]=e,Tt(t,r,n,1,i,o)}(i,s[6],c,r,f,l),e.attachToViewContainerRef(),_p(W0(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=X1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Xp(this._lContainer,n);r&&(Zu(W0(this._lContainer),n),yc(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Xp(this._lContainer,n);return r&&null!=Zu(W0(this._lContainer),n)?new oh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function X1(t){return t[8]}function W0(t){return t[8]||(t[8]=[])}function eT(t,e){let n;const r=e[t.index];if(Vi(r))n=r;else{let i;if(8&t.type)i=er(r);else{const o=e[11];i=o.createComment("");const s=ur(t,e);v(o,Fe(o,s),i,function kt(t,e){return t.nextSibling(e)}(o,s),!1)}e[t.index]=n=eD(r,e,i,t),Pm(e,n)}return new Z1(n,t,e)}class q0{constructor(e){this.queryList=e,this.matches=null}clone(){return new q0(this.queryList)}setDirty(){this.queryList.setDirty()}}class K0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new K0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==oT(e,n).matches&&this.queries[n].setDirty()}}class tT{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Q0{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Q0(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Y0{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Y0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,U$(n,o)),this.matchTNodeWithReadOption(e,n,Sr(n,e,o,!1,!1))}else r===ja?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Sr(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===di||i===ds||i===ja&&4&n.type)this.addMatch(n.index,-2);else{const o=Sr(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function U$(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function z$(t,e,n,r){return-1===n?function H$(t,e){return 11&t.type?qd(t,e):4&t.type?zm(t,e):null}(e,t):-2===n?function G$(t,e,n){return n===di?qd(e,t):n===ja?zm(e,t):n===ds?eT(e,t):void 0}(t,e,r):ir(t,t[1],n,e)}function nT(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const o=t.data,s=n.matches,l=[];for(let c=0;c<s.length;c+=2){const f=s[c];l.push(f<0?null:z$(e,o[f],s[c+1],n.metadata.read))}i.matches=l}return i.matches}function J0(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=nT(t,e,i,n);for(let l=0;l<o.length;l+=2){const c=o[l];if(c>0)r.push(s[l/2]);else{const f=o[l+1],p=e[-c];for(let g=10;g<p.length;g++){const y=p[g];y[17]===y[3]&&J0(y[1],y,f,r)}if(null!==p[9]){const g=p[9];for(let y=0;y<g.length;y++){const _=g[y];J0(_[1],_,f,r)}}}}}return r}function _h(t){const e=pe(),n=cn(),r=Fr();Ms(r+1);const i=oT(n,r);if(t.dirty&&function Bu(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?J0(n,e,r,[]):nT(n,e,i,r);t.reset(o,IN),t.notifyOnChanges()}return!0}return!1}function Z0(t,e,n){const r=cn();r.firstCreatePass&&(function iT(t,e,n){null===t.queries&&(t.queries=new Q0),t.queries.track(new Y0(e,n))}(r,new tT(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function rT(t,e,n){const r=new G0(4==(4&n));Gw(t,e,r,r.destroy),null===e[19]&&(e[19]=new K0),e[19].queries.push(new q0(r))}(r,pe(),e)}function Ch(){return function W$(t,e){return t[19].queries[e].queryList}(pe(),Fr())}function oT(t,e){return t.queries.getByIndex(e)}function Gm(t,e){return zm(t,e)}function qm(...t){}const Km=new ct("Application Initializer");let Qm=(()=>{class t{constructor(n){this.appInits=n,this.resolve=qm,this.reject=qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(uh(o))n.push(o);else if(k0(o)){const s=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Oe(Km,8))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Eh=new ct("AppId",{providedIn:"root",factory:function wT(){return`${iC()}${iC()}${iC()}`}});function iC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DT=new ct("Platform Initializer"),oC=new ct("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TT=new ct("appBootstrapListener"),xT=new ct("AnimationModuleType");let pj=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Va=new ct("LocaleId",{providedIn:"root",factory:()=>Un(Va,St.Optional|St.SkipSelf)||function hj(){return typeof $localize<"u"&&$localize.locale||ff}()});class mj{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let sC=(()=>{class t{compileModuleSync(n){return new U0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Oa(Si(n).declarations).reduce((s,l)=>{const c=bn(l);return c&&s.push(new sh(c)),s},[]);return new mj(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _j=(()=>Promise.resolve(0))();function aC(t){typeof Zone>"u"?_j.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sr(!1),this.onMicrotaskEmpty=new sr(!1),this.onStable=new sr(!1),this.onError=new sr(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Cj(){let t=_n.requestAnimationFrame,e=_n.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bj(t){const e=()=>{!function Ej(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uC(t),t.isCheckStableRunning=!0,lC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,l)=>{try{return IT(t),n.invokeTask(i,o,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),PT(t)}},onInvoke:(n,r,i,o,s,l,c)=>{try{return IT(t),n.invoke(i,o,s,l,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),PT(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,uC(t),lC(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zn.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Zn.isInAngularZone())throw new le(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Sj,qm,qm);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Sj={};function lC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function IT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PT(t){t._nesting--,lC(t)}class wj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sr,this.onMicrotaskEmpty=new sr,this.onStable=new sr,this.onError=new sr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const RT=new ct(""),Ym=new ct("");let fC,cC=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fC||(function Dj(t){fC=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zn.assertNotInAngularZone(),aC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())aC(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Oe(Zn),Oe(dC),Oe(Ym))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),dC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fC?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),nu=null;const kT=new ct("AllowMultipleToken"),pC=new ct("PlatformDestroyListeners");class OT{constructor(e,n){this.name=e,this.token=n}}function FT(t,e,n=[]){const r=`Platform: ${e}`,i=new ct(r);return(o=[])=>{let s=hC();if(!s||s.injector.get(kT,!1)){const l=[...n,...o,{provide:i,useValue:!0}];t?t(l):function Mj(t){if(nu&&!nu.get(kT,!1))throw new le(400,!1);nu=t;const e=t.get($T);(function NT(t){const e=t.get(DT,null);e&&e.forEach(n=>n())})(t)}(function LT(t=[],e){return Gi.create({name:e,providers:[{provide:Q_,useValue:"platform"},{provide:pC,useValue:new Set([()=>nu=null])},...t]})}(l,r))}return function Ij(t){const e=hC();if(!e)throw new le(401,!1);return e}()}}function hC(){return nu?.get($T)??null}let $T=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function VT(t,e){let n;return n="noop"===t?new wj:("zone.js"===t?void 0:t)||new Zn(e),n}(r?.ngZone,function jT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Zn,useValue:i}];return i.run(()=>{const s=Gi.create({providers:o,parent:this.injector,name:n.moduleType.name}),l=n.create(s),c=l.injector.get(Kd,null);if(!c)throw new le(402,!1);return i.runOutsideAngular(()=>{const f=i.onError.subscribe({next:p=>{c.handleError(p)}});l.onDestroy(()=>{Jm(this._modules,l),f.unsubscribe()})}),function BT(t,e,n){try{const r=n();return uh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const f=l.injector.get(Qm);return f.runInitializers(),f.donePromise.then(()=>(function p1(t){Zt(t,"Expected localeId to be defined"),"string"==typeof t&&(f1=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Va,ff)||ff),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=UT({},r);return function Tj(t,e,n){const r=new U0(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(bh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new le(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(pC,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Oe(Gi))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function UT(t,e){return Array.isArray(e)?e.reduce(UT,t):{...t,...e}}let bh=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ve(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),s=new ve(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Zn.assertNotInAngularZone(),aC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{Zn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=function Du(...t){const e=dl(t),n=function Ig(t,e){return"number"==typeof ia(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Br(r[0]):Qr(n)(Te(r,e)):lr}(o,s.pipe(function vi(t={}){const{connector:e=(()=>new Ft),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,l,c,f=0,p=!1,g=!1;const y=()=>{l?.unsubscribe(),l=void 0},_=()=>{y(),s=c=void 0,p=g=!1},E=()=>{const M=s;_(),M?.unsubscribe()};return tn((M,$)=>{f++,!g&&!p&&y();const j=c=c??e();$.add(()=>{f--,0===f&&!g&&!p&&(l=_i(E,i))}),j.subscribe($),!s&&f>0&&(s=new Ct({next:Q=>j.next(Q),error:Q=>{g=!0,y(),l=_i(_,n,Q),j.error(Q)},complete:()=>{p=!0,y(),l=_i(_,r),j.complete()}}),Br(M).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dw;if(!this._injector.get(Qm).done)throw!i&&function El(t){const e=bn(t)||Yr(t)||Or(t);return null!==e&&e.standalone}(n),new le(405,false);let s;s=i?n:this._injector.get(nh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function xj(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Dc),f=s.create(Gi.NULL,[],r||s.selector,l),p=f.location.nativeElement,g=f.injector.get(RT,null);return g?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Jm(this.components,f),g?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Jm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(TT,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(Oe(Zn),Oe(Xl),Oe(Kd))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let zT=!0,wh=(()=>{class t{}return t.__NG_ELEMENT_ID__=kj,t})();function kj(t){return function Oj(t,e,n){if(gd(t)&&!n){const r=_r(t.index,e);return new oh(r,r)}return 47&t.type?new oh(e[16],e):null}(dr(),pe(),16==(16&t))}class QT{constructor(){}supports(e){return ah(e)}create(e){return new Vj(e)}}const jj=(t,e)=>e;class Vj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jj}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<JT(r,i,o)?n:r,l=JT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const f=l-i,p=c-i;if(f!=p){for(let y=0;y<f;y++){const _=y<o.length?o[y]:o[y]=0,E=_+y;p<=E&&E<f&&(o[y]=_+1)}o[s.previousIndex]=p-f}}l!==c&&e(s,l,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ah(e))throw new le(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],s=this._trackByFn(l,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,l),r=!0),n=n._next}else i=0,function h2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Sc()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,l=>{s=this._trackByFn(i,l),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,l,s,i)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Bj(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new YT),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Bj{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Uj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class YT{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Uj,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JT(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ZT{constructor(){}supports(e){return e instanceof Map||P0(e)}create(){return new Hj}}class Hj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||P0(e)))throw new le(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new zj(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class zj{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XT(){return new ey([new QT])}let ey=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||XT()),deps:[[t,new nc,new Da]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new le(901,!1)}}return t.\u0275prov=nt({token:t,providedIn:"root",factory:XT}),t})();function ex(){return new Dh([new ZT])}let Dh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ex()),deps:[[t,new nc,new Da]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new le(901,!1)}}return t.\u0275prov=nt({token:t,providedIn:"root",factory:ex}),t})();const qj=FT(null,"core",[]);let Kj=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Oe(bh))},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({}),t})();let ty=null;function Ks(){return ty}const jr=new ct("DocumentToken");let _C=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:function(){return function Zj(){return Oe(tx)}()},providedIn:"platform"}),t})();const Xj=new ct("Location Initialized");let tx=(()=>{class t extends _C{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){nx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){nx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:function(){return function eV(){return new tx(Oe(jr))}()},providedIn:"platform"}),t})();function nx(){return!!window.history.pushState}function CC(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ha(t){return t&&"?"!==t[0]?"?"+t:t}let xc=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:function(){return Un(ox)},providedIn:"root"}),t})();const ix=new ct("appBaseHref");let ox=(()=>{class t extends xc{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Un(jr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return CC(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ha(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ha(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ha(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(_C),Oe(ix,8))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tV=(()=>{class t extends xc{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=CC(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ha(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ha(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(_C),Oe(ix,8))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),SC=(()=>{class t{constructor(n){this._subject=new sr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=rx(sx(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ha(r))}normalize(n){return t.stripTrailingSlash(function rV(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,sx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ha(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ha(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ha,t.joinWithSlash=CC,t.stripTrailingSlash=rx,t.\u0275fac=function(n){return new(n||t)(Oe(xc))},t.\u0275prov=nt({token:t,factory:function(){return function nV(){return new SC(Oe(xc))}()},providedIn:"root"}),t})();function sx(t){return t.replace(/\/index.html$/,"")}function gx(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class UV{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mc=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new UV(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const l=r.get(o);r.move(l,s),vx(l,i)}});for(let i=0,o=r.length;i<o;i++){const l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{vx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(oe(ds),oe(ja),oe(ey))},t.\u0275dir=bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function vx(t,e){t.context.$implicit=e.item}let Ac=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new zV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_x("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_x("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(oe(ds),oe(ja))},t.\u0275dir=bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class zV{constructor(){this.$implicit=null,this.ngIf=null}}function _x(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${hn(e)}'.`)}class PC{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let dy=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=bt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Cx=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new PC(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(n){return new(n||t)(oe(ds),oe(ja),oe(dy,9))},t.\u0275dir=bt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Sx=(()=>{class t{constructor(n,r,i){i._addDefault(new PC(n,r))}}return t.\u0275fac=function(n){return new(n||t)(oe(ds),oe(ja),oe(dy,9))},t.\u0275dir=bt({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class KV{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class QV{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const YV=new QV,JV=new KV;let bx=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(uh(n))return YV;if(yD(n))return JV;throw function hs(t,e){return new le(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(oe(wh,16))},t.\u0275pipe=si({name:"async",type:t,pure:!1,standalone:!0}),t})(),wx=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=si({name:"json",type:t,pure:!1,standalone:!0}),t})(),Mh=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Dx}transform(n,r=Dx){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(function a3(t,e){return{key:t,value:e}}(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return t.\u0275fac=function(n){return new(n||t)(oe(Dh,16))},t.\u0275pipe=si({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function Dx(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let f3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({}),t})();let m3=(()=>{class t{}return t.\u0275prov=nt({token:t,providedIn:"root",factory:()=>new y3(Oe(jr),window)}),t})();class y3{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function v3(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xx(this.window.history)||xx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Mx{}class FC extends class F3 extends class Jj{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Yj(t){ty||(ty=t)}(new FC)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function L3(){return Ih=Ih||document.querySelector("base"),Ih?Ih.getAttribute("href"):null}();return null==n?null:function $3(t){py=py||document.createElement("a"),py.setAttribute("href",t);const e=py.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ih=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gx(document.cookie,e)}}let py,Ih=null;const Rx=new ct("TRANSITION_ID"),V3=[{provide:Km,useFactory:function j3(t,e,n){return()=>{n.get(Qm).donePromise.then(()=>{const r=Ks(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Rx,jr,Gi],multi:!0}];let U3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const hy=new ct("EventManagerPlugins");let gy=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Oe(hy),Oe(Zn))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();class kx{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ks().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Ox=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),Ph=(()=>{class t extends Ox{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Nx),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Nx))}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();function Nx(t){Ks().remove(t)}const LC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$C=/%COMP%/g;function my(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?my(t,i,n):(i=i.replace($C,t),n.push(i))}return n}function $x(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let yy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new jC(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Vn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new K3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Vn.ShadowDom:return new Q3(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=my(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Oe(gy),Oe(Ph),Oe(Eh))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();class jC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(LC[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Vx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=LC[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=LC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ei.DashCase|ei.Important)?e.style.setProperty(n,r,i&ei.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ei.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,$x(r)):this.eventManager.addEventListener(e,n,$x(r))}}function Vx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class K3 extends jC{constructor(e,n,r,i){super(e),this.component=r;const o=my(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function G3(t){return"_ngcontent-%COMP%".replace($C,t)}(i+"-"+r.id),this.hostAttr=function W3(t){return"_nghost-%COMP%".replace($C,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Q3 extends jC{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=my(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const l=document.createElement("style");l.textContent=o[s],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Y3=(()=>{class t extends kx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const Bx=["alt","control","meta","shift"],J3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let X3=(()=>{class t extends kx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),Bx.forEach(f=>{const p=r.indexOf(f);p>-1&&(r.splice(p,1),s+=f+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=J3[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Bx.forEach(s=>{s!==i&&(0,Z3[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const Hx=[{provide:oC,useValue:"browser"},{provide:DT,useValue:function eB(){FC.makeCurrent()},multi:!0},{provide:jr,useFactory:function nB(){return function UO(t){B_=t}(document),document},deps:[]}],rB=FT(qj,"browser",Hx),zx=new ct(""),Gx=[{provide:Ym,useClass:class B3{addToWindow(e){_n.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},_n.getAllAngularTestabilities=()=>e.getAllTestabilities(),_n.getAllAngularRootElements=()=>e.getAllRootElements(),_n.frameworkStabilizers||(_n.frameworkStabilizers=[]),_n.frameworkStabilizers.push(r=>{const i=_n.getAllAngularTestabilities();let o=i.length,s=!1;const l=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ks().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:RT,useClass:cC,deps:[Zn,dC,Ym]},{provide:cC,useClass:cC,deps:[Zn,dC,Ym]}],Wx=[{provide:Q_,useValue:"root"},{provide:Kd,useFactory:function tB(){return new Kd},deps:[]},{provide:hy,useClass:Y3,multi:!0,deps:[jr,Zn,oC]},{provide:hy,useClass:X3,multi:!0,deps:[jr]},{provide:yy,useClass:yy,deps:[gy,Ph,Eh]},{provide:rh,useExisting:yy},{provide:Ox,useExisting:Ph},{provide:Ph,useClass:Ph,deps:[jr]},{provide:gy,useClass:gy,deps:[hy,Zn]},{provide:Mx,useClass:U3,deps:[]},[]];let qx=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Eh,useValue:n.appId},{provide:Rx,useExisting:Eh},V3]}}}return t.\u0275fac=function(n){return new(n||t)(Oe(zx,12))},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({providers:[...Wx,...Gx],imports:[f3,Kj]}),t})(),Kx=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:function(n){let r=null;return r=n?new n:function oB(){return new Kx(Oe(jr))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Jx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:function(n){let r=null;return r=n?new(n||t):Oe(Zx),r},providedIn:"root"}),t})(),Zx=(()=>{class t extends Jx{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ln.NONE:return r;case Ln.HTML:return Bs(r,"HTML")?lo(r):ew(this._doc,String(r)).toString();case Ln.STYLE:return Bs(r,"Style")?lo(r):r;case Ln.SCRIPT:if(Bs(r,"Script"))return lo(r);throw new Error("unsafe value used in a script context");case Ln.URL:return Bs(r,"URL")?lo(r):Cm(String(r));case Ln.RESOURCE_URL:if(Bs(r,"ResourceURL"))return lo(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function QO(t){return new HO(t)}(n)}bypassSecurityTrustStyle(n){return function YO(t){return new zO(t)}(n)}bypassSecurityTrustScript(n){return function JO(t){return new GO(t)}(n)}bypassSecurityTrustUrl(n){return function ZO(t){return new WO(t)}(n)}bypassSecurityTrustResourceUrl(n){return function XO(t){return new qO(t)}(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr))},t.\u0275prov=nt({token:t,factory:function(n){let r=null;return r=n?new n:function fB(t){return new Zx(t.get(jr))}(Oe(Gi)),r},providedIn:"root"}),t})();const{isArray:pB}=Array,{getPrototypeOf:hB,prototype:gB,keys:mB}=Object;function Xx(t){if(1===t.length){const e=t[0];if(pB(e))return{args:e,keys:null};if(function yB(t){return t&&"object"==typeof t&&hB(t)===gB}(e)){const n=mB(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:vB}=Array;function UC(t){return Ie(e=>function _B(t,e){return vB(e)?t(...e):t(e)}(t,e))}function eM(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let tM=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(oe(ka),oe(di))},t.\u0275dir=bt({type:t}),t})(),Ic=(()=>{class t extends tM{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qn(t)))(r||t)}}(),t.\u0275dir=bt({type:t,features:[In]}),t})();const Qs=new ct("NgValueAccessor"),SB={provide:Qs,useExisting:En(()=>HC),multi:!0};let HC=(()=>{class t extends Ic{writeValue(n){this.setProperty("checked",n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qn(t)))(r||t)}}(),t.\u0275dir=bt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&sn("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Jn([SB]),In]}),t})();const EB={provide:Qs,useExisting:En(()=>gf),multi:!0},wB=new ct("CompositionEventMode");let gf=(()=>{class t extends tM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bB(){const t=Ks()?Ks().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(oe(ka),oe(di),oe(wB,8))},t.\u0275dir=bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&sn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Jn([EB]),In]}),t})();const gi=new ct("NgValidators"),ou=new ct("NgAsyncValidators");function dM(t){return null!=t}function fM(t){return uh(t)?Te(t):t}function pM(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function hM(t,e){return e.map(n=>n(t))}function gM(t){return t.map(e=>function xB(t){return!t.validate}(e)?e:n=>e.validate(n))}function zC(t){return null!=t?function mM(t){if(!t)return null;const e=t.filter(dM);return 0==e.length?null:function(n){return pM(hM(n,e))}}(gM(t)):null}function GC(t){return null!=t?function yM(t){if(!t)return null;const e=t.filter(dM);return 0==e.length?null:function(n){return function CB(...t){const e=Uf(t),{args:n,keys:r}=Xx(t),i=new ve(o=>{const{length:s}=n;if(!s)return void o.complete();const l=new Array(s);let c=s,f=s;for(let p=0;p<s;p++){let g=!1;Br(n[p]).subscribe(Dn(o,y=>{g||(g=!0,f--),l[p]=y},()=>c--,void 0,()=>{(!c||!g)&&(f||o.next(r?eM(r,l):l),o.complete())}))}});return e?i.pipe(UC(e)):i}(hM(n,e).map(fM)).pipe(Ie(pM))}}(gM(t)):null}function vM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WC(t){return t?Array.isArray(t)?t:[t]:[]}function _y(t,e){return Array.isArray(t)?t.includes(e):t===e}function SM(t,e){const n=WC(e);return WC(t).forEach(i=>{_y(n,i)||n.push(i)}),n}function EM(t,e){return WC(e).filter(n=>!_y(t,n))}class bM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ai extends bM{get formDirective(){return null}get path(){return null}}class su extends bM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cy=(()=>{class t extends wM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(oe(su,2))},t.\u0275dir=bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ch("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[In]}),t})(),DM=(()=>{class t extends wM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(oe(Ai,10))},t.\u0275dir=bt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ch("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[In]}),t})();const Rh="VALID",Ey="INVALID",mf="PENDING",kh="DISABLED";function YC(t){return(by(t)?t.validators:t)||null}function xM(t){return Array.isArray(t)?zC(t):t||null}function JC(t,e){return(by(e)?e.asyncValidators:t)||null}function MM(t){return Array.isArray(t)?GC(t):t||null}function by(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class PM{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=xM(this._rawValidators),this._composedAsyncValidatorFn=MM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rh}get invalid(){return this.status===Ey}get pending(){return this.status==mf}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=MM(e)}addValidators(e){this.setValidators(SM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(EM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(EM(e,this._rawAsyncValidators))}hasValidator(e){return _y(this._rawValidators,e)}hasAsyncValidator(e){return _y(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rh||this.status===mf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mf,this._hasOwnPendingAsyncValidator=!0;const n=fM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new sr,this.statusChanges=new sr}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mf)?mf:this._anyControlsHaveStatus(Ey)?Ey:Rh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){by(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ZC extends PM{constructor(e,n,r){super(YC(n),JC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function IM(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new le(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function AM(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new le(1e3,"");if(!r[n])throw new le(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Oh(t,e){XC(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function FB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&RM(t,e)})}(t,e),function $B(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function LB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&RM(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function NB(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ty(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function XC(t,e){const n=function _M(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(vM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function CM(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(vM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ty(e._rawValidators,i),Ty(e._rawAsyncValidators,i)}function RM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const HB={provide:Ai,useExisting:En(()=>My)},Nh=(()=>Promise.resolve())();let My=(()=>{class t extends Ai{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new sr,this.form=new ZC({},zC(n),GC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Nh.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Oh(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Nh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Nh.then(()=>{const r=this._findContainer(n.path),i=new ZC({});(function kM(t,e){XC(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Nh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Nh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function NM(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(oe(gi,10),oe(ou,10))},t.\u0275dir=bt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&sn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([HB]),In]}),t})();function FM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function LM(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const $M=class extends PM{constructor(e=null,n,r){super(YC(n),JC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),by(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=LM(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},WB={provide:su,useExisting:En(()=>Fh)},BM=(()=>Promise.resolve())();let Fh=(()=>{class t extends su{constructor(n,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new $M,this._registered=!1,this.update=new sr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===gf?n=o:function BB(t){return Object.getPrototypeOf(t.constructor)===Ic}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function eS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){BM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Ua(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);BM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wy(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(oe(Ai,9),oe(gi,10),oe(ou,10),oe(Qs,10),oe(wh,8))},t.\u0275dir=bt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([WB]),In,Zr]}),t})(),UM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=bt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),zM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({}),t})();const nU={provide:Qs,useExisting:En(()=>Ay),multi:!0};function JM(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ay=(()=>{class t extends Ic{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=JM(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function rU(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qn(t)))(r||t)}}(),t.\u0275dir=bt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&sn("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jn([nU]),In]}),t})(),oS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(JM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(oe(di),oe(ka),oe(Ay,9))},t.\u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const iU={provide:Qs,useExisting:En(()=>sS),multi:!0};function ZM(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sS=(()=>{class t extends Ic{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let l=0;l<s.length;l++){const f=this._getOptionValue(s[l].value);i.push(f)}}else{const s=r.options;for(let l=0;l<s.length;l++){const c=s[l];if(c.selected){const f=this._getOptionValue(c.value);i.push(f)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function oU(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qn(t)))(r||t)}}(),t.\u0275dir=bt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&sn("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jn([iU]),In]}),t})(),aS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(ZM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ZM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(oe(di),oe(ka),oe(sS,9))},t.\u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),hU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({imports:[zM]}),t})(),gU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({imports:[hU]}),t})();function ce(...t){return Te(t,dl(t))}class mi extends Ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Iy=Se(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Cn(...t){const e=dl(t),n=Uf(t),{args:r,keys:i}=Xx(t);if(0===r.length)return Te([],e);const o=new ve(function yU(t,e,n=ie){return r=>{lA(e,()=>{const{length:i}=t,o=new Array(i);let s=i,l=i;for(let c=0;c<i;c++)lA(e,()=>{const f=Te(t[c],e);let p=!1;f.subscribe(Dn(r,g=>{o[c]=g,p||(p=!0,l--),l||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>eM(i,s):ie));return n?o.pipe(UC(n)):o}function lA(t,e,n){t?Li(n,t,e):e()}function Py(...t){return function vU(){return Qr(1)}()(Te(t,dl(t)))}function uA(t){return new ve(e=>{Br(t()).subscribe(e)})}function Lh(t,e){const n=de(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function uS(){return tn((t,e)=>{let n=null;t._refCount++;const r=Dn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class cA extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oi(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new L;const n=this.getSubject();e.add(this.source.subscribe(Dn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=L.EMPTY)}return e}refCount(){return uS()(this)}}function Ke(t,e){return tn((n,r)=>{let i=null,o=0,s=!1;const l=()=>s&&!i&&r.complete();n.subscribe(Dn(r,c=>{i?.unsubscribe();let f=0;const p=o++;Br(t(c,p)).subscribe(i=Dn(r,g=>r.next(e?e(c,g,p,f++):g),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Rc(t){return t<=0?()=>lr:tn((e,n)=>{let r=0;e.subscribe(Dn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ga(t,e){return tn((n,r)=>{let i=0;n.subscribe(Dn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ry(t){return tn((e,n)=>{let r=!1;e.subscribe(Dn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dA(t=CU){return tn((e,n)=>{let r=!1;e.subscribe(Dn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function CU(){return new Iy}function Hn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ga((i,o)=>t(i,o,r)):ie,Rc(1),n?Ry(e):dA(()=>new Iy))}function Ii(t,e){return de(e)?mt(t,e,1):mt(t,1)}function ni(t,e,n){const r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?tn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let l=!0;i.subscribe(Dn(o,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),o.next(c)},()=>{var c;l=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var f;l=!1,null===(f=r.error)||void 0===f||f.call(r,c),o.error(c)},()=>{var c,f;l&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ie}function gs(t){return tn((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Dn(n,void 0,void 0,s=>{o=Br(t(s,gs(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function SU(t,e,n,r,i){return(o,s)=>{let l=n,c=e,f=0;o.subscribe(Dn(s,p=>{const g=f++;c=l?t(c,p,g):(l=!0,p),r&&s.next(c)},i&&(()=>{l&&s.next(c),s.complete()})))}}function fA(t,e){return tn(SU(t,e,arguments.length>=2,!0))}function cS(t){return t<=0?()=>lr:tn((e,n)=>{let r=[];e.subscribe(Dn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pA(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ga((i,o)=>t(i,o,r)):ie,cS(1),n?Ry(e):dA(()=>new Iy))}function $h(t,e=!1){return tn((n,r)=>{let i=0;n.subscribe(Dn(r,o=>{const s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function hA(t){return Ie(()=>t)}function dS(t){return tn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const nn="primary",jh=Symbol("RouteTitle");class EU{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function yf(t){return new EU(t)}function bU(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],l=t[o];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ys(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gA(t[i],e[i]))return!1;return!0}function gA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function mA(t){return Array.prototype.concat.apply([],t)}function yA(t){return t.length>0?t[t.length-1]:null}function ri(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function au(t){return k0(t)?t:uh(t)?Te(Promise.resolve(t)):ce(t)}const TU={exact:function CA(t,e,n){if(!Oc(t.segments,e.segments)||!ky(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CA(t.children[r],e.children[r],n))return!1;return!0},subset:SA},vA={exact:function xU(t,e){return Ys(t,e)},subset:function MU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gA(t[n],e[n]))},ignored:()=>!0};function _A(t,e,n){return TU[n.paths](t.root,e.root,n.matrixParams)&&vA[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function SA(t,e,n){return EA(t,e,e.segments,n)}function EA(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Oc(i,n)||e.hasChildren()||!ky(i,n,r))}if(t.segments.length===n.length){if(!Oc(t.segments,n)||!ky(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!SA(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Oc(t.segments,i)&&ky(t.segments,i,r)&&t.children[nn])&&EA(t.children[nn],e,o,r)}}function ky(t,e,n){return e.every((r,i)=>vA[n](t[i].parameters,r.parameters))}class kc{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yf(this.queryParams)),this._queryParamMap}toString(){return PU.serialize(this)}}class an{constructor(e,n){this.segments=e,this.children=n,this.parent=null,ri(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oy(this)}}class Vh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=yf(this.parameters)),this._parameterMap}toString(){return TA(this)}}function Oc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let bA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:function(){return new pS},providedIn:"root"}),t})();class pS{parse(e){const n=new VU(e);return new kc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bh(e.root,!0)}`,r=function OU(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ny(n)}=${Ny(i)}`).join("&"):`${Ny(n)}=${Ny(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function RU(t){return encodeURI(t)}(e.fragment)}`:""}`}}const PU=new pS;function Oy(t){return t.segments.map(e=>TA(e)).join("/")}function Bh(t,e){if(!t.hasChildren())return Oy(t);if(e){const n=t.children[nn]?Bh(t.children[nn],!1):"",r=[];return ri(t.children,(i,o)=>{o!==nn&&r.push(`${o}:${Bh(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function IU(t,e){let n=[];return ri(t.children,(r,i)=>{i===nn&&(n=n.concat(e(r,i)))}),ri(t.children,(r,i)=>{i!==nn&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===nn?[Bh(t.children[nn],!1)]:[`${i}:${Bh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[nn]?`${Oy(t)}/${n[0]}`:`${Oy(t)}/(${n.join("//")})`}}function wA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ny(t){return wA(t).replace(/%3B/gi,";")}function hS(t){return wA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fy(t){return decodeURIComponent(t)}function DA(t){return Fy(t.replace(/\+/g,"%20"))}function TA(t){return`${hS(t.path)}${function kU(t){return Object.keys(t).map(e=>`;${hS(e)}=${hS(t[e])}`).join("")}(t.parameters)}`}const NU=/^[^\/()?;=#]+/;function Ly(t){const e=t.match(NU);return e?e[0]:""}const FU=/^[^=?&#]+/,$U=/^[^&#]+/;class VU{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[nn]=new an(e,n)),r}parseSegment(){const e=Ly(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(e),new Vh(Fy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Ly(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ly(this.remaining);i&&(r=i,this.capture(r))}e[Fy(n)]=Fy(r)}parseQueryParam(e){const n=function LU(t){const e=t.match(FU);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function jU(t){const e=t.match($U);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=DA(n),o=DA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ly(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new le(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=nn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[nn]:new an([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new le(4011,!1)}}function gS(t){return t.segments.length>0?new an([],{[nn]:t}):t}function $y(t){const e={};for(const r of Object.keys(t.children)){const o=$y(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function BU(t){if(1===t.numberOfChildren&&t.children[nn]){const e=t.children[nn];return new an(t.segments.concat(e.segments),e.children)}return t}(new an(t.segments,e))}function Nc(t){return t instanceof kc}function zU(t,e,n,r,i){if(0===n.length)return vf(e.root,e.root,e.root,r,i);const o=function AA(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new MA(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return ri(o.outlets,(c,f)=>{l[f]="string"==typeof c?c.split("/"):c}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?n=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,o]},[]);return new MA(n,e,r)}(n);return o.toRoot()?vf(e.root,e.root,new an([],{}),r,i):function s(c){const f=function WU(t,e,n,r){if(t.isAbsolute)return new _f(e.root,!0,0);if(-1===r)return new _f(n,n===e.root,0);return function IA(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new le(4005,!1);i=r.segments.length}return new _f(r,!1,i-o)}(n,r+(Uh(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,e,t.snapshot?._urlSegment,c),p=f.processChildren?zh(f.segmentGroup,f.index,o.commands):yS(f.segmentGroup,f.index,o.commands);return vf(e.root,f.segmentGroup,p,r,i)}(t.snapshot?._lastPathIndex)}function Uh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hh(t){return"object"==typeof t&&null!=t&&t.outlets}function vf(t,e,n,r,i){let s,o={};r&&ri(r,(c,f)=>{o[f]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),s=t===e?n:xA(t,e,n);const l=gS($y(s));return new kc(l,o,i)}function xA(t,e,n){const r={};return ri(t.children,(i,o)=>{r[o]=i===e?n:xA(i,e,n)}),new an(t.segments,r)}class MA{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uh(r[0]))throw new le(4003,!1);const i=r.find(Hh);if(i&&i!==yA(r))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _f{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yS(t,e,n){if(t||(t=new an([],{})),0===t.segments.length&&t.hasChildren())return zh(t,e,n);const r=function KU(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],l=n[r];if(Hh(l))break;const c=`${l}`,f=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!RA(c,f,s))return o;r+=2}else{if(!RA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new an(t.segments.slice(0,r.pathIndex),{});return o.children[nn]=new an(t.segments.slice(r.pathIndex),t.children),zh(o,0,i)}return r.match&&0===i.length?new an(t.segments,{}):r.match&&!t.hasChildren()?vS(t,e,n):r.match?zh(t,0,i):vS(t,e,n)}function zh(t,e,n){if(0===n.length)return new an(t.segments,{});{const r=function qU(t){return Hh(t[0])?t[0].outlets:{[nn]:t}}(n),i={};return ri(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yS(t.children[s],e,o))}),ri(t.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new an(t.segments,i)}}function vS(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Hh(o)){const c=QU(o.outlets);return new an(r,c)}if(0===i&&Uh(n[0])){r.push(new Vh(t.segments[e].path,PA(n[0]))),i++;continue}const s=Hh(o)?o.outlets[nn]:`${o}`,l=i<n.length-1?n[i+1]:null;s&&l&&Uh(l)?(r.push(new Vh(s,PA(l))),i+=2):(r.push(new Vh(s,{})),i++)}return new an(r,{})}function QU(t){const e={};return ri(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=vS(new an([],{}),0,n))}),e}function PA(t){const e={};return ri(t,(n,r)=>e[r]=`${n}`),e}function RA(t,e,n){return t==n.path&&Ys(e,n.parameters)}class Wa{constructor(e,n){this.id=e,this.url=n}}class _S extends Wa{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Wa{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jy extends Wa{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kA extends Wa{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YU extends Wa{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JU extends Wa{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZU extends Wa{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XU extends Wa{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e4 extends Wa{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OA{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=CS(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=CS(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=SS(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return SS(e,this._root).map(n=>n.value)}}function CS(t,e){if(t===e.value)return e;for(const n of e.children){const r=CS(t,n);if(r)return r}return null}function SS(t,e){if(t===e.value)return[e];for(const n of e.children){const r=SS(t,n);if(r.length)return r.unshift(e),r}return[]}class qa{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Cf(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class FA extends NA{constructor(e,n){super(e),this.snapshot=n,ES(this,e)}toString(){return this.snapshot.toString()}}function LA(t,e){const n=function l4(t,e){const s=new Vy([],{},{},"",{},nn,e,null,t.root,-1,{});return new jA("",new qa(s,[]))}(t,e),r=new mi([new Vh("",{})]),i=new mi({}),o=new mi({}),s=new mi({}),l=new mi(""),c=new ms(r,i,s,l,o,nn,e,n.root);return c.snapshot=n.root,new FA(new qa(c,[]),n)}class ms{constructor(e,n,r,i,o,s,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.title=this.data?.pipe(Ie(f=>f[jh]))??ce(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>yf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>yf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $A(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function u4(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vy{constructor(e,n,r,i,o,s,l,c,f,p,g,y){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.title=this.data?.[jh],this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=p,this._correctedLastPathIndex=y??p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jA extends NA{constructor(e,n){super(n),this.url=e,ES(this,n)}toString(){return VA(this._root)}}function ES(t,e){e.value._routerState=t,e.children.forEach(n=>ES(t,n))}function VA(t){const e=t.children.length>0?` { ${t.children.map(VA).join(", ")} } `:"";return`${t.value}${e}`}function bS(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ys(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ys(e.params,n.params)||t.params.next(n.params),function wU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ys(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ys(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wS(t,e){const n=Ys(t.params,e.params)&&function AU(t,e){return Oc(t,e)&&t.every((n,r)=>Ys(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wS(t.parent,e.parent))}function Gh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function d4(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gh(t,r,i);return Gh(t,r)})}(t,e,n);return new qa(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>Gh(t,l)),s}}const r=function f4(t){return new ms(new mi(t.url),new mi(t.params),new mi(t.queryParams),new mi(t.fragment),new mi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Gh(t,o));return new qa(r,i)}}const DS="ngNavigationCancelingError";function BA(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Nc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UA(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function UA(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[DS]=!0,r.cancellationCode=e,n&&(r.url=n),r}function HA(t){return zA(t)&&Nc(t.url)}function zA(t){return t&&t[DS]}class p4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wh,this.attachRef=null}}let Wh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new p4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const By=!1;let TS=(()=>{class t{constructor(n,r,i,o,s){this.parentContexts=n,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new sr,this.deactivateEvents=new sr,this.attachEvents=new sr,this.detachEvents=new sr,this.name=i||nn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,By);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,By);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,By);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new le(4013,By);this._activatedRoute=n;const i=this.location,s=n._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new h4(n,l,i.injector);if(r&&function g4(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=i.createComponent(f,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(oe(Wh),oe(ds),function ns(t){return function Ll(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(fp(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(dr(),t)}("name"),oe(wh),oe(Xl))},t.\u0275dir=bt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class h4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ms?this.route:e===Wh?this.childContexts:this.parent.get(e,n)}}let xS=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ur({type:t,selectors:[["ng-component"]],standalone:!0,features:[V1],decls:1,vars:0,template:function(n,r){1&n&&or(0,"router-outlet")},dependencies:[TS],encapsulation:2}),t})();function GA(t,e){return t.providers&&!t._injector&&(t._injector=Hm(t.providers,e,`Route: ${t.path}`)),t._injector??e}function AS(t){const e=t.children&&t.children.map(AS),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==nn&&(n.component=xS),n}function Oo(t){return t.outlet||nn}function WA(t,e){const n=t.filter(r=>Oo(r)===e);return n.push(...t.filter(r=>Oo(r)!==e)),n}function qh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class C4{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bS(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Cf(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),ri(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Cf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Cf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Cf(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new s4(o.value.snapshot))}),e.children.length&&this.forwardEvent(new i4(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(bS(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),bS(l.route.value),this.activateChildRoutes(e,null,s.children)}else{const l=qh(i.snapshot),c=l?.get(nh)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class qA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uy{constructor(e,n){this.component=e,this.route=n}}function S4(t,e,n){const r=t._root;return Kh(r,e?e._root:null,n,[r.value])}function Sf(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ud(t){return null!==vl(t)}(t)?e.get(t):t:r}function Kh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cf(e);return t.children.forEach(s=>{(function b4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function w4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Oc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oc(t.url,e.url)||!Ys(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wS(t,e)||!Ys(t.queryParams,e.queryParams);default:return!wS(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qA(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Kh(t,e,o.component?l?l.children:null:n,r,i),c&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Uy(l.outlet.component,s))}else s&&Qh(e,l,i),i.canActivateChecks.push(new qA(r)),Kh(t,null,o.component?l?l.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),ri(o,(s,l)=>Qh(s,n.getContext(l),i)),i}function Qh(t,e,n){const r=Cf(t),i=t.value;ri(r,(o,s)=>{Qh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Uy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yh(t){return"function"==typeof t}function IS(t){return t instanceof Iy||"EmptyError"===t?.name}const Hy=Symbol("INITIAL_VALUE");function Ef(){return Ke(t=>Cn(t.map(e=>e.pipe(Rc(1),function _U(...t){const e=dl(t);return tn((n,r)=>{(e?Py(t,n,e):Py(t,n)).subscribe(r)})}(Hy)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===Hy)return Hy;if(!1===n||n instanceof kc)return n}return!0}),Ga(e=>e!==Hy),Rc(1)))}function KA(t){return function ae(...t){return Ae(t)}(ni(e=>{if(Nc(e))throw BA(0,e)}),Ie(e=>!0===e))}const PS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QA(t,e,n,r,i){const o=RS(t,e,n);return o.matched?function B4(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const l=Sf(s,t);return au(function I4(t){return t&&Yh(t.canMatch)}(l)?l.canMatch(e,n):t.runInContext(()=>l(e,n)))})).pipe(Ef(),KA()):ce(!0)}(r=GA(e,r),e,n).pipe(Ie(s=>!0===s?o:{...PS})):ce(o)}function RS(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...PS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bU)(n,t,e);if(!i)return{...PS};const o={};ri(i.posParams,(l,c)=>{o[c]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zy(t,e,n,r,i="corrected"){if(n.length>0&&function z4(t,e,n){return n.some(r=>Gy(t,e,r)&&Oo(r)!==nn)}(t,n,r)){const s=new an(e,function H4(t,e,n,r){const i={};i[nn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Oo(o)!==nn){const s=new an([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,i[Oo(o)]=s}return i}(t,e,r,new an(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function G4(t,e,n){return n.some(r=>Gy(t,e,r))}(t,n,r)){const s=new an(t.segments,function U4(t,e,n,r,i,o){const s={};for(const l of r)if(Gy(t,n,l)&&!i[Oo(l)]){const c=new an([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Oo(l)]=c}return{...i,...s}}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const o=new an(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Gy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function YA(t,e,n,r){return!!(Oo(t)===r||r!==nn&&Gy(e,n,t))&&("**"===t.path||RS(e,t,n).matched)}function JA(t,e,n){return 0===e.length&&!t.children[n]}const Wy=!1;class qy{constructor(e){this.segmentGroup=e||null}}class ZA{constructor(e){this.urlTree=e}}function Jh(t){return Lh(new qy(t))}function XA(t){return Lh(new ZA(t))}class Q4{constructor(e,n,r,i,o){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=zy(this.urlTree.root,[],[],this.config).segmentGroup,n=new an(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,nn).pipe(Ie(o=>this.createUrlTree($y(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gs(o=>{if(o instanceof ZA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof qy?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,nn).pipe(Ie(i=>this.createUrlTree($y(i),e.queryParams,e.fragment))).pipe(gs(i=>{throw i instanceof qy?this.noMatchError(i):i}))}noMatchError(e){return new le(4002,Wy)}createUrlTree(e,n,r){const i=gS(e);return new kc(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Ie(o=>new an([],o))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Te(i).pipe(Ii(o=>{const s=r.children[o],l=WA(n,o);return this.expandSegmentGroup(e,l,s,o).pipe(Ie(c=>({segment:c,outlet:o})))}),fA((o,s)=>(o[s.outlet]=s.segment,o),{}),pA())}expandSegment(e,n,r,i,o,s){return Te(r).pipe(Ii(l=>this.expandSegmentAgainstRoute(e,n,r,l,i,o,s).pipe(gs(f=>{if(f instanceof qy)return ce(null);throw f}))),Hn(l=>!!l),gs((l,c)=>{if(IS(l))return JA(n,i,o)?ce(new an([],{})):Jh(n);throw l}))}expandSegmentAgainstRoute(e,n,r,i,o,s,l){return YA(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,o,s):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s):Jh(n):Jh(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XA(o):this.lineralizeSegments(r,o).pipe(mt(s=>{const l=new an(s,{});return this.expandSegment(e,l,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:l,consumedSegments:c,remainingSegments:f,positionalParamSegments:p}=RS(n,i,o);if(!l)return Jh(n);const g=this.applyRedirectCommands(c,i.redirectTo,p);return i.redirectTo.startsWith("/")?XA(g):this.lineralizeSegments(i,g).pipe(mt(y=>this.expandSegment(e,n,r,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){return"**"===r.path?(e=GA(r,e),r.loadChildren?(r._loadedRoutes?ce({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ie(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new an(i,{})))):ce(new an(i,{}))):QA(n,r,i,e).pipe(Ke(({matched:s,consumedSegments:l,remainingSegments:c})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(mt(p=>{const g=p.injector??e,y=p.routes,{segmentGroup:_,slicedSegments:E}=zy(n,l,c,y),M=new an(_.segments,_.children);if(0===E.length&&M.hasChildren())return this.expandChildren(g,y,M).pipe(Ie(H=>new an(l,H)));if(0===y.length&&0===E.length)return ce(new an(l,{}));const $=Oo(r)===o;return this.expandSegment(g,M,y,E,$?nn:o,!0).pipe(Ie(Q=>new an(l.concat(Q.segments),Q.children)))})):Jh(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function V4(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const l=Sf(s,t);return au(function T4(t){return t&&Yh(t.canLoad)}(l)?l.canLoad(e,n):t.runInContext(()=>l(e,n)))})).pipe(Ef(),KA())}(e,n,r).pipe(mt(i=>i?this.configLoader.loadChildren(e,n).pipe(ni(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function q4(t){return Lh(UA(Wy,3))}())):ce({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[nn])return Lh(new le(4e3,Wy));i=i.children[nn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new kc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return ri(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[o]=n[l]}else r[o]=i}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return ri(n.children,(l,c)=>{s[c]=this.createSegmentGroup(e,l,r,i)}),new an(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new le(4001,Wy);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class J4{}class eH{constructor(e,n,r,i,o,s,l,c){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l,this.urlSerializer=c}recognize(){const e=zy(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nn).pipe(Ie(n=>{if(null===n)return null;const r=new Vy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qa(r,n),o=new jA(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const n=e.value,r=$A(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Te(Object.keys(r.children)).pipe(Ii(i=>{const o=r.children[i],s=WA(n,i);return this.processSegmentGroup(e,s,o,i)}),fA((i,o)=>i&&o?(i.push(...o),i):null),$h(i=>null!==i),Ry(null),pA(),Ie(i=>{if(null===i)return null;const o=eI(i);return function tH(t){t.sort((e,n)=>e.value.outlet===nn?-1:n.value.outlet===nn?1:e.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(e,n,r,i,o){return Te(n).pipe(Ii(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Hn(s=>!!s),gs(s=>{if(IS(s))return JA(r,i,o)?ce([]):ce(null);throw s}))}processSegmentAgainstRoute(e,n,r,i,o){if(n.redirectTo||!YA(n,r,i,o))return ce(null);let s;if("**"===n.path){const l=i.length>0?yA(i).parameters:{},c=nI(r)+i.length;s=ce({snapshot:new Vy(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(n),Oo(n),n.component??n._loadedComponent??null,n,tI(r),c,oI(n),c),consumedSegments:[],remainingSegments:[]})}else s=QA(r,n,i,e).pipe(Ie(({matched:l,consumedSegments:c,remainingSegments:f,parameters:p})=>{if(!l)return null;const g=nI(r)+c.length;return{snapshot:new Vy(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(n),Oo(n),n.component??n._loadedComponent??null,n,tI(r),g,oI(n),g),consumedSegments:c,remainingSegments:f}}));return s.pipe(Ke(l=>{if(null===l)return ce(null);const{snapshot:c,consumedSegments:f,remainingSegments:p}=l;e=n._injector??e;const g=n._loadedInjector??e,y=function nH(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:_,slicedSegments:E}=zy(r,f,p,y.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===E.length&&_.hasChildren())return this.processChildren(g,y,_).pipe(Ie($=>null===$?null:[new qa(c,$)]));if(0===y.length&&0===E.length)return ce([new qa(c,[])]);const M=Oo(n)===o;return this.processSegment(g,y,_,E,M?nn:o).pipe(Ie($=>null===$?null:[new qa(c,$)]))}))}}function rH(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function eI(t){const e=[],n=new Set;for(const r of t){if(!rH(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=eI(r.children);e.push(new qa(r.value,i))}return e.filter(r=>!n.has(r))}function tI(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nI(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function iI(t){return t.data||{}}function oI(t){return t.resolve||{}}function sI(t){return"string"==typeof t.title||null===t.title}function kS(t){return Ke(e=>{const n=t(e);return n?Te(n).pipe(Ie(()=>e)):ce(e)})}let aI=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===nn);return r}getResolvedTitleForRoute(n){return n.data[jh]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:function(){return Un(lI)},providedIn:"root"}),t})(),lI=(()=>{class t extends aI{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(Oe(Kx))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class dH{}class pH extends class fH{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Qy=new ct("",{providedIn:"root",factory:()=>({})}),OS=new ct("ROUTES");let NS=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=au(n.loadComponent()).pipe(ni(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),dS(()=>{this.componentLoaders.delete(n)})),i=new cA(r,()=>new Ft).pipe(uS());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ie(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,p=!1;Array.isArray(l)?f=l:(c=l.create(n).injector,f=mA(c.get(OS,[],St.Self|St.Optional)));return{routes:f.map(AS),injector:c}}),dS(()=>{this.childrenLoaders.delete(r)})),s=new cA(o,()=>new Ft).pipe(uS());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return au(n()).pipe(mt(r=>r instanceof $1||Array.isArray(r)?ce(r):Te(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(Oe(Gi),Oe(sC))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gH{}class mH{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function yH(t){throw t}function vH(t,e,n){return e.parse("/")}const _H={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function cI(){const t=Un(bA),e=Un(Wh),n=Un(SC),r=Un(Gi),i=Un(sC),o=Un(OS,{optional:!0})??[],s=Un(Qy,{optional:!0})??{},l=Un(lI),c=Un(aI,{optional:!0}),f=Un(gH,{optional:!0}),p=Un(dH,{optional:!0}),g=new Pr(null,t,e,n,r,i,mA(o));return f&&(g.urlHandlingStrategy=f),p&&(g.routeReuseStrategy=p),g.titleStrategy=c??l,function SH(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(s,g),g}let Pr=(()=>{class t{constructor(n,r,i,o,s,l,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ft,this.errorHandler=yH,this.malformedUriErrorHandler=vH,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ce(void 0),this.urlHandlingStrategy=new mH,this.routeReuseStrategy=new pH,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(NS),this.configLoader.onLoadEndListener=y=>this.triggerEvent(new n4(y)),this.configLoader.onLoadStartListener=y=>this.triggerEvent(new t4(y)),this.ngModule=s.get(Dc),this.console=s.get(pj);const g=s.get(Zn);this.isNgZoneEnabled=g instanceof Zn&&Zn.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function DU(){return new kc(new an([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LA(this.currentUrlTree,this.rootComponentType),this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Ga(i=>0!==i.id),Ie(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ke(i=>{let o=!1,s=!1;return ce(i).pipe(ni(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ke(l=>{const c=this.browserUrlTree.toString(),f=!this.navigated||l.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return dI(l.source)&&(this.browserUrlTree=l.extractedUrl),ce(l).pipe(Ke(g=>{const y=this.transitions.getValue();return r.next(new _S(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions.getValue()?lr:Promise.resolve(g)}),function Y4(t,e,n,r){return Ke(i=>function K4(t,e,n,r,i){return new Q4(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Ie(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ni(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},i.urlAfterRedirects=g.urlAfterRedirects}),function oH(t,e,n,r,i,o){return mt(s=>function X4(t,e,n,r,i,o,s="emptyOnly",l="legacy"){return new eH(t,e,n,r,i,s,l,o).recognize().pipe(Ke(c=>null===c?function Z4(t){return new ve(e=>e.error(t))}(new J4):ce(c)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Ie(l=>({...s,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ni(g=>{if(i.targetSnapshot=g.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(_,g)}this.browserUrlTree=g.urlAfterRedirects}const y=new YU(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(y)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:_,source:E,restoredState:M,extras:$}=l,j=new _S(y,this.serializeUrl(_),E,M);r.next(j);const Q=LA(_,this.rootComponentType).snapshot;return ce(i={...l,targetSnapshot:Q,urlAfterRedirects:_,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),lr}),ni(l=>{const c=new JU(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Ie(l=>i={...l,guards:S4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function R4(t,e){return mt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function k4(t,e,n,r){return Te(t).pipe(mt(i=>function j4(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(l=>{const c=qh(e)??i,f=Sf(l,c);return au(function A4(t){return t&&Yh(t.canDeactivate)}(f)?f.canDeactivate(t,e,n,r):c.runInContext(()=>f(t,e,n,r))).pipe(Hn())})).pipe(Ef()):ce(!0)}(i.component,i.route,n,e,r)),Hn(i=>!0!==i,!0))}(s,r,i,t).pipe(mt(l=>l&&function D4(t){return"boolean"==typeof t}(l)?function O4(t,e,n,r){return Te(e).pipe(Ii(i=>Py(function F4(t,e){return null!==t&&e&&e(new r4(t)),ce(!0)}(i.route.parent,r),function N4(t,e){return null!==t&&e&&e(new o4(t)),ce(!0)}(i.route,r),function $4(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function E4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>uA(()=>ce(s.guards.map(c=>{const f=qh(s.node)??n,p=Sf(c,f);return au(function M4(t){return t&&Yh(t.canActivateChild)}(p)?p.canActivateChild(r,t):f.runInContext(()=>p(r,t))).pipe(Hn())})).pipe(Ef())));return ce(o).pipe(Ef())}(t,i.path,n),function L4(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>uA(()=>{const s=qh(e)??n,l=Sf(o,s);return au(function x4(t){return t&&Yh(t.canActivate)}(l)?l.canActivate(e,t):s.runInContext(()=>l(e,t))).pipe(Hn())}));return ce(i).pipe(Ef())}(t,i.route,n))),Hn(i=>!0!==i,!0))}(r,o,t,e):ce(l)),Ie(l=>({...n,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),ni(l=>{if(i.guardsResult=l.guardsResult,Nc(l.guardsResult))throw BA(0,l.guardsResult);const c=new ZU(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(c)}),Ga(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),kS(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(ni(c=>{const f=new XU(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),Ke(c=>{let f=!1;return ce(c).pipe(function sH(t,e){return mt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return Te(i).pipe(Ii(s=>function aH(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!sI(i)&&(o[jh]=i.title),function lH(t,e,n,r){const i=function uH(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return Te(i).pipe(mt(s=>function cH(t,e,n,r){const i=qh(e)??r,o=Sf(t,i);return au(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Hn(),ni(l=>{o[s]=l}))),cS(1),hA(o),gs(s=>IS(s)?lr:Lh(s)))}(o,t,e,r).pipe(Ie(s=>(t._resolvedData=s,t.data=$A(t,n).resolve,i&&sI(i)&&(t.data[jh]=i.title),null)))}(s.route,r,t,e)),ni(()=>o++),cS(1),mt(s=>o===i.length?ce(n):lr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ni({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),ni(c=>{const f=new e4(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),kS(l=>{const c=f=>{const p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(ni(g=>{f.component=g}),Ie(()=>{})));for(const g of f.children)p.push(...c(g));return p};return Cn(c(l.targetSnapshot.root)).pipe(Ry(),Rc(1))}),kS(()=>this.afterPreactivation()),Ie(l=>{const c=function c4(t,e,n){const r=Gh(t,e._root,n?n._root:void 0);return new FA(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:c}}),ni(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((t,e,n)=>Ie(r=>(new C4(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),ni({next(){o=!0},complete(){o=!0}}),dS(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),gs(l=>{if(s=!0,zA(l)){HA(l)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new jy(i.id,this.serializeUrl(i.extractedUrl),l.message,l.cancellationCode);if(r.next(c),HA(l)){const f=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dI(i.source)};this.scheduleNavigation(f,"imperative",null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new kA(i.id,this.serializeUrl(i.extractedUrl),l,i.targetSnapshot??void 0);r.next(c);try{i.resolve(this.errorHandler(l))}catch(f){i.reject(f)}}return lr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=n.state?.navigationId?n.state:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const s=this.parseUrl(n.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(AS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:c}=r,f=i||this.routerState.root,p=c?this.currentUrlTree.fragment:s;let g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...o};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}return null!==g&&(g=this.removeEmptyProps(g)),zU(f,this.currentUrlTree,n,g,p??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Nc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function EH(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new le(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{..._H}:!1===r?{...CH}:r,Nc(n))return _A(this.currentUrlTree,n,i);const o=this.parseUrl(n);return _A(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Fc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,c,f;s?(l=s.resolve,c=s.reject,f=s.promise):f=new Promise((y,_)=>{l=y,c=_});const p=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.setTransition({id:p,targetPageId:g,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const o=new jy(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){a0()},t.\u0275prov=nt({token:t,factory:function(){return cI()},providedIn:"root"}),t})();function dI(t){return"imperative"!==t}class fI{}let DH=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ga(n=>n instanceof Fc),Ii(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Hm(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,l=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Te(i).pipe(Qr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(mt(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Te([o,this.loader.loadComponent(r)]).pipe(Qr()):o})}}return t.\u0275fac=function(n){return new(n||t)(Oe(Pr),Oe(sC),Oe(Xl),Oe(fI),Oe(NS))},t.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $S=new ct("");let pI=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof _S?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Fc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof OA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new OA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){a0()},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();function bf(t,e){return{\u0275kind:t,\u0275providers:e}}function jS(t){return[{provide:OS,multi:!0,useValue:t}]}function gI(){const t=Un(Gi);return e=>{const n=t.get(bh);if(e!==n.components[0])return;const r=t.get(Pr),i=t.get(mI);1===t.get(VS)&&r.initialNavigation(),t.get(yI,null,St.Optional)?.setUpPreloading(),t.get($S,null,St.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const mI=new ct("",{factory:()=>new Ft}),VS=new ct("",{providedIn:"root",factory:()=>1});const yI=new ct("");function AH(t){return bf(0,[{provide:yI,useExisting:DH},{provide:fI,useExisting:t}])}const vI=new ct("ROUTER_FORROOT_GUARD"),IH=[SC,{provide:bA,useClass:pS},{provide:Pr,useFactory:cI},Wh,{provide:ms,useFactory:function hI(t){return t.routerState.root},deps:[Pr]},NS];function PH(){return new OT("Router",Pr)}let _I=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[IH,[],jS(n),{provide:vI,useFactory:NH,deps:[[Pr,new Da,new nc]]},{provide:Qy,useValue:r||{}},r?.useHash?{provide:xc,useClass:tV}:{provide:xc,useClass:ox},{provide:$S,useFactory:()=>{const t=Un(Pr),e=Un(m3),n=Un(Qy);return n.scrollOffset&&e.setOffset(n.scrollOffset),new pI(t,e,n)}},r?.preloadingStrategy?AH(r.preloadingStrategy).\u0275providers:[],{provide:OT,multi:!0,useFactory:PH},r?.initialNavigation?FH(r):[],[{provide:CI,useFactory:gI},{provide:TT,multi:!0,useExisting:CI}]]}}static forChild(n){return{ngModule:t,providers:[jS(n)]}}}return t.\u0275fac=function(n){return new(n||t)(Oe(vI,8))},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({imports:[xS]}),t})();function NH(t){return"guarded"}function FH(t){return["disabled"===t.initialNavigation?bf(3,[{provide:Km,multi:!0,useFactory:()=>{const e=Un(Pr);return()=>{e.setUpLocationChangeListener()}}},{provide:VS,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?bf(2,[{provide:VS,useValue:0},{provide:Km,multi:!0,deps:[Gi],useFactory:e=>{const n=e.get(Xj,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(o=>{const s=e.get(Pr),l=e.get(mI);(function i(o){e.get(Pr).events.pipe(Ga(l=>l instanceof Fc||l instanceof jy||l instanceof kA),Ie(l=>l instanceof Fc||l instanceof jy&&(0===l.code||1===l.code)&&null),Ga(l=>null!==l),Rc(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||l.closed?ce(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const CI=new ct("");var N=w(284),Lc=w(291),$H=w(46),Xy=w.n($H);function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EI(t,e){if(t){if("string"==typeof t)return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}}function Pn(t,e){return function jH(t){if(Array.isArray(t))return t}(t)||function VH(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,l,r=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(c){o=!0,l=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(o)throw l}}return r}}(t,e)||EI(t,e)||function BH(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},UH=HH()?N.useLayoutEffect:N.useEffect;function HH(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var US=!1,zH=0,bI=function(){return++zH};function qi(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}qi(".Stage_wrapper__1X5K_ {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 100px;\r\n  background-color: rgb(26, 28, 29);\r\n  background-image: linear-gradient(\r\n      0deg,\r\n      transparent 24%,\r\n      rgba(255, 255, 255, 0.04) 25%,\r\n      rgba(255, 255, 255, 0.04) 26%,\r\n      transparent 27%,\r\n      transparent 74%,\r\n      rgba(255, 255, 255, 0.04) 75%,\r\n      rgba(255, 255, 255, 0.04) 76%,\r\n      transparent 77%,\r\n      transparent\r\n    ),\r\n    linear-gradient(\r\n      90deg,\r\n      transparent 24%,\r\n      rgba(255, 255, 255, 0.04) 25%,\r\n      rgba(255, 255, 255, 0.04) 26%,\r\n      transparent 27%,\r\n      transparent 74%,\r\n      rgba(255, 255, 255, 0.04) 75%,\r\n      rgba(255, 255, 255, 0.04) 76%,\r\n      transparent 77%,\r\n      transparent\r\n    );\r\n  color: #000;\r\n  background-size: 30px 30px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  -webkit-overflow-scrolling: touch;\r\n  font-family: Helvetica, sans-serif;\r\n  text-align: left;\r\n  line-height: 1;\r\n  outline: none !important;\r\n}\r\n.Stage_wrapper__1X5K_ * {\r\n  box-sizing: border-box;\r\n}\r\n.Stage_wrapper__1X5K_ input,\r\ntextarea,\r\nselect {\r\n  font-family: Helvetica, sans-serif;\r\n}\r\n.Stage_transformWrapper__3CfIp {\r\n  transform-origin: center center;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  width: 0px;\r\n  height: 0px;\r\n}\r\n.Stage_scaleWrapper__2Y7Ck {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  width: 0px;\r\n  height: 0px;\r\n}\r\n");var qH=!!(typeof window<"u"&&window.document&&window.document.createElement),KH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function QH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var wI=function(t){function e(){return QH(this,e),YH(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function JH(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),KH(e,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return qH?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),Lc.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),e}(N.Component);wI.propTypes={children:Xy().node.isRequired,node:Xy().any};var ZH=wI,XH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function e5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t5(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var DI=function(t){function e(){return e5(this,e),t5(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function n5(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),XH(e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(r){this.renderPortal()}},{key:"componentWillUnmount",value:function(){Lc.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(r){!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var i=this.props.children;"function"==typeof this.props.children.type&&(i=N.cloneElement(this.props.children)),this.portal=Lc.unstable_renderSubtreeIntoContainer(this,i,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),e}(N.Component),r5=DI;DI.propTypes={children:Xy().node.isRequired,node:Xy().any};var wf=Lc.createPortal?ZH:r5;qi(".ContextMenu_menuWrapper__1BheJ{\r\n  position: fixed;\r\n  z-index: 9999;\r\n  background: rgba(29, 32, 34, 0.95);\r\n  border-radius: 5px;\r\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\r\n  border: 1px solid rgba(0,0,0,.4);\r\n  font-size: 14px;\r\n  max-width: 300px;\r\n  min-width: 150px;\r\n  font-family: Helvetica, sans-serif;\r\n  line-height: 1.15;\r\n  outline: none;\r\n}\r\n@supports (backdrop-filter: blur(6px)){\r\n  .ContextMenu_menuWrapper__1BheJ{\r\n    backdrop-filter: blur(6px);\r\n    background: rgba(29, 32, 34, 0.8);\r\n  }\r\n}\r\n.ContextMenu_menuHeader__1Cw58{\r\n  padding: 5px;\r\n  border-bottom: 1px solid rgba(255,255,255,.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.ContextMenu_menuLabel__158Pv{\r\n  margin: 0px;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n.ContextMenu_optionsWrapper__2YK_z{\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.ContextMenu_menuFilter__1goBp{\r\n  border: none;\r\n  background: none;\r\n  height: 24px;\r\n  flex: 1 1 auto;\r\n  width: 100%;\r\n  outline: none;\r\n  color: #fff;\r\n}\r\n.ContextMenu_menuFilter__1goBp::placeholder{\r\n    font-style: italic;\r\n  }\r\n.ContextMenu_option__33MDL{\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  padding: 5px;\r\n  border-bottom: 1px solid rgba(255,255,255,.1);\r\n  color: #ffffff;\r\n}\r\n.ContextMenu_option__33MDL:last-child{\r\n    border-bottom: none;\r\n  }\r\n.ContextMenu_option__33MDL:hover{\r\n    background: rgba(255,255,255,.05);\r\n  }\r\n.ContextMenu_option__33MDL label{\r\n    margin-bottom: 5px;\r\n    user-select: none;\r\n  }\r\n.ContextMenu_option__33MDL label:last-child{\r\n      margin-bottom: 0px;\r\n    }\r\n.ContextMenu_option__33MDL p{\r\n    margin: 0px;\r\n    font-style: italic;\r\n    font-size: 12px;\r\n    color: rgb(182, 186, 194);\r\n    user-select: none;\r\n  }\r\n.ContextMenu_option__33MDL[data-selected=true]{\r\n    background: rgba(255,255,255,.05);\r\n  }\r\n.ContextMenu_emptyText__2rcXy{\r\n  color: #fff;\r\n  padding: 5px;\r\n}\r\n");var a5=/\s/,c5=function l5(t){for(var e=t.length;e--&&a5.test(t.charAt(e)););return e},d5=/^\s+/,tv=function h5(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},TI="object"==typeof ev&&ev&&ev.Object===Object&&ev,y5="object"==typeof self&&self&&self.Object===Object&&self,Ka=TI||y5||Function("return this")(),nv=Ka.Symbol,MI=Object.prototype,S5=MI.hasOwnProperty,E5=MI.toString,Zh=nv?nv.toStringTag:void 0,T5=Object.prototype.toString,A5=function b5(t){var e=S5.call(t,Zh),n=t[Zh];try{t[Zh]=void 0;var r=!0}catch{}var i=E5.call(t);return r&&(e?t[Zh]=n:delete t[Zh]),i},I5=function x5(t){return T5.call(t)},II=nv?nv.toStringTag:void 0,Xh=function k5(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":II&&II in Object(t)?A5(t):I5(t)},eg=function O5(t){return null!=t&&"object"==typeof t},N5=Xh,F5=eg,tg=function $5(t){return"symbol"==typeof t||F5(t)&&"[object Symbol]"==N5(t)},j5=function f5(t){return t&&t.slice(0,c5(t)+1).replace(d5,"")},PI=tv,V5=tg,B5=/^[-+]0x[0-9a-f]+$/i,U5=/^0b[01]+$/i,H5=/^0o[0-7]+$/i,z5=parseInt,q5=function o5(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},GS=function G5(t){if("number"==typeof t)return t;if(V5(t))return NaN;if(PI(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=PI(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=j5(t);var n=U5.test(t);return n||H5.test(t)?z5(t.slice(2),n?2:8):B5.test(t)?NaN:+t},lu=function K5(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=GS(n))==n?n:0),void 0!==e&&(e=(e=GS(e))==e?e:0),q5(GS(t),e,n)};let Df=(t=21)=>{let e="",n=t;for(;n--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e};var rv=function(e){var n=e.x,r=e.y,i=e.options,o=void 0===i?[]:i,s=e.onRequestClose,l=e.onOptionSelected,c=e.label,f=e.hideHeader,p=e.hideFilter,g=e.emptyText,y=N.useRef(null),_=N.useRef(null),E=N.useRef(null),$=Pn(N.useState(""),2),j=$[0],Q=$[1],se=Pn(N.useState(0),2),Re=se[0],Ve=se[1],qt=Pn(N.useState(0),2),st=qt[0],Ze=qt[1],He=N.useRef(Df(10)),Be=function(we){l(we),s()},it=N.useCallback(function(fe){y.current&&!y.current.contains(fe.target)&&(s(),document.removeEventListener("click",it,{capture:!0}),document.removeEventListener("contextmenu",it,{capture:!0}))},[y,s]),Yt=N.useCallback(function(fe){27===fe.keyCode&&(s(),document.removeEventListener("keydown",Yt,{capture:!0}))},[s]);N.useEffect(function(){var fe,we,Xe;return E.current&&E.current.focus(),Ve(null!==(fe=null===(we=y.current)||void 0===we||null===(Xe=we.getBoundingClientRect())||void 0===Xe?void 0:Xe.width)&&void 0!==fe?fe:0),document.addEventListener("keydown",Yt,{capture:!0}),document.addEventListener("click",it,{capture:!0}),document.addEventListener("contextmenu",it,{capture:!0}),function(){document.removeEventListener("click",it,{capture:!0}),document.removeEventListener("contextmenu",it,{capture:!0}),document.removeEventListener("keydown",Yt,{capture:!0})}},[it,Yt]);var Ot=N.useMemo(function(){if(!j)return o;var fe=j.toLowerCase();return o.filter(function(we){return we.label.toLowerCase().includes(fe)})},[j,o]);return N.useEffect(function(){var fe;(p||f)&&(null===(fe=y.current)||void 0===fe||fe.focus())},[p,f]),N.useEffect(function(){var fe=document.getElementById("".concat(He.current,"-").concat(st));if(fe){var we,Xe=null===(we=_.current)||void 0===we?void 0:we.getBoundingClientRect(),Kt=fe.getBoundingClientRect();Xe&&(Kt.y+Kt.height>Xe.y+Xe.height||Kt.y<Xe.y)&&fe.scrollIntoView({block:"nearest"})}},[st]),N.createElement("div",{"data-flume-component":"ctx-menu",className:"ContextMenu_menuWrapper__1BheJ",onMouseDown:function(we){return we.stopPropagation()},onKeyDown:function(we){if(38===we.which&&(we.preventDefault(),null===st?Ze(0):st>0&&Ze(function(Kt){return(Kt||0)-1})),40===we.which&&(we.preventDefault(),null===st?Ze(0):st<Ot.length-1&&Ze(function(Kt){return(Kt||0)+1})),13===we.which&&null!==st){var Xe=Ot[st];Xe&&Be(Xe)}},style:{left:n,top:r,width:j?Re:"auto"},ref:y,tabIndex:0,role:"menu","aria-activedescendant":"".concat(He.current,"-").concat(st)},f||!c&&!o.length?null:N.createElement("div",{className:"ContextMenu_menuHeader__1Cw58","data-flume-component":"ctx-menu-header"},N.createElement("label",{className:"ContextMenu_menuLabel__158Pv","data-flume-component":"ctx-menu-title"},c),!p&&o.length?N.createElement("input",{"data-flume-component":"ctx-menu-input",type:"text",placeholder:"Filter options",value:j,onChange:function(we){Q(we.target.value),Ze(0)},className:"ContextMenu_menuFilter__1goBp",autoFocus:!0,ref:E}):null),N.createElement("div",{"data-flume-component":"ctx-menu-list",className:"ContextMenu_optionsWrapper__2YK_z",role:"menu",ref:_,style:{maxHeight:lu(window.innerHeight-r-70,10,300)}},Ot.map(function(fe,we){return N.createElement(Y5,{menuId:He.current,selected:st===we,onClick:function(){return Be(fe)},onMouseEnter:function(){return Ze(null)},index:we,key:fe.value+we},N.createElement("label",null,fe.label),fe.description?N.createElement("p",null,fe.description):null)}),o.length?null:N.createElement("span",{"data-flume-component":"ctx-menu-empty",className:"ContextMenu_emptyText__2rcXy"},g)))},Y5=function(e){var r=e.index,i=e.children;return N.createElement("div",{"data-flume-component":"ctx-menu-option",className:"ContextMenu_option__33MDL",role:"menuitem",onClick:e.onClick,onMouseEnter:e.onMouseEnter,"data-selected":e.selected,id:"".concat(e.menuId,"-").concat(r)},i)},WS=N.createContext(null),qS=N.createContext(null),Tf=N.createContext(null),kI=N.createContext(null),KS=N.createContext(null),iv=N.createContext(null),OI=N.createContext(null),NI=N.createContext(null),FI=N.createContext("");function Qa(t,e){if(null==t)return{};var r,i,n=function J5(t,e){if(null==t)return{};var i,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)!(e.indexOf(i=r[o])>=0)&&(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)!(e.indexOf(r=o[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var Z5=["children","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef"];function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}var t,ov=function(e){var n=e.children,r=e.stageState,i=e.stageRect,o=e.onDragDelayStart,s=e.onDragStart,l=e.onDrag,c=e.onDragEnd,f=e.onMouseDown,p=e.onTouchStart,g=e.disabled,y=e.delay,_=void 0===y?6:y,E=e.innerRef,M=Qa(e,Z5),$=N.useRef(null),j=N.useRef(),Q=N.useRef(null),H=function(Be){return 1/r.scale*Be},se=function(Be){var it,Yt,Ot,ge,Ee,fe,we,Xe,Kt,rn,Sn,Pt,jn=null!==(it=null===(Yt=j.current)||void 0===Yt?void 0:Yt.x)&&void 0!==it?it:0,ln=null!==(Ot=null===(ge=j.current)||void 0===ge?void 0:ge.y)&&void 0!==Ot?Ot:0;return{x:H(Be.clientX-(i&&null!==(Ee=null===(fe=i.current)||void 0===fe?void 0:fe.left)&&void 0!==Ee?Ee:0)-jn-(i&&null!==(we=null===(Xe=i.current)||void 0===Xe?void 0:Xe.width)&&void 0!==we?we:0)/2)+H(r.translate.x),y:H(Be.clientY-(i&&null!==(Kt=null===(rn=i.current)||void 0===rn?void 0:rn.top)&&void 0!==Kt?Kt:0)-ln-(i&&null!==(Sn=null===(Pt=i.current)||void 0===Pt?void 0:Pt.height)&&void 0!==Sn?Sn:0)/2)+H(r.translate.y)}},Re=function(Be){var it=se(Be);l&&l(it,Be)},Ve=function He(Be){var it=se(Be);c&&c(Be,it),window.removeEventListener("mouseup",He),window.removeEventListener("mousemove",Re)},qt=function(Be){if($.current){var it,Yt;if("ontouchstart"in window&&Be.touches){var Ot=Be.touches[0];it=Ot.clientX,Yt=Ot.clientY}else{var ge=Be;Be.preventDefault(),it=ge.clientX,Yt=ge.clientY}var Ee=Math.abs($.current.x-it),fe=Math.abs($.current.y-Yt);Math.round(Math.sqrt(Math.pow(Ee,2)+Math.pow(fe,2)))>=_&&(function(Be){if(s&&s(Be),Q.current&&$.current){var it=Q.current.getBoundingClientRect();j.current={x:$.current.x-it.left,y:$.current.y-it.top},window.addEventListener("mouseup",Ve),window.addEventListener("mousemove",Re)}}(Be),st())}},st=function He(){document.removeEventListener("mouseup",He),document.removeEventListener("mousemove",qt),$.current=null},Ze=function(Be){var it,Yt;if(o&&o(Be),Be.stopPropagation(),"ontouchstart"in window&&Be.touches){var Ot=Be.touches[0];it=Ot.clientX,Yt=Ot.clientY}else Be.preventDefault(),it=Be.clientX,Yt=Be.clientY;$.current={x:it,y:Yt},document.addEventListener("mouseup",st),document.addEventListener("mousemove",qt)};return N.createElement("div",function X5(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({onMouseDown:function(Be){g||Ze(Be),f&&f(Be)},onTouchStart:function(Be){g||Ze(Be),p&&p(Be)},onDragStart:function(Be){Be.preventDefault(),Be.stopPropagation()},ref:function(Be){Q.current=Be,E&&(E.current=Be)}},M),n)},$I=function e8(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Js=Array.isArray,n8=Js,r8=tg,i8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o8=/^\w*$/,QS=function s8(t,e){if(n8(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r8(t))||o8.test(t)||!i8.test(t)||null!=e&&t in Object(e)},a8=Xh,l8=tv,jI=function p8(t){if(!l8(t))return!1;var e=a8(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},g8=Ka["__core-js_shared__"],VI=(t=/[^.]+$/.exec(g8&&g8.keys&&g8.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",C8=Function.prototype.toString,BI=function S8(t){if(null!=t){try{return C8.call(t)}catch{}try{return t+""}catch{}}return""},E8=jI,b8=function y8(t){return!!VI&&VI in t},w8=tv,D8=BI,x8=/^\[object .+?Constructor\]$/,R8=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L8=function k8(t){return!(!w8(t)||b8(t))&&(E8(t)?R8:x8).test(D8(t))},$8=function N8(t,e){return t?.[e]},xf=function j8(t,e){var n=$8(t,e);return L8(n)?n:void 0},B8=xf(Object,"create"),UI=B8,W8=B8,Q8=Object.prototype.hasOwnProperty,Z8=B8,e6=Object.prototype.hasOwnProperty,r6=B8,l6=function z8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},u6=function Y8(t){var e=this.__data__;if(W8){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Q8.call(e,t)?e[t]:void 0},c6=function t6(t){var e=this.__data__;return Z8?void 0!==e[t]:e6.call(e,t)},d6=function o6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r6&&void 0===e?"__lodash_hash_undefined__":e,this};function Mf(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mf.prototype.clear=function U8(){this.__data__=UI?UI(null):{},this.size=0},Mf.prototype.delete=l6,Mf.prototype.get=u6,Mf.prototype.has=c6,Mf.prototype.set=d6;var f6=Mf,HI=function g6(t,e){return t===e||t!=t&&e!=e},m6=HI,av=function y6(t,e){for(var n=t.length;n--;)if(m6(t[n][0],e))return n;return-1},v6=av,C6=Array.prototype.splice,b6=av,T6=av,A6=av,k6=function S6(t){var e=this.__data__,n=v6(e,t);return!(n<0||(n==e.length-1?e.pop():C6.call(e,n,1),--this.size,0))},O6=function w6(t){var e=this.__data__,n=b6(e,t);return n<0?void 0:e[n][1]},N6=function x6(t){return T6(this.__data__,t)>-1},F6=function I6(t,e){var n=this.__data__,r=A6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Af(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Af.prototype.clear=function p6(){this.__data__=[],this.size=0},Af.prototype.delete=k6,Af.prototype.get=O6,Af.prototype.has=N6,Af.prototype.set=F6;var lv=Af,JS=xf(Ka,"Map"),zI=f6,V6=lv,B6=JS,W6=function z6(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},uv=function q6(t,e){var n=t.__data__;return W6(e)?n["string"==typeof e?"string":"hash"]:n.map},K6=uv,J6=uv,ez=uv,rz=uv,az=function Q6(t){var e=K6(this,t).delete(t);return this.size-=e?1:0,e},lz=function Z6(t){return J6(this,t).get(t)},uz=function tz(t){return ez(this,t).has(t)},cz=function iz(t,e){var n=rz(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function If(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}If.prototype.clear=function U6(){this.size=0,this.__data__={hash:new zI,map:new(B6||V6),string:new zI}},If.prototype.delete=az,If.prototype.get=lz,If.prototype.has=uz,If.prototype.set=cz;var ZS=If,GI=ZS;function XS(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(XS.Cache||GI),n}XS.Cache=GI;var pz=XS,vz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_z=/\\(\\)?/g,Cz=function gz(t){var e=pz(t,function(r){return 500===n.size&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(vz,function(n,r,i,o){e.push(i?o.replace(_z,"$1"):r||n)}),e}),Ez=$I,bz=Js,wz=tg,qI=nv?nv.prototype:void 0,KI=qI?qI.toString:void 0,xz=function QI(t){if("string"==typeof t)return t;if(bz(t))return Ez(t,QI)+"";if(wz(t))return KI?KI.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Iz=Js,Pz=QS,Rz=Cz,kz=function Mz(t){return null==t?"":xz(t)},YI=function Oz(t,e){return Iz(t)?t:Pz(t,e)?[t]:Rz(kz(t))},Nz=tg,cv=function Lz(t){if("string"==typeof t||Nz(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},$z=YI,jz=cv,eE=function Vz(t,e){for(var n=0,r=(e=$z(e,t)).length;null!=t&&n<r;)t=t[jz(e[n++])];return n&&n==r?t:void 0},Bz=lv,Yz=lv,Jz=JS,Zz=ZS,nG=lv,iG=function zz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},oG=function Wz(t){return this.__data__.get(t)},sG=function Kz(t){return this.__data__.has(t)},aG=function eG(t,e){var n=this.__data__;if(n instanceof Yz){var r=n.__data__;if(!Jz||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zz(r)}return n.set(t,e),this.size=n.size,this};function Pf(t){var e=this.__data__=new nG(t);this.size=e.size}Pf.prototype.clear=function Uz(){this.__data__=new Bz,this.size=0},Pf.prototype.delete=iG,Pf.prototype.get=oG,Pf.prototype.has=sG,Pf.prototype.set=aG;var JI=Pf,pG=ZS,gG=function dG(t){return this.__data__.has(t)};function dv(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new pG;++e<n;)this.add(t[e])}dv.prototype.add=dv.prototype.push=function uG(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},dv.prototype.has=gG;var SG=dv,EG=function yG(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},bG=function _G(t,e){return t.has(e)},ZI=function TG(t,e,n,r,i,o){var s=1&n,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var g=-1,y=!0,_=2&n?new SG:void 0;for(o.set(t,e),o.set(e,t);++g<l;){var E=t[g],M=e[g];if(r)var $=s?r(M,E,g,e,t,o):r(E,M,g,t,e,o);if(void 0!==$){if($)continue;y=!1;break}if(_){if(!EG(e,function(j,Q){if(!bG(_,Q)&&(E===j||i(E,j,n,r,o)))return _.push(Q)})){y=!1;break}}else if(E!==M&&!i(E,M,n,r,o)){y=!1;break}}return o.delete(t),o.delete(e),y},eP=Ka.Uint8Array,OG=HI,NG=ZI,FG=function IG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},LG=function RG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},tP=nv?nv.prototype:void 0,tE=tP?tP.valueOf:void 0,t9=function XG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},n9=Js,u9=function o9(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o},f9=Object.prototype.propertyIsEnumerable,nP=Object.getOwnPropertySymbols,p9=nP?function(t){return null==t?[]:(t=Object(t),u9(nP(t),function(e){return f9.call(t,e)}))}:function a9(){return[]},h9=p9,y9=Xh,v9=eg,rP=function C9(t){return v9(t)&&"[object Arguments]"==y9(t)},E9=eg,iP=Object.prototype,b9=iP.hasOwnProperty,w9=iP.propertyIsEnumerable,D9=rP(function(){return arguments}())?rP:function(t){return E9(t)&&b9.call(t,"callee")&&!w9.call(t,"callee")},oP=D9,fv={exports:{}},x9=function T9(){return!1};!function(t,e){var i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,l=o&&o.exports===i?Ka.Buffer:void 0;t.exports=(l?l.isBuffer:void 0)||x9}(fv,fv.exports);var A9=/^(?:0|[1-9]\d*)$/,sP=function I9(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&("number"==n||"symbol"!=n&&A9.test(t))&&t>-1&&t%1==0&&t<e},nE=function R9(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},k9=Xh,O9=nE,N9=eg,zn={};zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Arguments]"]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object Boolean]"]=zn["[object DataView]"]=zn["[object Date]"]=zn["[object Error]"]=zn["[object Function]"]=zn["[object Map]"]=zn["[object Number]"]=zn["[object Object]"]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object WeakMap]"]=!1;var aP=function l7(t){return function(e){return t(e)}},rE={exports:{}};!function(t,e){var r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,s=i&&i.exports===r&&TI.process,l=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(rE,rE.exports);var u7=function s7(t){return N9(t)&&O9(t.length)&&!!zn[k9(t)]},lP=rE.exports,uP=lP&&lP.isTypedArray,cP=uP?aP(uP):u7,f7=function g9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},p7=oP,h7=Js,g7=fv.exports,m7=sP,y7=cP,_7=Object.prototype.hasOwnProperty,E7=Object.prototype,M7=function D7(t,e){return function(n){return t(e(n))}}(Object.keys,Object),I7=function b7(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||E7)},P7=M7,k7=Object.prototype.hasOwnProperty,F7=jI,L7=nE,iE=function $7(t){return null!=t&&L7(t.length)&&!F7(t)},j7=function C7(t,e){var n=h7(t),r=!n&&p7(t),i=!n&&!r&&g7(t),o=!n&&!r&&!i&&y7(t),s=n||r||i||o,l=s?f7(t.length,String):[],c=l.length;for(var f in t)(e||_7.call(t,f))&&(!s||!("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||m7(f,c)))&&l.push(f);return l},V7=function O7(t){if(!I7(t))return P7(t);var e=[];for(var n in Object(t))k7.call(t,n)&&"constructor"!=n&&e.push(n);return e},B7=iE,oE=function U7(t){return B7(t)?j7(t):V7(t)},H7=function r9(t,e,n){var r=e(t);return n9(t)?r:t9(r,n(t))},z7=h9,G7=oE,dP=function W7(t){return H7(t,G7,z7)},Y7=Object.prototype.hasOwnProperty,sE=xf(Ka,"DataView"),aE=JS,lE=xf(Ka,"Promise"),uE=xf(Ka,"Set"),cE=xf(Ka,"WeakMap"),fP=Xh,Rf=BI,pP="[object Map]",hP="[object Promise]",gP="[object Set]",mP="[object WeakMap]",yP="[object DataView]",mW=Rf(sE),yW=Rf(aE),vW=Rf(lE),_W=Rf(uE),CW=Rf(cE),jc=fP;(sE&&jc(new sE(new ArrayBuffer(1)))!=yP||aE&&jc(new aE)!=pP||lE&&jc(lE.resolve())!=hP||uE&&jc(new uE)!=gP||cE&&jc(new cE)!=mP)&&(jc=function(t){var e=fP(t),n="[object Object]"==e?t.constructor:void 0,r=n?Rf(n):"";if(r)switch(r){case mW:return yP;case yW:return pP;case vW:return hP;case _W:return gP;case CW:return mP}return e});var dE=JI,EW=ZI,bW=function JG(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new eP(t),new eP(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return OG(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=FG;case"[object Set]":if(l||(l=LG),t.size!=e.size&&!(1&r))return!1;var f=s.get(t);if(f)return f==e;r|=2,s.set(t,e);var p=NG(l(t),l(e),r,i,o,s);return s.delete(t),p;case"[object Symbol]":if(tE)return tE.call(t)==tE.call(e)}return!1},wW=function J7(t,e,n,r,i,o){var s=1&n,l=dP(t),c=l.length;if(c!=dP(e).length&&!s)return!1;for(var g=c;g--;){var y=l[g];if(!(s?y in e:Y7.call(e,y)))return!1}var _=o.get(t),E=o.get(e);if(_&&E)return _==e&&E==t;var M=!0;o.set(t,e),o.set(e,t);for(var $=s;++g<c;){var j=t[y=l[g]],Q=e[y];if(r)var H=s?r(Q,j,y,e,t,o):r(j,Q,y,t,e,o);if(!(void 0===H?j===Q||i(j,Q,n,r,o):H)){M=!1;break}$||($="constructor"==y)}if(M&&!$){var se=t.constructor,Re=e.constructor;se!=Re&&"constructor"in t&&"constructor"in e&&!("function"==typeof se&&se instanceof se&&"function"==typeof Re&&Re instanceof Re)&&(M=!1)}return o.delete(t),o.delete(e),M},vP=jc,_P=Js,CP=fv.exports,DW=cP,SP="[object Arguments]",EP="[object Array]",pv="[object Object]",bP=Object.prototype.hasOwnProperty,IW=function MW(t,e,n,r,i,o){var s=_P(t),l=_P(e),c=s?EP:vP(t),f=l?EP:vP(e),p=(c=c==SP?pv:c)==pv,g=(f=f==SP?pv:f)==pv,y=c==f;if(y&&CP(t)){if(!CP(e))return!1;s=!0,p=!1}if(y&&!p)return o||(o=new dE),s||DW(t)?EW(t,e,n,r,i,o):bW(t,e,c,n,r,i,o);if(!(1&n)){var _=p&&bP.call(t,"__wrapped__"),E=g&&bP.call(e,"__wrapped__");if(_||E){var M=_?t.value():t,$=E?e.value():e;return o||(o=new dE),i(M,$,n,r,o)}}return!!y&&(o||(o=new dE),wW(t,e,n,r,i,o))},wP=eg,TP=function DP(t,e,n,r,i){return t===e||(null==t||null==e||!wP(t)&&!wP(e)?t!=t&&e!=e:IW(t,e,n,r,DP,i))},PW=JI,RW=TP,LW=tv,xP=function $W(t){return t==t&&!LW(t)},jW=xP,VW=oE,MP=function HW(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},zW=function NW(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var c=(l=n[i])[0],f=t[c],p=l[1];if(s&&l[2]){if(void 0===f&&!(c in t))return!1}else{var g=new PW;if(r)var y=r(f,p,c,t,e,g);if(!(void 0===y?RW(p,f,3,r,g):y))return!1}}return!0},GW=function BW(t){for(var e=VW(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jW(i)]}return e},WW=MP,QW=eE,eq=YI,tq=oP,nq=Js,rq=sP,iq=nE,oq=cv,lq=function ZW(t,e){return null!=t&&e in Object(t)},uq=function sq(t,e,n){for(var r=-1,i=(e=eq(e,t)).length,o=!1;++r<i;){var s=oq(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&iq(i)&&rq(s,i)&&(nq(t)||tq(t))},fq=TP,pq=function YW(t,e,n){var r=null==t?void 0:QW(t,e);return void 0===r?n:r},hq=function cq(t,e){return null!=t&&uq(t,e,lq)},gq=QS,mq=xP,yq=MP,vq=cv,AP=function bq(t){return t},Tq=eE,Aq=function wq(t){return function(e){return e?.[t]}},Iq=function xq(t){return function(e){return Tq(e,t)}},Pq=QS,Rq=cv,Nq=function qW(t){var e=GW(t);return 1==e.length&&e[0][2]?WW(e[0][0],e[0][1]):function(n){return n===t||zW(n,t,e)}},Fq=function Sq(t,e){return gq(t)&&mq(e)?yq(vq(t),e):function(n){var r=pq(n,t);return void 0===r&&r===e?hq(n,t):fq(e,r,3)}},Lq=AP,$q=Js,jq=function kq(t){return Pq(t)?Aq(Rq(t)):Iq(t)},qq=function Uq(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var c=s[t?l:++i];if(!1===n(o[c],c,o))break}return e}}(),Kq=oE,Jq=iE,iK=function Zq(t,e){return function(n,r){if(null==n)return n;if(!Jq(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}(function Qq(t,e){return t&&qq(t,e,Kq)}),oK=iE,IP=tg,fK=function cK(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=IP(t),s=void 0!==e,l=null===e,c=e==e,f=IP(e);if(!l&&!f&&!o&&t>e||o&&s&&c&&!l&&!f||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!f&&t<e||f&&n&&i&&!r&&!o||l&&n&&i||!s&&i||!c)return-1}return 0},fE=$I,gK=eE,mK=function Vq(t){return"function"==typeof t?t:null==t?Lq:"object"==typeof t?$q(t)?Fq(t[0],t[1]):Nq(t):jq(t)},yK=function sK(t,e){var n=-1,r=oK(t)?Array(t.length):[];return iK(t,function(i,o,s){r[++n]=e(i,o,s)}),r},vK=function lK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},_K=aP,CK=function pK(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,l=n.length;++r<s;){var c=fK(i[r],o[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return t.index-e.index},SK=AP,EK=Js,DK=function bK(t,e,n){e=e.length?fE(e,function(o){return EK(o)?function(s){return gK(s,1===o.length?o[0]:o)}:o}):[SK];var r=-1;e=fE(e,_K(mK));var i=yK(t,function(o,s,l){return{criteria:fE(e,function(f){return f(o)}),index:++r,value:o}});return vK(i,function(o,s){return CK(o,s,n)})},PP=Js,pE="__node_editor_stage__",RP="__node_editor_drag_connection__",kP="__node_editor_connections__";function Pi(t){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function co(t){return function MK(t){if(Array.isArray(t))return BS(t)}(t)||function AK(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||EI(t)||function IK(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var OP_svg="Connection_svg__-fKLY";qi(".Connection_svg__-fKLY{\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  pointer-events: none;\r\n  z-index: 0;\r\n  overflow: visible !important;\r\n}\r\n");var hE=Math.PI,gE=2*hE,Vc=1e-6,RK=gE-Vc;function mE(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function NP(){return new mE}function hv(t){return function(){return t}}function FP(t){this._context=t}function kK(t){return new FP(t)}function OK(t){return t[0]}function NK(t){return t[1]}function LP(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $P(t){this._context=t}function LK(t){return new $P(t)}mE.prototype=NP.prototype={constructor:mE,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,s=this._y1,l=(n=+n)-(t=+t),c=(r=+r)-(e=+e),f=o-t,p=s-e,g=f*f+p*p;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(g>Vc)if(Math.abs(p*l-c*f)>Vc&&i){var y=n-o,_=r-s,E=l*l+c*c,M=y*y+_*_,$=Math.sqrt(E),j=Math.sqrt(g),Q=i*Math.tan((hE-Math.acos((E+g-M)/(2*$*j)))/2),H=Q/j,se=Q/$;Math.abs(H-1)>Vc&&(this._+="L"+(t+H*f)+","+(e+H*p)),this._+="A"+i+","+i+",0,0,"+ +(p*y>f*_)+","+(this._x1=t+se*l)+","+(this._y1=e+se*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(r),l=n*Math.sin(r),c=t+s,f=e+l,p=1^o,g=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>Vc||Math.abs(this._y1-f)>Vc)&&(this._+="L"+c+","+f),n&&(g<0&&(g=g%gE+gE),g>RK?this._+="A"+n+","+n+",0,1,"+p+","+(t-s)+","+(e-l)+"A"+n+","+n+",0,1,"+p+","+(this._x1=c)+","+(this._y1=f):g>Vc&&(this._+="A"+n+","+n+",0,"+ +(g>=hE)+","+p+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:LP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:LP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var jP=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";return document.querySelector('[data-node-id="'.concat(e,'"] [data-port-name="').concat(n,'"][data-port-transput-type="').concat(r,'"]'))},ng=function(e,n,r,i){var o=r??"input";if(i&&i.current){var s=e+n+o,l=i.current.ports[s];if(l)return l.getBoundingClientRect();var c=jP(e,n,o);return c&&(i.current.ports[s]=c),c&&c.getBoundingClientRect()}var f=jP(e,n,o);return f&&f.getBoundingClientRect()},kf=function(e,n){var r,o=(n.x-e.x)/3,s=null!==(r=function FK(){var t=OK,e=NK,n=hv(!0),r=null,i=kK,o=null;function s(l){var c,p,y,f=l.length,g=!1;for(null==r&&(o=i(y=NP())),c=0;c<=f;++c)!(c<f&&n(p=l[c],c,l))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,c,l),+e(p,c,l));if(y)return o=null,y+""||null}return s.x=function(l){return arguments.length?(t="function"==typeof l?l:hv(+l),s):t},s.y=function(l){return arguments.length?(e="function"==typeof l?l:hv(+l),s):e},s.defined=function(l){return arguments.length?(n="function"==typeof l?l:hv(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,null!=r&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(null==l?r=o=null:o=i(r=l),s):r},s}().curve(LK)([[e.x,e.y],[e.x+o,e.y],[e.x+2*o,n.y],[n.x,n.y]]))&&void 0!==r?r:"";return s},VP=function(e){var n,i=document.querySelector('[data-connection-id="'.concat(e.id,'"]'));null==i||null===(n=i.parentElement)||void 0===n||n.remove()},zK=["id","defaultNode"];function BP(t){var e=function GK(t,e){if("object"!==Pi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pi(e)?e:String(e)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var HP=function(e,n,r){var i,o=e[n.nodeId],c=Qa(o.connections.inputs,[n.portName].map(BP)),f=vt(vt({},o),{},{connections:vt(vt({},o.connections),{},{inputs:c})}),p=e[r.nodeId],g=p.connections.outputs[r.portName].filter(function(_){return _.nodeId!==n.nodeId||_.portName!==n.portName}),y=vt(vt({},p),{},{connections:vt(vt({},p.connections),{},{outputs:vt(vt({},p.connections.outputs),{},Tn({},r.portName,g))})});return vt(vt({},e),{},(Tn(i={},n.nodeId,f),Tn(i,r.nodeId,y),i))},zP=function(e,n){return Object.entries(e).reduce(function(r,i){var o=Pn(i,2),s=o[0],c=o[1].filter(function(f){return f.nodeId!==n});return c.length&&(r[s]=c),r},{})},qK=function(e,n){return{inputs:zP(e.inputs,n),outputs:zP(e.outputs,n)}},QK=function(e,n,r,i){var o=vt({},e);Object.values(o).map(function(c){return n[c.type]?void 0:c.id}).filter(function(c){return!!c}).forEach(function(c){o=yE(o,{type:pr.REMOVE_NODE,nodeId:c},{nodeTypes:n,portTypes:r,context:i})});var l=Object.values(o).reduce(function(c,f){var g=GP({node:f,nodeType:n[f.type],portTypes:r,context:i}),y=Object.entries(f.inputData).reduce(function(E,M){var $=Pn(M,2),j=$[0];return void 0!==g[j]&&(E[j]=$[1]),E},{}),_=vt(vt({},g),y);return c[f.id]=vt(vt({},f),{},{inputData:_}),c},{});return Object.values(l).reduce(function(c,f){var p=vt({},f),g=n[f.type];return g.root!==f.root&&(g.root&&!f.root?p.root=g.root:!g.root&&f.root&&delete p.root),c[f.id]=p,c},{})},GP=function(e){var n=e.node,r=e.nodeType,i=e.portTypes,o=e.context;return(Array.isArray(r.inputs)?r.inputs:r.inputs(n.inputData,n.connections,o)).reduce(function(l,c){var f=i[c.type];return l[c.name||f.name]=(c.controls||f.controls||[]).reduce(function(p,g){return p[g.name]=g.defaultValue,p},{}),l},{})},pr=(()=>(function(t){t.ADD_CONNECTION="ADD_CONNECTION",t.REMOVE_CONNECTION="REMOVE_CONNECTION",t.DESTROY_TRANSPUT="DESTROY_TRANSPUT",t.ADD_NODE="ADD_NODE",t.REMOVE_NODE="REMOVE_NODE",t.HYDRATE_DEFAULT_NODES="HYDRATE_DEFAULT_NODES",t.SET_PORT_DATA="SET_PORT_DATA",t.SET_NODE_COORDINATES="SET_NODE_COORDINATES"}(pr||(pr={})),pr))(),yE=function(e,n,r,i){var o=r.nodeTypes,s=r.portTypes,l=r.cache,c=r.circularBehavior,f=r.context;switch(n.type){case pr.ADD_CONNECTION:var p=n.input,g=n.output;if(!e[p.nodeId].connections.inputs[p.portName]){var _=function(e,n,r,i){var o;return vt(vt({},e),{},(Tn(o={},n.nodeId,vt(vt({},e[n.nodeId]),{},{connections:vt(vt({},e[n.nodeId].connections),{},{inputs:vt(vt({},e[n.nodeId].connections.inputs),{},Tn({},n.portName,[].concat(co(e[n.nodeId].connections.inputs[n.portName]||[]),[{nodeId:r.nodeId,portName:r.portName}])))})})),Tn(o,r.nodeId,vt(vt({},e[r.nodeId]),{},{connections:vt(vt({},e[r.nodeId].connections),{},{outputs:vt(vt({},e[r.nodeId].connections.outputs),{},Tn({},r.portName,[].concat(co(e[r.nodeId].connections.outputs[r.portName]||[]),[{nodeId:n.nodeId,portName:n.portName}])))})})),o))}(e,p,g);if("allow"===c)return _;var E=function(e,n){var r=!1;return function o(s){for(var l=Object.values(e[s].connections.outputs),c=0;c<l.length&&!r;c++)for(var f=l[c],p=0;p<f.length;p++){var g=f[p];if(g.nodeId===n){r=!0;break}o(g.nodeId)}}(n),r}(_,g.nodeId);return E?"warn"===c?(i?.({type:"ADD_TOAST",title:"Circular Connection Detected",message:"Connecting these nodes has created an infinite loop.",toastType:"warning",duration:5e3}),_):(i?.({type:"ADD_TOAST",title:"Unable to connect",message:"Connecting these nodes would result in an infinite loop.",toastType:"warning",duration:5e3}),e):_}return e;case pr.REMOVE_CONNECTION:var M,$=n.input,j=n.output,Q=j.nodeId+j.portName+$.nodeId+$.portName;return null==l||null===(M=l.current)||void 0===M||delete M.connections[Q],VP({id:Q}),HP(e,$,j);case pr.DESTROY_TRANSPUT:var H,se=n.transput,Re=n.transputType;null==l||null===(H=l.current)||void 0===H||delete H.ports[se.nodeId+se.portName+Re];var qt=e[se.nodeId].connections["input"===Re?"inputs":"outputs"][se.portName];return qt&&qt.length?qt.reduce(function(Me,et){var Nt,wn=Pn("input"===Re?[se,et]:[et,se],2),vn=wn[0],kr=wn[1],mr=kr.nodeId+kr.portName+vn.nodeId+vn.portName;return null==l||null===(Nt=l.current)||void 0===Nt||delete Nt.connections[mr],VP({id:mr}),HP(Me,vn,kr)},e):e;case pr.ADD_NODE:var st=n.x,Ze=n.y,He=n.nodeType,it=n.defaultNode,Yt=n.id||Df(10),Ot={id:Yt,x:st,y:Ze,type:He,width:o[He].initialWidth||200,connections:{inputs:{},outputs:{}},inputData:{}};return Ot.inputData=GP({node:Ot,nodeType:o[He],portTypes:s,context:f}),it&&(Ot.defaultNode=!0),o[He].root&&(Ot.root=!0),vt(vt({},e),{},Tn({},Yt,Ot));case pr.REMOVE_NODE:return function(e,n){var r=Qa(e,[n].map(BP));return r=Object.values(r).reduce(function(i,o){return i[o.id]=vt(vt({},o),{},{connections:qK(o.connections,n)}),i},{}),function(e){for(var r=0,i=Array.from(document.querySelectorAll('[data-output-node-id="'.concat(e,'"], [data-input-node-id="').concat(e,'"]')));r<i.length;r++){var o,s=i[r];null==s||null===(o=s.parentElement)||void 0===o||o.remove()}}(n),r}(e,n.nodeId);case pr.HYDRATE_DEFAULT_NODES:var Ee=vt({},e);for(var fe in Ee)if(Ee[fe].defaultNode){var we=Df(10),Kt=Qa(Ee[fe],zK);Ee[we]=vt(vt({},Kt),{},{id:we}),delete Ee[fe]}return Ee;case pr.SET_PORT_DATA:var rn=n.nodeId,Sn=n.portName,Pt=n.controlName,jn=n.data,ln=n.setValue,Gt=vt(vt({},e[rn].inputData),{},Tn({},Sn,vt(vt({},e[rn].inputData[Sn]),{},Tn({},Pt,jn))));return ln&&(Gt=ln(Gt,e[rn].inputData)),vt(vt({},e),{},Tn({},rn,vt(vt({},e[rn]),{},{inputData:Gt})));case pr.SET_NODE_COORDINATES:var Rn=n.x,Jt=n.y,Ue=n.nodeId;return vt(vt({},e),{},Tn({},Ue,vt(vt({},e[Ue]),{},{x:Rn,y:Jt})));default:return e}},ZK=["isNew"];function XK(t){var e=function eQ(t,e){if("object"!==Pi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pi(e)?e:String(e)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ii=(()=>(function(t){t.ADD_COMMENT="ADD_COMMENT",t.REMOVE_COMMENT_NEW="REMOVE_COMMENT_NEW",t.SET_COMMENT_COORDINATES="SET_COMMENT_COORDINATES",t.SET_COMMENT_DIMENSIONS="SET_COMMENT_DIMENSIONS",t.SET_COMMENT_TEXT="SET_COMMENT_TEXT",t.SET_COMMENT_COLOR="SET_COMMENT_COLOR",t.DELETE_COMMENT="DELETE_COMMENT"}(ii||(ii={})),ii))(),gv=function(e,n,r){return uu(uu({},e),{},Tn({},n,uu(uu({},e[n]),r)))},tQ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ii.ADD_COMMENT:var r={id:Df(10),text:"",x:n.x,y:n.y,width:200,height:30,color:"blue",isNew:!0};return uu(uu({},e),{},Tn({},r.id,r));case ii.REMOVE_COMMENT_NEW:var i=e[n.id],o=Qa(i,ZK);return uu(uu({},e),{},Tn({},n.id,o));case ii.SET_COMMENT_COORDINATES:return gv(e,n.id,{x:n.x,y:n.y});case ii.SET_COMMENT_DIMENSIONS:return gv(e,n.id,{width:n.width,height:n.height});case ii.SET_COMMENT_TEXT:return gv(e,n.id,{text:n.text});case ii.SET_COMMENT_COLOR:return gv(e,n.id,{color:n.color});case ii.DELETE_COMMENT:var s=n.id,l=Qa(e,[s].map(XK));return l;default:return e}};function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cu=(()=>(function(t){t.SET_SCALE="SET_SCALE",t.SET_TRANSLATE="SET_TRANSLATE",t.SET_TRANSLATE_SCALE="SET_TRANSLATE_SCALE"}(cu||(cu={})),cu))(),nQ=function(t,e){var n="function"==typeof e?e(t):e;switch(n.type){case cu.SET_SCALE:return Of(Of({},t),{},{scale:n.scale});case cu.SET_TRANSLATE:return Of(Of({},t),{},{translate:n.translate});case cu.SET_TRANSLATE_SCALE:return Of(Of({},t),{},{translate:n.translate,scale:n.scale});default:return t}},rQ=function(e){var n=e.scale,r=e.translate,i=e.editorId,o=e.dispatchStageState,s=e.children,l=e.outerStageChildren,c=e.numNodes,f=e.stageRef,p=e.spaceToPan,g=e.dispatchComments,y=e.disableComments,_=e.disablePan,E=e.disableZoom,M=N.useContext(WS),$=N.useContext(Tf),j=N.useRef(null),Q=N.useRef(null),se=Pn(N.useState(!1),2),Re=se[0],Ve=se[1],qt=Pn(N.useState({x:0,y:0}),2),st=qt[0],Ze=qt[1],He=N.useRef({x:0,y:0}),it=Pn(N.useState(!1),2),Yt=it[0],Ot=it[1],ge=N.useCallback(function(){j.current&&(f.current=j.current.getBoundingClientRect())},[]);N.useEffect(function(){return j.current&&(f.current=j.current.getBoundingClientRect()),window.addEventListener("resize",ge),function(){window.removeEventListener("resize",ge)}},[f,ge]);var Ee=N.useCallback(function(Ue){var Me,et=Ue.target;if(!(("TEXTAREA"===et.nodeName||et.dataset.comment)&&et.clientHeight<et.scrollHeight||(Ue.preventDefault(),0===c))){var Nt=null===(Me=j.current)||void 0===Me?void 0:Me.getBoundingClientRect();Nt&&o(function(mn){var wn=mn.scale,vn=mn.translate,mr=lu(wn-.005*lu(Ue.deltaY,-10,10),.1,7),ho=function(Wc){return Wc*(1/wn)},go=function(Wc){return Wc*(1/mr)},Qi=ho(Ue.clientX-Nt.x-Nt.width/2+vn.x),$o=ho(Ue.clientY-Nt.y-Nt.height/2+vn.y),jo=go(Ue.clientX-Nt.x-Nt.width/2+vn.x),Vo=go(Ue.clientY-Nt.y-Nt.height/2+vn.y);return{type:cu.SET_TRANSLATE_SCALE,scale:mr,translate:{x:vn.x+(Qi-jo)*mr,y:vn.y+($o-Vo)*mr}}})}},[o,c]),Pt=function(Me){return 1/n*Me},ln=function Ue(Me){32===Me.which&&(Ot(!1),document.removeEventListener("keyup",Ue))};N.useEffect(function(){if(!E){var Ue=j.current;return Ue?.addEventListener("wheel",Ee),function(){Ue?.removeEventListener("wheel",Ee)}}},[Ee,E]);var Jt=N.useMemo(function(){var Ue=function TK(t,e,n,r){return null==t?[]:(PP(e)||(e=null==e?[]:[e]),PP(n=r?void 0:n)||(n=null==n?[]:[n]),DK(t,e,n))}(Object.values(M||{}).filter(function(Me){return!1!==Me.addable}).map(function(Me){return{value:Me.type,label:Me.label,description:Me.description,sortIndex:Me.sortIndex,node:Me}}),["sortIndex","label"]);return y||Ue.push({value:"comment",label:"Comment",description:"A comment for documenting nodes",internalType:"comment"}),Ue},[M,y]);return N.createElement(ov,{"data-flume-component":"stage",id:"".concat(pE).concat(i),className:"Stage_wrapper__1X5K_",innerRef:j,onContextMenu:function(Me){return Me.preventDefault(),Ze({x:Me.clientX,y:Me.clientY}),Ve(!0),!1},onMouseEnter:function(){var Me,et;null!==(Me=j.current)&&void 0!==Me&&Me.contains(document.activeElement)||null===(et=j.current)||void 0===et||et.focus()},onDragDelayStart:function(){var Me;null===(Me=j.current)||void 0===Me||Me.focus()},onDragStart:function(Me){var et=Me;et.preventDefault(),He.current={x:et.clientX,y:et.clientY}},onDrag:function(Me,et){var Nt=He.current.x-et.clientX,mn=He.current.y-et.clientY,vn=r.y+mn;j.current&&(j.current.style.backgroundPosition="".concat(-(r.x+Nt),"px ").concat(-vn,"px")),Q.current&&(Q.current.style.transform="translate(".concat(-(r.x+Nt),"px, ").concat(-(r.y+mn),"px)"))},onDragEnd:function(Me){var et=He.current.x-Me.clientX,Nt=He.current.y-Me.clientY;He.current.x=Me.clientX,He.current.y=Me.clientY,o(function(mn){var wn=mn.translate;return{type:cu.SET_TRANSLATE,translate:{x:wn.x+et,y:wn.y+Nt}}})},onKeyDown:function(Me){32===Me.which&&document.activeElement===j.current&&(Me.preventDefault(),Me.stopPropagation(),Ot(!0),document.addEventListener("keyup",ln))},tabIndex:-1,stageState:{scale:n,translate:r},style:{cursor:Yt&&p?"grab":""},disabled:_||p&&!Yt,"data-flume-stage":!0},Re?N.createElement(wf,null,N.createElement(rv,{x:st.x,y:st.y,options:Jt,onRequestClose:function(){Ve(!1)},onOptionSelected:function(Me){var et,Nt=Me.node,mn=Me.internalType,wn=null===(et=j.current)||void 0===et?void 0:et.getBoundingClientRect();if(wn){var vn=Pt(st.x-wn.x-wn.width/2)+Pt(r.x),kr=Pt(st.y-wn.y-wn.height/2)+Pt(r.y);"comment"===mn?g({type:ii.ADD_COMMENT,x:vn,y:kr}):$?.({type:pr.ADD_NODE,x:vn,y:kr,nodeType:Nt?.type||""})}},label:"Add Node"})):null,N.createElement("div",{ref:Q,className:"Stage_transformWrapper__3CfIp",style:{transform:"translate(".concat(-r.x,"px, ").concat(-r.y,"px)")}},N.createElement("div",{className:"Stage_scaleWrapper__2Y7Ck",style:{transform:"scale(".concat(n,")")}},s)),l)};qi(".Node_wrapper__3SmT7{\r\n  background: rgba(91, 96, 99, 0.9);\r\n  border-radius: 5px;\r\n  box-shadow: 0px 4px 8px rgba(0,0,0,.4);\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  user-select: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1;\r\n  cursor: default;\r\n}\r\n.Node_label__3MmhF{\r\n  font-size: 13px;\r\n  text-transform: uppercase;\r\n  padding: 5px;\r\n  background: #464b4e;\r\n  border-radius: 5px 5px 0px 0px;\r\n  margin: 0px;\r\n  margin-bottom: 3px;\r\n  border-bottom: 1px solid rgba(0,0,0,.15);\r\n}\r\n");qi('.IoPorts_wrapper__3d2hh{\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: auto;\r\n  width: 100%;\r\n  padding: 5px;\r\n}\r\n.IoPorts_inputs__2etkb{\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n}\r\n.IoPorts_inputs__2etkb:last-child{\r\n    margin-bottom: 0px;\r\n  }\r\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\r\n        margin-top: 5px;\r\n      }\r\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\r\n        margin-bottom: 5px;\r\n      }\r\n.IoPorts_outputs__3JGh-{\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: auto;\r\n  justify-content: flex-end;\r\n  align-items: flex-end;\r\n  width: 100%;\r\n}\r\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\r\n        margin-bottom: 5px;\r\n      }\r\n.IoPorts_outputs__3JGh-:first-child{\r\n    margin-top: 5px;\r\n  }\r\n.IoPorts_transput__1wbHA{\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 6px;\r\n  margin-bottom: 6px;\r\n}\r\n.IoPorts_transput__1wbHA:first-child{\r\n    margin-top: 0px;\r\n  }\r\n.IoPorts_transput__1wbHA[data-controlless="true"]{\r\n    margin-top: 6px;\r\n    margin-bottom: 6px;\r\n  }\r\n.IoPorts_transput__1wbHA[data-controlless="true"]:first-child{\r\n      margin-top: 0px;\r\n    }\r\n.IoPorts_transput__1wbHA[data-controlless="false"]{\r\n    margin-top: 2px;\r\n    margin-bottom: 2px;\r\n  }\r\n.IoPorts_controls__1dKFt{\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n.IoPorts_portLabel__qOE7y{\r\n  font-size: 13px;\r\n  font-weight: 400;\r\n}\r\n.IoPorts_port__1_a6J{\r\n  width: 12px;\r\n  height: 12px;\r\n  background: linear-gradient(to bottom, #acb1b4, #919699);\r\n  border-radius: 100%;\r\n  margin-right: 5px;\r\n  margin-left: -11px;\r\n  flex: 0 0 auto;\r\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\r\n}\r\n.IoPorts_port__1_a6J:last-child{\r\n    margin-right: -11px;\r\n    margin-left: 5px;\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="red"]{\r\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="purple"]{\r\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="blue"]{\r\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="green"]{\r\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="yellow"]{\r\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="orange"]{\r\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\r\n  }\r\n.IoPorts_port__1_a6J[data-port-color="pink"]{\r\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\r\n  }\r\n');qi(".Control_wrapper__VZIiC {\r\n  width: 100%;\r\n  padding-right: 3px;\r\n  padding-top: 3px;\r\n  padding-bottom: 5px;\r\n}\r\n.Control_label__1OX-Q {\r\n  font-size: 14px;\r\n}\r\n.Control_controlLabel__3ga2- {\r\n  font-size: 13px;\r\n  display: inline-block;\r\n  margin-left: 2px;\r\n}\r\n");qi(".Checkbox_wrapper__aSqyY{\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.Checkbox_checkbox__Qv5gn{\r\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\r\n  border: 1px solid #3c3e40;\r\n  border-radius: 4px;\r\n  margin-right: 8px;\r\n}\r\n.Checkbox_label__2RxP-{\r\n  padding-top: 2px;\r\n  font-size: 13px;\r\n}\r\n");var lQ=function(e){var n=e.label,r=e.data,i=e.onChange,o=N.useRef(Df(10));return N.createElement("div",{className:"Checkbox_wrapper__aSqyY"},N.createElement("input",{"data-flume-component":"checkbox",className:"Checkbox_checkbox__Qv5gn",type:"checkbox",id:o.current,checked:r,onChange:function(l){return i(l.target.checked)}}),N.createElement("label",{"data-flume-component":"checkbox-label",className:"Checkbox_label__2RxP-",htmlFor:o.current},n))};qi(".TextInput_wrapper__tefOZ{\r\n  background: none;\r\n  border: none;\r\n}\r\n.TextInput_input__1QHwS{\r\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\r\n  width: 100%;\r\n  border: 1px solid #3c3e40;\r\n  border-radius: 4px;\r\n  font-size: 13px;\r\n  padding: 5px;\r\n  resize: vertical;\r\n  outline: none;\r\n}\r\n.TextInput_input__1QHwS::placeholder{\r\n    color: rgb(47, 49, 50);\r\n  }\r\n.TextInput_input__1QHwS:focus{\r\n    background: linear-gradient(to bottom, #676b6e, #75797c);\r\n  }\r\n");var YP=function(e){var n=e.placeholder,r=e.updateNodeConnections,i=e.onChange,o=e.data,s=e.step,l=e.type,c=N.useRef(null),f=N.useContext(NI),p=function _(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",_)},g=function(E){E.stopPropagation(),r()},y=function(E){E.stopPropagation(),f?.(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)};return N.createElement("div",{className:"TextInput_wrapper__tefOZ","data-flume-component":"text-input"},"number"===l?N.createElement("input",{"data-flume-component":"text-input-number",onKeyDown:function(E){if(69===E.keyCode)return E.preventDefault(),!1},onChange:function(E){var M=E.target.value.replace(/e/g,"");if(M){var $=parseFloat(M);Number.isNaN($)?i(0):(i($),c.current&&(c.current.value=$.toString()))}},onBlur:function(E){E.target.value||(i(0),c.current&&(c.current.value="0"))},step:s||"1",onMouseDown:y,type:l||"text",placeholder:n,className:"TextInput_input__1QHwS",defaultValue:o,onDragStart:function(E){return E.stopPropagation()},ref:c}):N.createElement("textarea",{"data-flume-component":"text-input-textarea",onChange:function(E){return i(E.target.value)},onMouseDown:y,placeholder:n,className:"TextInput_input__1QHwS",value:o,onDragStart:function(E){return E.stopPropagation()}}))};function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}qi('.Select_wrapper__eAPoQ{\r\n  font-size: 14px;\r\n  padding: 3px 6px;\r\n  border-radius: 4px;\r\n  background: linear-gradient(to top, #5b5f62, #6f7477);\r\n  width: 100%;\r\n  border: 1px solid #3c3e40;\r\n  padding-right: 15px;\r\n  position: relative;\r\n}\r\n  .Select_wrapper__eAPoQ::after{\r\n    content: "";\r\n    position: absolute;\r\n    background: none;\r\n    right: 5px;\r\n    top: 8px;\r\n    width: 0;\r\n    height: 0;\r\n    border-style: solid;\r\n    border-width: 6px 5px 0 5px;\r\n    border-color: #191b1c transparent transparent transparent;\r\n  }\r\n  .Select_wrapper__eAPoQ:hover{\r\n    background: linear-gradient(to top, #63676a, #777b7e);\r\n  }\r\n.Select_chipWrapper__3hK2u{\r\n  font-size: 14px;\r\n  padding: 3px 6px;\r\n  border-radius: 4px;\r\n  background: linear-gradient(to top, #5b5f62, #6f7477);\r\n  border: 1px solid #3c3e40;\r\n  margin: 2px;\r\n  position: relative;\r\n}\r\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK{\r\n  opacity: 1;\r\n}\r\n.Select_chipsWrapper__4Alw8{\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 6px;\r\n}\r\n.Select_deleteButton__1FnLK{\r\n  position: absolute;\r\n  right: 0px;\r\n  top: 0px;\r\n  height: 100%;\r\n  width: 22px;\r\n  padding: 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: linear-gradient(to top, #5b5f62, #6f7477);\r\n  border-radius: 3px;\r\n  border: none;\r\n  font-weight: bold;\r\n  opacity: 0;\r\n}\r\n.Select_deleteButton__1FnLK:focus{\r\n  opacity: 1;\r\n}\r\n.Select_deleteButton__1FnLK:hover{\r\n  background: linear-gradient(to top, #64696c, #797f82);\r\n}\r\n.Select_selectedWrapper__SUs4D{\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 4px;\r\n  background: linear-gradient(to top, #5b5f62, #6f7477);\r\n  width: 100%;\r\n  border: 1px solid #3c3e40;\r\n  font-size: 14px;\r\n  padding: 3px 6px;\r\n  padding-right: 15px;\r\n  position: relative;\r\n}\r\n.Select_selectedWrapper__SUs4D::after{\r\n    content: "";\r\n    position: absolute;\r\n    background: none;\r\n    right: 5px;\r\n    top: calc(50% - 4px);\r\n    width: 0;\r\n    height: 0;\r\n    border-style: solid;\r\n    border-width: 6px 5px 0 5px;\r\n    border-color: #191b1c transparent transparent transparent;\r\n  }\r\n.Select_selectedWrapper__SUs4D label{\r\n    margin: 0px;\r\n  }\r\n.Select_selectedWrapper__SUs4D p{\r\n    margin: 0px;\r\n    margin-top: 5px;\r\n    font-size: 12px;\r\n    font-style: italic;\r\n    color: rgb(50, 50, 50);\r\n  }\r\n');var eR=function(e){var n=e.options,r=void 0===n?[]:n,i=e.placeholder,o=void 0===i?"[Select an option]":i,s=e.onChange,l=e.data,c=e.allowMultiple,f=void 0!==c&&c,g=Pn(N.useState(!1),2),y=g[0],_=g[1],M=Pn(N.useState({x:0,y:0}),2),$=M[0],j=M[1],Q=N.useRef(null),se=function(){if(!y){var Ze,He=null===(Ze=Q.current)||void 0===Ze?void 0:Ze.getBoundingClientRect();He&&(j({x:He.x,y:He.y+He.height}),_(!0))}},qt=N.useMemo(function(){var st=r.find(function(Ze){return Ze.value===l});if(st)return ZP(ZP({},st),{},{label:st.label.length>50?st.label.slice(0,50)+"...":st.label})},[r,l]);return N.createElement(N.Fragment,null,f&&"string"!=typeof l?l.length?N.createElement("div",{className:"Select_chipsWrapper__4Alw8"},l.map(function(st,Ze){var He=(r.find(function(Be){return Be.value===st})||{}).label||"";return N.createElement(fQ,{onRequestDelete:function(){return function(Ze){s([].concat(co(l.slice(0,Ze)),co(l.slice(Ze+1))))}(Ze)},key:st},He)})):null:l?N.createElement(dQ,{wrapperRef:Q,option:qt,onClick:se}):null,(f||!l)&&N.createElement("div",{className:"Select_wrapper__eAPoQ",ref:Q,onClick:se},o),y&&N.createElement(wf,null,N.createElement(rv,{x:$.x,y:$.y,emptyText:"There are no options",options:f?r.filter(function(Ze){return!l.includes(Ze.value)}):r,onOptionSelected:function(Ze){f&&Array.isArray(l)?s([].concat(co(l),[Ze.value])):s(Ze.value)},onRequestClose:function(){_(!1)}})))},dQ=function(e){var n=e.option,i=(n=void 0===n?{label:"",description:"",value:""}:n).description;return N.createElement("div",{className:"Select_selectedWrapper__SUs4D",onClick:e.onClick,ref:e.wrapperRef,"data-flume-component":"select"},N.createElement("label",{"data-flume-component":"select-label"},n.label),i?N.createElement("p",{"data-flume-component":"select-desc"},i):null)},fQ=function(e){return N.createElement("div",{className:"Select_chipWrapper__3hK2u"},e.children,N.createElement("button",{className:"Select_deleteButton__1FnLK",onMouseDown:function(o){o.stopPropagation()},onClick:e.onRequestDelete},"\u2715"))};function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pQ=function(e){var n=e.type,r=e.name,i=e.nodeId,o=e.portName,s=e.label,l=e.inputLabel,c=e.data,f=e.allData,p=e.inputData,g=e.triggerRecalculation,y=e.updateNodeConnections,_=e.setValue,E=e.defaultValue,M=e.isMonoControl,$=N.useContext(Tf),j=N.useContext(KS),Q=M?l:s,H=function(Ve){$&&$({type:pr.SET_PORT_DATA,data:Ve,nodeId:i,portName:o,controlName:r,setValue:_}),g()};return N.createElement("div",{className:"Control_wrapper__VZIiC","data-flume-component":"control"},Q&&"checkbox"!==n&&"custom"!==n&&N.createElement("label",{"data-flume-component":"control-label",className:"Control_controlLabel__3ga2-"},Q),function(Ve){var _t={triggerRecalculation:g,updateNodeConnections:y,onChange:H,data:c};switch(Ve){case"select":var qt=e.options,st=e.getOptions,Ze=e.placeholder;return N.createElement(eR,Zs(Zs({},_t),{},{options:st?st(p,j):qt,placeholder:Ze}));case"text":var He=e.placeholder;return N.createElement(YP,Zs(Zs({},_t),{},{placeholder:He}));case"number":var Be=e.step,it=e.placeholder;return N.createElement(YP,Zs(Zs({},_t),{},{step:Be,type:"number",placeholder:it}));case"checkbox":return N.createElement(lQ,Zs(Zs({},_t),{},{label:Q}));case"multiselect":var Yt=e.options,Ot=e.getOptions,ge=e.placeholder;return N.createElement(eR,Zs(Zs({allowMultiple:!0},_t),{},{options:Ot?Ot(p,j):Yt,placeholder:ge}));case"custom":var Ee;return null!==(Ee=(0,e.render)?.(c,H,j,g,{label:s,name:r,portName:o,inputLabel:l,defaultValue:E},f))&&void 0!==Ee?Ee:null;default:return N.createElement("div",null,"Control")}}(n))},hQ=function(e){var i=e.id,o=e.lineRef,s=e.outputNodeId,l=e.outputPortName,c=e.inputNodeId,f=e.inputPortName,p=kf(e.from,e.to);return N.createElement("svg",{className:OP_svg,"data-flume-component":"connection-svg"},N.createElement("path",{"data-connection-id":i,"data-output-node-id":s,"data-output-port-name":l,"data-input-node-id":c,"data-input-port-name":f,"data-flume-component":"connection-path",stroke:"rgb(185, 186, 189)",fill:"none",strokeWidth:3,strokeLinecap:"round",d:p,ref:o}))},mv=function(e){var n=N.useRef();return N.useEffect(function(){n.current=e},[n.current]),n.current};function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iR(t,e,n,r,i){var o=N.useContext(Tf),s=N.useContext(KS),l=N.useMemo(function(){return Array.isArray(t)?t:t(r,i,s)},[t,r,i,s]),c=mv(l);return N.useEffect(function(){if(c&&!Array.isArray(t)){var p,f=function gQ(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function mQ(t,e){if(t){if("string"==typeof t)return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(s)throw l}}}}(c);try{var g=function(){var _=p.value;l.find(function(M){return _.name===M.name})||o?.({type:pr.DESTROY_TRANSPUT,transputType:e,transput:{nodeId:n,portName:""+_.name}})};for(f.s();!(p=f.n()).done;)g()}catch(y){f.e(y)}finally{f.f()}}},[t,l,c,o,n,e]),l}var yQ=function(e){var n=e.nodeId,r=e.inputs,i=void 0===r?[]:r,o=e.outputs,s=void 0===o?[]:o,l=e.connections,c=e.inputData,f=e.updateNodeConnections,p=N.useContext(qS),g=N.useContext(kI),y=iR(i,"input",n,c,l),_=iR(s,"output",n,c,l);return N.createElement("div",{className:"IoPorts_wrapper__3d2hh","data-flume-component":"ports"},y.length?N.createElement("div",{className:"IoPorts_inputs__2etkb","data-flume-component":"ports-inputs"},y.map(function(E){return N.createElement(vQ,Nf(Nf({},E),{},{data:c[E.name]||{},isConnected:!!l.inputs[E.name],triggerRecalculation:g??function(){},updateNodeConnections:f,inputTypes:p??{},nodeId:n,inputData:c,key:E.name}))})):null,!!_.length&&N.createElement("div",{className:"IoPorts_outputs__3JGh-","data-flume-component":"ports-outputs"},_.map(function(E){return N.createElement(_Q,Nf(Nf({},E),{},{triggerRecalculation:g,inputTypes:p,nodeId:n,key:E.name}))})))},vQ=function(e){var n=e.type,r=e.label,i=e.name,o=e.nodeId,s=e.data,l=e.controls,f=e.noControls,p=e.triggerRecalculation,g=e.updateNodeConnections,y=e.isConnected,_=e.inputData,E=e.hidePort,M=e.inputTypes[n]||{},$=M.label,j=M.color,Q=M.controls,H=void 0===Q?[]:Q,se=mv(y),Re=l||H;return N.useEffect(function(){y!==se&&p()},[y,se,p]),N.createElement("div",{"data-flume-component":"port-input",className:"IoPorts_transput__1wbHA","data-controlless":y||f||!Re.length,onDragStart:function(_t){_t.preventDefault(),_t.stopPropagation()}},E?null:N.createElement(oR,{type:n,color:j,name:i,nodeId:o,isInput:!0,triggerRecalculation:p}),(!Re.length||f||y)&&N.createElement("label",{"data-flume-component":"port-label",className:"IoPorts_portLabel__qOE7y"},r||$),f||y?null:N.createElement("div",{className:"IoPorts_controls__1dKFt"},Re.map(function(Ve){return N.createElement(pQ,Nf(Nf({},Ve),{},{nodeId:o,portName:i,triggerRecalculation:p,updateNodeConnections:g,inputLabel:r,data:s[Ve.name],allData:s,key:Ve.name,inputData:_,isMonoControl:1===Re.length}))})))},_Q=function(e){var r=e.name,i=e.nodeId,o=e.type,l=e.triggerRecalculation,c=e.inputTypes[o]||{},p=c.color;return N.createElement("div",{"data-flume-component":"port-output",className:"IoPorts_transput__1wbHA","data-controlless":!0,onDragStart:function(y){y.preventDefault(),y.stopPropagation()}},N.createElement("label",{"data-flume-component":"port-label",className:"IoPorts_portLabel__qOE7y"},e.label||c.label),N.createElement(oR,{type:o,name:r,color:p,nodeId:i,triggerRecalculation:l}))},oR=function(e){var n=e.color,r=void 0===n?"grey":n,i=e.name,o=void 0===i?"":i,s=e.type,l=e.isInput,c=e.nodeId,f=e.triggerRecalculation,p=N.useContext(Tf),g=N.useContext(iv)||{scale:1,translate:{x:0,y:0}},y=N.useContext(FI),_="".concat(pE).concat(y),E=N.useContext(qS)||{},$=Pn(N.useState(!1),2),j=$[0],Q=$[1],se=Pn(N.useState({x:0,y:0}),2),Re=se[0],Ve=se[1],_t=N.useRef(Re),qt=N.useRef(null),st=N.useRef(null),Ze=N.useRef(null),He=function(ge){var Ee;return 1/(null!==(Ee=g?.scale)&&void 0!==Ee?Ee:1)*ge},Be=function(ge){var Ee,fe,we=null!==(Ee=null===(fe=document.getElementById(_))||void 0===fe?void 0:fe.getBoundingClientRect())&&void 0!==Ee?Ee:{x:0,y:0,width:0,height:0},Xe=we.x,Kt=we.y,rn=we.width,Sn=we.height;if(l){var Pt,jn,ln,Gt,Rn,Jt={x:He(ge.clientX-Xe-rn/2)+He(null!==(Pt=null==g||null===(jn=g.translate)||void 0===jn?void 0:jn.x)&&void 0!==Pt?Pt:1),y:He(ge.clientY-Kt-Sn/2)+He(null!==(ln=null==g||null===(Gt=g.translate)||void 0===Gt?void 0:Gt.y)&&void 0!==ln?ln:1)};null===(Rn=Ze.current)||void 0===Rn||Rn.setAttribute("d",kf(_t.current,Jt))}else{var Ue,Me,et,Nt,mn,wn={x:He(ge.clientX-Xe-rn/2)+He(null!==(Ue=null==g||null===(Me=g.translate)||void 0===Me?void 0:Me.x)&&void 0!==Ue?Ue:1),y:He(ge.clientY-Kt-Sn/2)+He(null!==(et=null==g||null===(Nt=g.translate)||void 0===Nt?void 0:Nt.y)&&void 0!==et?et:1)};null===(mn=st.current)||void 0===mn||mn.setAttribute("d",kf(_t.current,wn))}},it=function Ot(ge){var Ee=!!ge.target.dataset.portName;if(l){var fe,we,Xe=null!==(fe=null===(we=Ze.current)||void 0===we?void 0:we.dataset)&&void 0!==fe?fe:{},Kt=Xe.inputNodeId,Sn=Xe.inputPortName,jn=Xe.outputNodeId,ln=void 0===jn?"":jn,Gt=Xe.outputPortName,Rn=void 0===Gt?"":Gt;if(p?.({type:pr.REMOVE_CONNECTION,input:{nodeId:void 0===Kt?"":Kt,portName:void 0===Sn?"":Sn},output:{nodeId:ln,portName:Rn}}),Ee){var Jt=ge.target.dataset,Ue=Jt.portName,Me=Jt.nodeId;ln!==Me&&"output"!==Jt.portTransputType&&E[Jt.portType].acceptTypes.includes(s)&&p?.({type:pr.ADD_CONNECTION,input:{nodeId:Me,portName:Ue},output:{nodeId:ln,portName:Rn}})}}else if(Ee){var vn=ge.target.dataset,kr=vn.portName,mr=vn.nodeId;mr!==c&&"output"!==vn.portTransputType&&E[vn.portType].acceptTypes.includes(s)&&(p?.({type:pr.ADD_CONNECTION,output:{nodeId:c,portName:o},input:{nodeId:mr,portName:kr}}),f())}Q(!1),document.removeEventListener("mouseup",Ot),document.removeEventListener("mousemove",Be)};return N.createElement(N.Fragment,null,N.createElement("div",{style:{zIndex:999},onMouseDown:function(ge){var Ee,fe;ge.preventDefault(),ge.stopPropagation();var we=(null===(Ee=qt.current)||void 0===Ee?void 0:Ee.getBoundingClientRect())||{},Xe=we.x,Kt=void 0===Xe?0:Xe,rn=we.y,Sn=void 0===rn?0:rn,Pt=we.width,jn=void 0===Pt?0:Pt,ln=(null===(fe=document.getElementById(_))||void 0===fe?void 0:fe.getBoundingClientRect())||{},Gt=ln.x,Rn=void 0===Gt?0:Gt,Jt=ln.y,Ue=void 0===Jt?0:Jt,Me=ln.width,et=void 0===Me?0:Me,Nt=ln.height,mn=void 0===Nt?0:Nt;if(l){if(Ze.current=document.querySelector('[data-input-node-id="'.concat(c,'"][data-input-port-name="').concat(o,'"]')),Ze.current&&Ze.current&&Ze.current.parentElement){Ze.current.parentElement.style.zIndex="9999";var vn=ng(Ze.current.dataset.outputNodeId||"",Ze.current.dataset.outputPortName||"","output")||{},kr=vn.x,ho=vn.y,go=void 0===ho?0:ho,Qi=vn.width,$o=void 0===Qi?0:Qi,jo={x:He((void 0===kr?0:kr)-Rn+$o/2-et/2)+He(g.translate.x),y:He(go-Ue+$o/2-mn/2)+He(g.translate.y)};Ve(jo),_t.current=jo,Q(!0),document.addEventListener("mouseup",it),document.addEventListener("mousemove",Be)}}else{var Vo={x:He(Kt-Rn+jn/2-et/2)+He(g.translate.x),y:He(Sn-Ue+jn/2-mn/2)+He(g.translate.y)};Ve(Vo),_t.current=Vo,Q(!0),document.addEventListener("mouseup",it),document.addEventListener("mousemove",Be)}},className:"IoPorts_port__1_a6J","data-port-color":r,"data-port-name":o,"data-port-type":s,"data-port-transput-type":l?"input":"output","data-node-id":c,"data-flume-component":"port-handle",onDragStart:function(ge){ge.preventDefault(),ge.stopPropagation()},ref:qt}),j&&!l?N.createElement(wf,{node:document.getElementById("".concat(RP).concat(y))},N.createElement(hQ,{from:Re,to:Re,lineRef:st})):null)},CQ=["children","className"];function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var SQ=function(e){var n,r,i,o=e.id,s=e.width,l=e.x,c=e.y,f=e.stageRect,p=e.connections,g=e.type,y=e.inputData,_=e.onDragStart,E=e.renderNodeHeader,M=null!==(n=N.useContext(OI))&&void 0!==n?n:void 0,$=null!==(r=N.useContext(WS))&&void 0!==r?r:{},j=N.useContext(Tf),Q=null!==(i=N.useContext(iv))&&void 0!==i?i:{scale:0,translate:{x:0,y:0}},H=$[g],se=H.label,Re=H.deletable,Ve=H.inputs,_t=void 0===Ve?[]:Ve,qt=H.outputs,st=void 0===qt?[]:qt,Ze=N.useRef(null),Be=Pn(N.useState(!1),2),it=Be[0],Yt=Be[1],ge=Pn(N.useState({x:0,y:0}),2),Ee=ge[0],fe=ge[1],we=function(Ue){return 1/Q.scale*Ue},Xe=function(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Me=arguments.length>1?arguments[1]:void 0;Object.entries(Ue).forEach(function(et){var Nt=Pn(et,2),mn=Nt[0];Nt[1].forEach(function(vn){var kr,mr,ho,go,Qi,$o,jo,Vo,Kr,tl,Tg,Wc,bb,wb,Db,Tb,xb,Mb,Ab,Ib,Pb,Rb,kb,xg,jf=ng(o,mn,Me?"output":"input",M),nl=ng(vn.nodeId,vn.portName,Me?"input":"output",M),n_=(null!==(kr=nl?.width)&&void 0!==kr?kr:0)/2;xg=Me?o+mn+vn.nodeId+vn.portName:vn.nodeId+vn.portName+o+mn;var Mg,$O=null==M||null===(mr=M.current)||void 0===mr?void 0:mr.connections[xg];$O?Mg=$O:(Mg=document.querySelector('[data-connection-id="'.concat(xg,'"]')))&&M&&M.current&&(M.current.connections[xg]=Mg);var GX={x:we((null!==(ho=jf?.x)&&void 0!==ho?ho:0)-(null!==(go=null===(Qi=f.current)||void 0===Qi?void 0:Qi.x)&&void 0!==go?go:0)+n_-(null!==($o=null===(jo=f.current)||void 0===jo?void 0:jo.width)&&void 0!==$o?$o:0)/2)+we(Q.translate.x),y:we((null!==(Vo=jf?.y)&&void 0!==Vo?Vo:0)-(null!==(Kr=null===(tl=f.current)||void 0===tl?void 0:tl.y)&&void 0!==Kr?Kr:0)+n_-(null!==(Tg=null===(Wc=f.current)||void 0===Wc?void 0:Wc.height)&&void 0!==Tg?Tg:0)/2)+we(Q.translate.y)},WX={x:we((null!==(bb=nl?.x)&&void 0!==bb?bb:0)-(null!==(wb=null===(Db=f.current)||void 0===Db?void 0:Db.x)&&void 0!==wb?wb:0)+n_-(null!==(Tb=null===(xb=f.current)||void 0===xb?void 0:xb.width)&&void 0!==Tb?Tb:0)/2)+we(Q.translate.x),y:we((null!==(Mb=nl?.y)&&void 0!==Mb?Mb:0)-(null!==(Ab=null===(Ib=f.current)||void 0===Ib?void 0:Ib.y)&&void 0!==Ab?Ab:0)+n_-(null!==(Pb=null===(Rb=f.current)||void 0===Rb?void 0:Rb.height)&&void 0!==Pb?Pb:0)/2)+we(Q.translate.y)};null===(kb=Mg)||void 0===kb||kb.setAttribute("d",kf(GX,WX))})})},Kt=function(){p&&(Xe(p.inputs),Xe(p.outputs,!0))},jn=function(Ue){return Ue.preventDefault(),Ue.stopPropagation(),fe({x:Ue.clientX,y:Ue.clientY}),Yt(!0),!1},ln=function(){Yt(!1)},Gt=function(){j?.({type:pr.REMOVE_NODE,nodeId:o})};return N.createElement(ov,{className:"Node_wrapper__3SmT7",style:{width:s,transform:"translate(".concat(l,"px, ").concat(c,"px)")},onDragStart:function(){_()},onDrag:function(Ue){var et=Ue.y;Ze.current&&(Ze.current.style.transform="translate(".concat(Ue.x,"px,").concat(et,"px)"),Kt())},onDragEnd:function(Ue,Me){j?.(yv(yv({type:pr.SET_NODE_COORDINATES},Me),{},{nodeId:o}))},innerRef:Ze,"data-node-id":o,"data-flume-component":"node",onContextMenu:jn,stageState:Q,stageRect:f},E?E(aR,H,{openMenu:jn,closeMenu:ln,deleteNode:Gt}):N.createElement(aR,null,se),N.createElement(yQ,{nodeId:o,inputs:_t,outputs:st,connections:p,updateNodeConnections:Kt,inputData:y}),it?N.createElement(wf,null,N.createElement(rv,{x:Ee.x,y:Ee.y,options:co(!1!==Re?[{label:"Delete Node",value:"deleteNode",description:"Deletes a node and all of its connections."}]:[]),onRequestClose:ln,onOptionSelected:function(Ue){"deleteNode"===Ue.value&&Gt()},hideFilter:!0,label:"Node Options",emptyText:"This node has no options."})):null)},aR=function(e){var n=e.children,r=e.className,i=void 0===r?"":r,o=Qa(e,CQ);return N.createElement("h2",yv(yv({},o),{},{className:"Node_label__3MmhF"+(i?" ".concat(i):""),"data-flume-component":"node-header"}),n)};qi('.Comment_wrapper__1Pnbd {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  padding: 5px;\r\n  background: rgba(147, 154, 158, 0.7);\r\n  border-radius: 5px;\r\n  border-bottom-right-radius: 2px;\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\r\n  min-width: 80px;\r\n  font-size: 14px;\r\n  display: flex;\r\n  text-shadow: 0px 1px rgba(255,255,255,.1);\r\n  border: 1px solid rgba(168, 176, 181, 0.7);\r\n  user-select: none;\r\n}\r\n  .Comment_wrapper__1Pnbd[data-color="red"]{\r\n    background: rgba(213, 84, 103, 0.65);\r\n    border-color: rgba(227, 85, 119, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="purple"]{\r\n    background: rgba(153, 83, 196, 0.65);\r\n    border-color: rgba(156, 85, 227, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="blue"]{\r\n    background: rgba(76, 142, 203, 0.65);\r\n    border-color: rgba(85, 159, 227, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="green"]{\r\n    background: rgba(70, 200, 130, 0.65);\r\n    border-color: rgba(85, 227, 150, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="yellow"]{\r\n    background: rgba(200, 167, 63, 0.65);\r\n    border-color: rgba(227, 213, 85, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="orange"]{\r\n    background: rgba(215, 123, 64, 0.65);\r\n    border-color: rgba(227, 149, 85, 0.65);\r\n  }\r\n  .Comment_wrapper__1Pnbd[data-color="pink"]{\r\n    background: rgba(255, 102, 208, 0.65);\r\n    border-color: rgba(242, 131, 228, 0.65);\r\n  }\r\n.Comment_text__Ie2nX{\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  white-space: pre-wrap;\r\n  cursor: default;\r\n}\r\n.Comment_resizeThumb__20KWn {\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 4px 0px 4px 0px;\r\n  position: absolute;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  overflow: hidden;\r\n  cursor: nwse-resize;\r\n}\r\n.Comment_resizeThumb__20KWn::before,\r\n  .Comment_resizeThumb__20KWn::after {\r\n    content: "";\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n    width: 250%;\r\n    height: 0px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\r\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\r\n    transform-origin: center right;\r\n    transform: rotate(-45deg) scale(0.5);\r\n  }\r\n.Comment_resizeThumb__20KWn::after {\r\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\r\n  }\r\n.Comment_textarea__2Rze3 {\r\n  resize: none;\r\n  width: calc(100% + 2px);\r\n  height: calc(100% + 2px);\r\n  border-radius: 3px;\r\n  background: rgba(255,255,255,.1);\r\n  border: none;\r\n  outline: none;\r\n  margin: -2px;\r\n  margin-top: -1px;\r\n  padding-top: 0px;\r\n  font-size: 14px;\r\n}\r\n.Comment_textarea__2Rze3::placeholder{\r\n    color: rgba(0,0,0,.5);\r\n  }\r\n');function SE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EE(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),t}function uR(t){var e=function wQ(t,e){if("object"!==Pi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pi(e)?e:String(e)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}qi('.ColorPicker_wrapper__1M1j2{\r\n  position: fixed;\r\n  z-index: 9999;\r\n  background: rgba(29, 32, 34, 0.95);\r\n  border-radius: 5px;\r\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\r\n  border: 1px solid rgba(0,0,0,.4);\r\n  color: #fff;\r\n  display: flex;\r\n  width: 102px;\r\n  flex-wrap: wrap;\r\n  padding: 2px;\r\n}\r\n@supports (backdrop-filter: blur(6px)){\r\n  .ColorPicker_wrapper__1M1j2{\r\n    backdrop-filter: blur(6px);\r\n    background: rgba(29, 32, 34, 0.8);\r\n  }\r\n}\r\n.ColorPicker_colorButtonWrapper__1ijdj{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 2px;\r\n}\r\n.ColorPicker_colorButton__1Qcuq{\r\n  border-radius: 3px;\r\n  border: none;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: rgba(204, 204, 204, 1);\r\n}\r\n.ColorPicker_colorButton__1Qcuq[data-color="red"]{\r\n    background: rgba(210, 101, 111, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="purple"]{\r\n    background: rgba(159, 101, 210, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="blue"]{\r\n    background: rgba(101, 151, 210, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="green"]{\r\n    background: rgba(101, 210, 168, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="orange"]{\r\n    background: rgba(210, 137, 101, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="yellow"]{\r\n    background: rgba(210, 196, 101, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq[data-color="pink"]{\r\n    background: rgba(241, 124, 226, 1)\r\n  }\r\n.ColorPicker_colorButton__1Qcuq:hover{\r\n    opacity: .8;\r\n  }\r\n');var hr=function(e,n){return void 0!==e?e:n},Ff=function(e,n,r){return function(i){return n?.(i),ig({type:e.type,label:hr(i.label,e.label||""),name:hr(i.name,e.name||""),defaultValue:hr(i.defaultValue,e.defaultValue),setValue:hr(i.setValue,void 0)},r?.(i)||{})}},bE={text:Ff({type:"text",name:"text",defaultValue:""}),select:Ff({type:"select",name:"select",options:[],defaultValue:""},function(){},function(t){return{options:hr(t.options,[]),getOptions:hr(t.getOptions,void 0),placeholder:hr(t.placeholder,void 0)}}),number:Ff({type:"number",name:"number",defaultValue:0},function(){},function(t){return{step:hr(t.step,void 0)}}),checkbox:Ff({type:"checkbox",name:"checkbox",defaultValue:!1}),multiselect:Ff({type:"multiselect",name:"multiselect",options:[],defaultValue:[]},function(){},function(t){return{options:hr(t.options,[]),getOptions:hr(t.getOptions,void 0),placeholder:hr(t.placeholder,void 0)}}),custom:Ff({type:"custom",name:"custom",render:function(){return null},defaultValue:void 0},function(){},function(t){return{render:hr(t.render,function(){})}})},wE={yellow:"yellow",orange:"orange",red:"red",pink:"pink",purple:"purple",blue:"blue",green:"green",grey:"grey"},dR=function(e){return Object.values(e).reduce(function(n,r){return n[r.type]=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.type,name:i.name||r.name,label:i.label||r.label,noControls:hr(i.noControls,!1),color:i.color||r.color,hidePort:hr(i.hidePort,r.hidePort),controls:hr(i.controls,r.controls)}},n},{})},DQ=function(){function t(e){SE(this,t),e?(this.nodeTypes=ig({},e.nodeTypes),this.portTypes=ig({},e.portTypes)):(this.nodeTypes={},this.portTypes={})}return EE(t,[{key:"addRootNodeType",value:function(n){return this.addNodeType(ig(ig({},n),{},{root:!0,addable:!1,deletable:!1})),this}},{key:"addNodeType",value:function(n){if("object"!==Pi(n)&&null!==n)throw new Error("You must provide a configuration object when calling addNodeType.");if("string"!=typeof n.type)throw new Error('Required key, "type" must be a string when calling addNodeType.');if(typeof n.initialWidth<"u"&&"number"!=typeof n.initialWidth)throw new Error('Optional key, "initialWidth" must be a number when calling addNodeType.');if(void 0!==this.nodeTypes[n.type])throw new Error('A node with type "'.concat(n.type,'" has already been declared.'));var r={type:n.type,label:hr(n.label,""),description:hr(n.description,""),addable:hr(n.addable,!0),deletable:hr(n.deletable,!0)};if(n.initialWidth&&(r.initialWidth=n.initialWidth),void 0!==n.sortIndex&&(r.sortIndex=n.sortIndex),"function"==typeof n.inputs){var i=n.inputs(dR(this.portTypes));if(!Array.isArray(i)&&"function"!=typeof n.inputs)throw new Error('When providing a function to the "inputs" key, you must return either an array or a function.');r.inputs=i}else if(void 0===n.inputs)r.inputs=[];else{if(!Array.isArray(n.inputs))throw new Error('Optional key, "inputs" must be an array.');r.inputs=n.inputs}if("function"==typeof n.outputs){var o=n.outputs(dR(this.portTypes));if(!Array.isArray(o)&&"function"!=typeof n.outputs)throw new Error('When providing a function to the "outputs" key, you must return either an array or a function.');r.outputs=o}else if(void 0===n.outputs)r.outputs=[];else{if(void 0!==n.outputs&&!Array.isArray(n.outputs))throw new Error('Optional key, "outputs" must be an array.');r.outputs=n.outputs}if(void 0!==n.root){if("boolean"!=typeof n.root)throw new Error('Optional key, "root" must be a boolean.');r.root=n.root}return this.nodeTypes[n.type]=r,this}},{key:"removeNodeType",value:function(n){if(this.nodeTypes[n]){var i=Qa(this.nodeTypes,[n].map(uR));this.nodeTypes=i}else console.error('Non-existent node type "'.concat(n,'" cannot be removed.'));return this}},{key:"addPortType",value:function(n){if("object"!==Pi(n)&&null!==n)throw new Error("You must provide a configuration object when calling addPortType");if("string"!=typeof n.type)throw new Error('Required key, "type" must be a string when calling addPortType.');if(void 0!==this.portTypes[n.type])throw new Error('A port with type "'.concat(n.type,'" has already been declared.'));if("string"!=typeof n.name)throw new Error('Required key, "name" must be a string when calling addPortType.');var r={type:n.type,name:n.name,label:hr(n.label,""),color:hr(n.color,wE.grey),hidePort:hr(n.hidePort,!1)};if(void 0===n.acceptTypes)r.acceptTypes=[n.type];else{if(!Array.isArray(n.acceptTypes))throw new Error('Optional key, "acceptTypes" must be an array.');r.acceptTypes=n.acceptTypes}if(void 0===n.controls)r.controls=[];else{if(!Array.isArray(n.controls))throw new Error('Optional key, "controls" must be an array.');r.controls=n.controls}return this.portTypes[n.type]=r,this}},{key:"removePortType",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.skipDynamicNodesCheck,o=void 0!==i&&i;if(this.portTypes[n]){if(!o){var s=Object.values(this.nodeTypes).filter(function(p){return"function"==typeof p.inputs||"function"==typeof p.outputs});s.length&&console.warn("We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.")}var l=Object.values(this.nodeTypes).filter(function(p){return Array.isArray(p.inputs)&&p.inputs.find(function(g){return g.type===n})||Array.isArray(p.outputs)&&p.outputs.find(function(g){return g.type===n})});if(l.length)throw new Error('Cannot delete port type "'.concat(n,'" without first deleting all node types using these ports: [').concat(l.map(function(p){return"".concat(p.type)}).join(", "),"]"));var c=this.portTypes,f=Qa(c,[n].map(uR));this.portTypes=f}else console.error('Non-existent port type "'.concat(n,'" cannot be removed.'));return this}}]),t}(),TQ=function(t){var e=t.x,n=t.y,r=t.onColorPicked,i=t.onRequestClose,o=N.useRef(null),s=N.useCallback(function(c){o.current&&!o.current.contains(c.target)&&(i(),document.removeEventListener("click",s),document.removeEventListener("contextmenu",s))},[o,i]),l=N.useCallback(function(c){27===c.keyCode&&(i(),document.removeEventListener("keydown",l))},[i]);return N.useEffect(function(){return document.addEventListener("keydown",l),document.addEventListener("click",s),document.addEventListener("contextmenu",s),function(){document.removeEventListener("click",s),document.removeEventListener("contextmenu",s),document.removeEventListener("keydown",l)}},[s,l]),N.createElement("div",{"data-flume-component":"color-picker",ref:o,className:"ColorPicker_wrapper__1M1j2",style:{left:e,top:n}},Object.values(wE).map(function(c){var f=c;return N.createElement(xQ,{onSelected:function(){r(f),i()},color:f,key:f})}))},xQ=function(e){var n=e.color;return N.createElement("div",{className:"ColorPicker_colorButtonWrapper__1ijdj"},N.createElement("button",{"data-flume-component":"color-button",className:"ColorPicker_colorButton__1Qcuq",onClick:e.onSelected,"data-color":n,"aria-label":n}))},MQ=function(t){var e=t.dispatch,n=t.id,r=t.x,i=t.y,o=t.width,s=t.height,l=t.color,c=t.text,f=t.stageRect,p=t.onDragStart,g=t.isNew,y=N.useContext(iv),_=N.useRef(null),E=N.useRef(null),$=Pn(N.useState(!1),2),j=$[0],Q=$[1],se=Pn(N.useState(!1),2),Re=se[0],Ve=se[1],qt=Pn(N.useState(!1),2),st=qt[0],Ze=qt[1],Be=Pn(N.useState({x:0,y:0}),2),it=Be[0],Yt=Be[1],ge=Pn(N.useState({x:0,y:0}),2),Ee=ge[0],fe=ge[1],Gt=function(){Q(!0)};return N.useEffect(function(){g&&(Q(!0),e({type:ii.REMOVE_COMMENT_NEW,id:n}))},[g,e,n]),N.createElement(ov,{innerRef:_,className:"Comment_wrapper__1Pnbd",style:{transform:"translate(".concat(r,"px,").concat(i,"px)"),width:o,height:s,zIndex:j?999:""},stageState:y,stageRect:f,onDragStart:function(et){p()},onDrag:function(et){var mn=et.y;_.current&&(_.current.style.transform="translate(".concat(et.x,"px,").concat(mn,"px)"))},onDragEnd:function(et,Nt){e({type:ii.SET_COMMENT_COORDINATES,id:n,x:Nt.x,y:Nt.y})},onContextMenu:function(et){return et.preventDefault(),et.stopPropagation(),Yt({x:et.clientX,y:et.clientY}),Ze(!0),!1},onDoubleClick:Gt,onWheel:function(et){return et.stopPropagation()},"data-color":l,"data-flume-component":"comment"},j?N.createElement("textarea",{"data-flume-component":"comment-textarea",className:"Comment_textarea__2Rze3",onChange:function(et){e({type:ii.SET_COMMENT_TEXT,id:n,text:et.target.value})},onMouseDown:function(et){return et.stopPropagation()},onBlur:function(){Q(!1)},placeholder:"Text of the comment...",autoFocus:!0,value:c,ref:E}):N.createElement("div",{"data-flume-component":"comment-text","data-comment":!0,className:"Comment_text__Ie2nX"},c),N.createElement(ov,{className:"Comment_resizeThumb__20KWn",stageState:y,stageRect:f,onDrag:function(et){var Nt=lu(et.x-r+10,80,1e4),mn=lu(et.y-i+10,30,1e4);_.current&&(_.current.style.width="".concat(Nt,"px"),_.current.style.height="".concat(mn,"px"))},onDragEnd:function(et,Nt){var mn=lu(Nt.x-r+10,80,1e4),wn=lu(Nt.y-i+10,30,1e4);e({type:ii.SET_COMMENT_DIMENSIONS,id:n,width:mn,height:wn})},"data-flume-component":"comment-resize-handle"}),st?N.createElement(wf,null,N.createElement(rv,{hideFilter:!0,label:"Comment Options",x:it.x,y:it.y,options:[{value:"edit",label:"Edit Comment",description:"Edit the text of the comment"},{value:"color",label:"Change Color",description:"Change the color of the comment"},{value:"delete",label:"Delete Comment",description:"Delete the comment"}],onRequestClose:function(){return Ze(!1)},onOptionSelected:function(et){switch(et.value){case"edit":Gt();break;case"color":fe(it),Ve(!0);break;case"delete":e({type:ii.DELETE_COMMENT,id:n})}}})):null,Re?N.createElement(wf,null,N.createElement(TQ,{x:Ee.x,y:Ee.y,onRequestClose:function(){return Ve(!1)},onColorPicked:function(et){e({type:ii.SET_COMMENT_COLOR,id:n,color:et})}})):null)};function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Xs=(()=>(function(t){t.ADD_TOAST="ADD_TOAST",t.REMOVE_TOAST="REMOVE_TOAST",t.SET_HEIGHT="SET_HEIGHT",t.SET_EXITING="SET_EXITING"}(Xs||(Xs={})),Xs))(),AQ=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Xs.ADD_TOAST:return[{id:Df(5),title:e.title,message:e.message,type:e.toastType||"info",duration:e.duration||1e4,height:0,exiting:!1}].concat(co(t));case Xs.SET_HEIGHT:var n=t.findIndex(function(o){return o.id===e.id});return[].concat(co(t.slice(0,n)),[_v(_v({},t[n]),{},{height:e.height})],co(t.slice(n+1)));case Xs.SET_EXITING:var r=t.findIndex(function(o){return o.id===e.id});return[].concat(co(t.slice(0,r)),[_v(_v({},t[r]),{},{exiting:!0})],co(t.slice(r+1)));case Xs.REMOVE_TOAST:var i=t.findIndex(function(o){return o.id===e.id});return[].concat(co(t.slice(0,i)),co(t.slice(i+1)));default:return t}};function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}qi('.Toaster_toaster__1eC3T{\r\n  position: absolute;\r\n  left: 0px;\r\n  bottom: 0px;\r\n  width: 100%;\r\n  height: 1px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-bottom: 15px;\r\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\r\n  pointer-events: none;\r\n}\r\n.Toaster_toast__3YHVS{\r\n  position: absolute;\r\n  left: calc(50% - 200px);\r\n  top: 0px;\r\n  pointer-events: all;\r\n  width: 400px;\r\n  padding: 10px;\r\n  padding-top: 7px;\r\n  padding-right: 16px;\r\n  border-radius: 6px;\r\n  background: rgba(231, 231, 231, 1);\r\n  border: 1px solid;\r\n  margin-bottom: 5px;\r\n  transition: transform 300ms;\r\n  flex: 0 0 auto;\r\n  animation: Toaster_fade-in__2526Y 150ms;\r\n  user-select: none;\r\n  font-size: 14px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  will-change: transform;\r\n}\r\n.Toaster_toast__3YHVS[data-type="danger"]{\r\n    background: rgb(255, 116, 137);\r\n    border-color: rgb(254, 99, 136);\r\n    color: rgb(66, 6, 20);\r\n  }\r\n.Toaster_toast__3YHVS[data-type="info"]{\r\n    background: rgb(76, 193, 250);\r\n    border-color: rgb(103, 182, 255);\r\n    color: rgb(5, 36, 64);\r\n  }\r\n.Toaster_toast__3YHVS[data-type="success"]{\r\n    background: rgb(81, 230, 150);\r\n    border-color: rgb(85, 227, 150);\r\n    color: rgb(7, 57, 30);\r\n  }\r\n.Toaster_toast__3YHVS[data-type="warning"]{\r\n    background: rgb(245, 208, 93);\r\n    border-color: rgb(247, 235, 125);\r\n    color: rgb(83, 75, 8);\r\n  }\r\n.Toaster_toast__3YHVS[data-exiting=true]{\r\n    animation: Toaster_fade-out__2lM6E 150ms;\r\n    animation-fill-mode: forwards;\r\n  }\r\n.Toaster_toast__3YHVS p{\r\n  margin: 0px;\r\n}\r\n.Toaster_title__4InNr{\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n.Toaster_timer__3dGzF{\r\n  position: absolute;\r\n  bottom: -1px;\r\n  left: -1px;\r\n  width: calc(100% + 2px);\r\n  height: 3px;\r\n  background: rgba(0,0,0,.4);\r\n  transform-origin: left center;\r\n  animation: Toaster_timer__3dGzF 1000ms linear;\r\n  animation-fill-mode: forwards;\r\n  z-index: 9;\r\n}\r\n.Toaster_exitButton__1S_Ks{\r\n  position: absolute;\r\n  right: 0px;\r\n  top: 0px;\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 0px;\r\n  background: none;\r\n  border: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 14px;\r\n  color: inherit;\r\n  opacity: .6;\r\n}\r\n.Toaster_exitButton__1S_Ks:hover{\r\n  opacity: .9;\r\n}\r\n\r\n@keyframes Toaster_fade-in__2526Y {\r\n  from{\r\n    opacity: 0;\r\n  }\r\n  to{\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes Toaster_fade-out__2lM6E {\r\n  from{\r\n    opacity: 1;\r\n  }\r\n  to{\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes Toaster_timer__3dGzF {\r\n  from{\r\n    transform: scaleX(1);\r\n  }\r\n  to{\r\n    transform: scaleX(0);\r\n  }\r\n}\r\n');var PQ=function(e){var n=e.toasts,r=void 0===n?[]:n,i=e.dispatchToasts,o=N.useCallback(function(c,f){i({type:Xs.SET_HEIGHT,id:c,height:f})},[i]),s=N.useCallback(function(c){i({type:Xs.SET_EXITING,id:c})},[i]),l=N.useCallback(function(c){i({type:Xs.REMOVE_TOAST,id:c})},[i]);return N.createElement("div",{className:"Toaster_toaster__1eC3T"},r.map(function(c,f){return N.createElement(RQ,hR(hR({},c),{},{onHeightReceived:o,onExitRequested:s,onRemoveRequested:l,y:r.slice(0,f+1).reduce(function(p,g){return g.height+p+5},0),key:c.id}))}))},RQ=function(e){var n=e.id,r=e.title,i=e.message,o=e.duration,s=e.type,l=e.exiting,c=e.y,f=e.onHeightReceived,p=e.onExitRequested,g=e.onRemoveRequested,_=Pn(N.useState(!1),2),E=_[0],M=_[1],$=N.useRef(null),j=N.useRef(),Q=N.useCallback(function(){M(!0),j.current&&clearTimeout(j.current)},[]),H=N.useCallback(function(){M(!1),j.current=setTimeout(function(){return p(n)},o)},[n,o,p]);return N.useLayoutEffect(function(){if($.current){var Re=$.current.getBoundingClientRect();f(n,Re.height)}},[f,n]),N.useEffect(function(){return H(),Q},[H,Q]),N.createElement("div",{"data-flume-component":"toast",ref:$,className:"Toaster_toast__3YHVS","data-type":s,style:{transform:"translateY(-".concat(c,"px)")},"data-exiting":l,onAnimationEnd:function(){l&&g(n)},onMouseEnter:Q,onMouseLeave:H,role:"alert"},r?N.createElement("span",{"data-flume-component":"toast-title",className:"Toaster_title__4InNr"},r):null,N.createElement("p",{"data-flume-component":"toast-message"},i),!E&&N.createElement("div",{className:"Toaster_timer__3dGzF",style:{animationDuration:"".concat(o,"ms")},onAnimationEnd:function(Ve){return Ve.stopPropagation()}}),N.createElement("button",{"data-flume-component":"toast-close",className:"Toaster_exitButton__1S_Ks",onClick:function(){Q(),p(n)}},"\u2715"))};qi(".Connections_svgWrapper__3mXcU{\r\n  position: absolute;\r\n  left: 0px;\r\n  height: 0px;\r\n}\r\n");var NQ=function(e){var n=e.editorId;return N.createElement("div",{className:"Connections_svgWrapper__3mXcU",id:"".concat(kP).concat(n)})},FQ=EE(function t(){SE(this,t),this.ports={},this.connections={}}),sg={dragWrapper:"styles_dragWrapper__1P7RD",debugWrapper:"styles_debugWrapper__2OSbY"};function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}qi(".styles_dragWrapper__1P7RD{\r\n  z-index: 9999;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n}\r\n.styles_debugWrapper__2OSbY{\r\n  display: flex;\r\n  position: absolute;\r\n  left: 10px;\r\n  bottom: 10px;\r\n  gap: 15px;\r\n}\r\n");var $Q={},jQ=N.forwardRef(function(t,e){var n,r=t.comments,i=t.nodes,o=t.nodeTypes,s=void 0===o?{}:o,l=t.portTypes,c=void 0===l?{}:l,f=t.defaultNodes,p=void 0===f?[]:f,g=t.context,y=void 0===g?$Q:g,_=t.onChange,E=t.onCommentsChange,M=t.initialScale,$=t.spaceToPan,j=void 0!==$&&$,Q=t.hideComments,H=void 0!==Q&&Q,se=t.disableComments,Re=void 0!==se&&se,Ve=t.disableZoom,_t=void 0!==Ve&&Ve,qt=t.disablePan,st=void 0!==qt&&qt,Ze=t.circularBehavior,He=t.renderNodeHeader,Be=t.debug,it=null!==(n=function(e){var n=US?bI():null,r=(0,N.useState)(n),i=r[0],o=r[1];return UH(function(){null===i&&o(bI())},[]),(0,N.useEffect)(function(){!1===US&&(US=!0)},[]),null!=i?String(i):void 0}())&&void 0!==n?n:"",Yt=N.useRef(new FQ),Ot=N.useRef(),Ee=Pn(N.useState(),2),fe=Ee[0],we=Ee[1],Kt=Pn(N.useReducer(AQ,[]),2),rn=Kt[0],Sn=Kt[1],Pt=N.useReducer(function(e,n,r){return function(i,o){return e(i,o,n,r)}}(yE,{nodeTypes:s,portTypes:c,cache:Yt,circularBehavior:Ze,context:y},we),{},function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return vt(vt({},QK(e,r,i,o)),n.reduce(function(l,c,f){return!Object.values(e).find(function(g){return g.type===c.type})&&(l=yE(l,{type:pr.ADD_NODE,id:"default-".concat(f),defaultNode:!0,x:c.x||0,y:c.y||0,nodeType:c.type},{nodeTypes:r,portTypes:i,context:o})),l},{}))}(i,p,s,c,y)}),jn=Pn(Pt,2),ln=jn[0],Gt=jn[1],Jt=Pn(N.useReducer(tQ,r||{}),2),Ue=Jt[0],Me=Jt[1];N.useEffect(function(){Gt({type:pr.HYDRATE_DEFAULT_NODES})},[]);var Nt=Pn(N.useState(!0),2),mn=Nt[0],wn=Nt[1],kr=Pn(N.useReducer(nQ,{scale:"number"==typeof M?lu(M,.1,7):1,translate:{x:0,y:0}}),2),mr=kr[0],ho=kr[1],go=N.useCallback(function(){!function(e,n,r){var i=n.scale,o=function(e){return document.getElementById("".concat(kP).concat(e))}(r);if(o){var s=o.getBoundingClientRect(),l=s.width/2,c=s.height/2,f=function(g){return 1/i*g};Object.values(e).forEach(function(p){p.connections&&p.connections.inputs&&Object.entries(p.connections.inputs).forEach(function(g,y){var _=Pn(g,2),E=_[0];_[1].forEach(function($){var j=ng($.nodeId,$.portName,"output"),Q=ng(p.id,E,"input"),H=j?j.width/2:0;if(j&&Q){var se=$.nodeId+$.portName+p.id+E,Re=document.querySelector('[data-connection-id="'.concat(se,'"]'));Re?function(e){e.line.setAttribute("d",kf(e.from,e.to))}({line:Re,from:{x:f(j.x-s.x+H-l),y:f(j.y-s.y+H-c)},to:{x:f(Q.x-s.x+H-l),y:f(Q.y-s.y+H-c)}}):function(e){var n=e.from,r=e.to,i=e.stage,o=e.id,s=e.outputNodeId,l=e.outputPortName,c=e.inputNodeId,f=e.inputPortName,p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("class",OP_svg);var g=document.createElementNS("http://www.w3.org/2000/svg","path"),y=kf(n,r);g.setAttribute("d",y),g.setAttribute("stroke","rgb(185, 186, 189)"),g.setAttribute("stroke-width","3"),g.setAttribute("stroke-linecap","round"),g.setAttribute("fill","none"),g.setAttribute("data-connection-id",o),g.setAttribute("data-output-node-id",s),g.setAttribute("data-output-port-name",l),g.setAttribute("data-input-node-id",c),g.setAttribute("data-input-port-name",f),p.appendChild(g),i.appendChild(p)}({id:se,outputNodeId:$.nodeId,outputPortName:$.portName,inputNodeId:p.id,inputPortName:E,from:{x:f(j.x-s.x+H-l),y:f(j.y-s.y+H-c)},to:{x:f(Q.x-s.x+H-l),y:f(Q.y-s.y+H-c)},stage:o})}})})})}}(ln,mr,it)},[ln,it,mr]),Qi=function(){var tl;Ot.current=null===(tl=document.getElementById("".concat(pE).concat(it)))||void 0===tl?void 0:tl.getBoundingClientRect()};N.useLayoutEffect(function(){mn&&(go(),wn(!1))},[mn,go]),N.useImperativeHandle(e,function(){return{getNodes:function(){return ln},getComments:function(){return Ue}}});var jo=mv(ln);N.useEffect(function(){jo&&_&&ln!==jo&&_(ln)},[ln,jo,_]);var Vo=mv(Ue);return N.useEffect(function(){Vo&&E&&Ue!==Vo&&E(Ue)},[Ue,Vo,E]),N.useEffect(function(){fe&&(Sn(fe),we(void 0))},[fe]),N.createElement(qS.Provider,{value:c},N.createElement(WS.Provider,{value:s},N.createElement(Tf.Provider,{value:Gt},N.createElement(kI.Provider,{value:function(){wn(!0)}},N.createElement(KS.Provider,{value:y},N.createElement(iv.Provider,{value:mr},N.createElement(OI.Provider,{value:Yt},N.createElement(FI.Provider,{value:it},N.createElement(NI.Provider,{value:Qi},N.createElement(rQ,{editorId:it,scale:mr.scale,translate:mr.translate,spaceToPan:j,disablePan:st,disableZoom:_t,dispatchStageState:ho,dispatchComments:Me,disableComments:Re||H,stageRef:Ot,numNodes:Object.keys(ln).length,outerStageChildren:N.createElement(N.Fragment,null,Be&&N.createElement("div",{className:sg.debugWrapper},N.createElement("button",{className:sg.debugButton,onClick:function(){return console.log(ln)}},"Log Nodes"),N.createElement("button",{className:sg.debugButton,onClick:function(){return console.log(JSON.stringify(ln))}},"Export Nodes"),N.createElement("button",{className:sg.debugButton,onClick:function(){return console.log(Ue)}},"Log Comments")),N.createElement(PQ,{toasts:rn,dispatchToasts:Sn}))},!H&&Object.values(Ue).map(function(Kr){return N.createElement(MQ,Cv(Cv({},Kr),{},{stageRect:Ot,dispatch:Me,onDragStart:Qi,key:Kr.id}))}),Object.values(ln).map(function(Kr){return N.createElement(SQ,Cv(Cv({},Kr),{},{stageRect:Ot,onDragStart:Qi,renderNodeHeader:He,key:Kr.id}))}),N.createElement(NQ,{editorId:it}),N.createElement("div",{className:sg.dragWrapper,id:"".concat(RP).concat(it)})))))))))))});function ag(t,e){return(ag=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(t,e)}function UQ(t,e){if(e&&("object"===Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function BQ(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lg(t){return(lg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function zQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sv(t,e,n){return(Sv=zQ()?Reflect.construct:function(i,o,s){var l=[null];l.push.apply(l,o);var f=new(Function.bind.apply(i,l));return s&&ag(f,s.prototype),f}).apply(null,arguments)}function DE(t){var e="function"==typeof Map?new Map:void 0;return DE=function(r){if(null===r||!function HQ(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Sv(r,arguments,lg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ag(i,r)},DE(t)}var qQ=function(t){!function VQ(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ag(t,e)}(n,t);var e=function GQ(t){var e=function WQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=lg(t);if(e){var o=lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UQ(this,i)}}(n);function n(r,i){var o;return SE(this,n),(o=e.call(this,r)).code=i,o}return EE(n)}(DE(Error));Tn(qQ,"maxLoopsExceeded",1);var KQ=w(351),_R=w(340);class QQ{constructor(e){this.game=e}ToString(e){return e.pipe(Ie(n=>""+n))}ToNumber(e){return e.pipe(Ie(n=>+n))}ToBoolean(e){return e.pipe(Ie(n=>!!n))}getStack(e,n){return void 0!==n?Cn([e,n]).pipe(Ke(([r,i])=>ce(i.stacks[r]))):e.pipe(Ke(r=>ce(this.game.gameState.stacks[r])))}getVariable(e){return e.pipe(Ke(n=>ce(this.game.gameState.variables[n].value)))}setVariable(e,n){return Cn([e,n]).pipe(Ke(([r,i])=>(this.game.gameState.variables[r].value=i,ce(!0))))}players(){return ce(Object.values(this.game.gameState.players).sort((e,n)=>this.game.gameState.playerOrder.indexOf(e.id)-this.game.gameState.playerOrder.indexOf(n.id)))}randomChoice(e){return e.pipe(Ke(n=>ce(n[Math.floor(n.length*this.game.random())])))}currentPlayer(){return ce(this.game.gameState.players[this.game.gameState.playerOrder[this.game.gameState.playersTurn]])}nextPlayer(){return ce(this.game.gameState.players[this.game.gameState.playerOrder[(this.game.gameState.playersTurn+1)%this.game.gameState.playerOrder.length]])}setPhase(e,n){return Cn([n,e]).pipe(Ke(([r,i])=>(this.game.gameState.playersTurn=this.game.gameState.playerOrder.indexOf(i.id),this.game.gameState.activePhase=r,ce(!0))))}cards(e){return e.pipe(Ke(n=>ce(n.cards)))}topCards(e,n){return void 0===n&&(n=ce(1)),Cn([n,e]).pipe(Ke(([r,i])=>ce(i.cards.slice(-r))))}bottomCards(e,n){return void 0===n&&(n=ce(1)),Cn([n,e]).pipe(Ke(([r,i])=>ce(i.cards.slice(0,r))))}empty(e){return e.pipe(Ke(n=>ce(0===n.length)))}end(e){return e.pipe(Ke(n=>(this.game.gameState.ended=n,ce(n))))}runAction(e){return e.pipe(Ke(n=>{n in this.game.gameState.actionCounter?this.game.gameState.actionCounter[n]+=1:this.game.gameState.actionCounter[n]=1;const r=this.game.gameType.gameActions[n];return r&&r.action?this.game.runFunction(r.action):ce(!1)}))}moveCards(e,n,r){return Cn([e,n,r]).pipe(Ke(([i,o,s])=>{for(let l of s){let f,c=i.cards.findIndex(g=>g.id===l.id);if(-1===c)continue;this.game.skipMode||(f=JSON.parse(JSON.stringify(this.game.gameState)));let p=i.cards.splice(c,1)[0];o.cards.push(p),this.game.skipMode||(f.animations.push({fromId:p.id,toId:o.id,targetId:p.id,type:"fly",duration:100,next:50}),this.game.nextGameStates.push(f))}return ce(!0)}))}populate(e,n){return void 0===n&&(n=ce(1)),Cn([n,e]).pipe(Ke(([r,i])=>{const o=[];i.cards=[];for(let s of Object.values(this.game.gameType.cards))for(let l=0;l<r;l++){const c={cardType:s,id:this.game.createHash()};i.cards.push(c),this.game.skipMode||o.push({fromId:null,toId:c.id,targetId:c.id,type:"fly",duration:100,next:10})}if(!this.game.skipMode){const s=JSON.parse(JSON.stringify(this.game.gameState));s.animations=o,this.game.nextGameStates.push(s)}return ce(!0)}))}shuffle(e){return e.pipe(Ke(n=>{const r=[];for(let i=n.cards.length-1;i>0;i--){const o=Math.floor(this.game.random()*(i+1));[n.cards[i],n.cards[o]]=[n.cards[o],n.cards[i]],this.game.skipMode||(r.push({fromId:n.cards[o].id,toId:null,targetId:n.cards[o].id,type:"shuffle",duration:100,next:1}),r.push({fromId:n.cards[o].id,toId:null,targetId:n.cards[i].id,type:"shuffle",duration:100,next:1}))}if(!this.game.skipMode){const i=JSON.parse(JSON.stringify(this.game.gameState));i.animations=r,this.game.nextGameStates.push(i)}return ce(!0)}))}cardType(e,n){return Cn([e,n]).pipe(Ke(([r,i])=>ce(i.cardType.types[r])))}addCardStackTargets(e,n){return Cn([e,n]).pipe(Ke(([r,i])=>{for(let o of r)o.cardTargets||(o.cardTargets=[]),o.cardTargets.push(...i);return ce(r)}))}textOption(e,n){return e.pipe(Ke(r=>ce({text:r,action:n.pipe(Ke(i=>i()))})))}cardOptions(e,n,r){return Cn([e,n]).pipe(Ke(([i,o])=>Cn(i.map(s=>o(ce([s])).pipe(Ie(l=>({card:s,filter:l}))))).pipe(Ke(s=>ce(s.filter(l=>l.filter).map(l=>({card:l.card,action:r.pipe(Ke(c=>c(ce([l.card]))))})))))))}choose(e,n,r){return void 0===r&&(r=ce({text:"Pass",action:ce(!1)})),Cn([e,n]).pipe(Ke(([i,o])=>this.game.controllers[i.id].choose(this.game.gameState,this.game.nextGameStates,ce(o),r).pipe(Ke(s=>void 0===s.action?ce(!1):s.action))))}map(e,n){return Cn([e,n]).pipe(Ke(([r,i])=>Cn(r.map(o=>i(ce(o))))))}length(e){return e.pipe(Ke(n=>ce(n.length)))}first(e){return e.pipe(Ke(n=>ce(n[0])))}add(...e){return Cn(e).pipe(Ke(n=>{let r=n[0];for(let i=1;i<n.length;i++)r+=n[i];return ce(r)}))}max(...e){return Cn(e).pipe(Ke(n=>{let r=n[0];for(let i=1;i<n.length;i++)n[i]>r&&(r=n[i]);return ce(r)}))}min(...e){return Cn(e).pipe(Ke(n=>{let r=n[0];for(let i=1;i<n.length;i++)n[i]<r&&(r=n[i]);return ce(r)}))}eq(...e){return Cn(e).pipe(Ke(n=>{let r=n[0];for(let i=1;i<n.length;i++)if(r!=n[i])return ce(!1);return ce(!0)}))}leq(...e){return Cn(e).pipe(Ke(n=>{for(let r=1;r<n.length;r++)if(n[r-1]>n[r])return ce(!1);return ce(!0)}))}or(...e){return Cn(e).pipe(Ke(n=>ce(void 0!==n.find(r=>r))))}and(...e){return Cn(e).pipe(Ke(n=>ce(void 0===n.find(r=>!r))))}concat(...e){return Cn(e).pipe(Ke(n=>ce([].concat.apply([],n))))}if(e,n,r){return e.pipe(Ke(i=>i?n:void 0!==r?r:ce(!1)))}ToArray(...e){return e[0].pipe(1==e.length?Ie(n=>[n]):Ii(n=>this.ToArray(...e.slice(1)).pipe(Ie(r=>[n,...r]))))}sequential(...e){return 1==e.length?e[0]:e[0].pipe(Ii(n=>this.sequential(...e.slice(1))))}}class YQ{constructor(e){if(this.gameType=e,this.controllers={},this.skipMode=!0,this.nextGameStates=[],this.hashes={},this.random=this.setSeed(""),void 0===e.cards)throw Error(e.name+" not properly initialized")}setSeed(e){return this.random=_R(e),this.random}createHash(){for(;;){const e=Math.random().toString(36).substring(2);if(!(e in this.hashes))return this.hashes[e]=null,e}}createEmptyCardStack(e){return{gameId:this.gameType.id,type:e,id:this.createHash(),cards:[]}}createEmptyCardStacks(e){return Object.entries(e).reduce((n,r)=>({...n,[r[0]]:this.createEmptyCardStack(r[1])}),{})}createGameState(e){const n=e.reduce((r,i)=>({...r,[i]:{id:i,stacks:this.createEmptyCardStacks(this.gameType.playerStacks)}}),{});return this.gameState={ended:!1,waiting:!1,actionCounter:{},phaseCounter:{},animations:[],players:n,playerOrder:Object.keys(n).sort(),stacks:this.createEmptyCardStacks(this.gameType.globalStacks),variables:JSON.parse(JSON.stringify(this.gameType.variables)),playersTurn:0,activePhase:this.gameType.startPhase},JSON.parse(JSON.stringify(this.gameState))}runFunction(e){if(!this.gameState)throw Error("running undefined game state");if(void 0===e)throw Error("running undefined function");const r=[void 0];return Function("game","of","rv","rv[0]="+e)(new QQ(this),ce,r),void 0===r[0]?ce(!1):r[0]}nextPhase(){if(!this.gameState||!this.gameState.activePhase)throw Error("running undefined game phase");const e=this.gameState.activePhase;return this.runFunction(this.gameType.gameActions[this.gameType.gamePhases[e].action].action).pipe(Hn(),gs(n=>{throw console.log(JSON.parse(JSON.stringify(this.gameState))),n}),Ie(()=>{e in this.gameState.phaseCounter?this.gameState.phaseCounter[e]+=1:this.gameState.phaseCounter[e]=1;const n=JSON.parse(JSON.stringify(this.gameState));return this.nextGameStates.push(n),n}))}nextPhases(){return this.nextGameStates=[],new ve(e=>{let n,r=!1;e.add(()=>{clearInterval(n),r=!0,e.complete()});const i=()=>{for(;!r&&!this.gameState.waiting;)e.next()};i(),n=setInterval(()=>{i()},0)}).pipe(Ii(()=>this.nextPhase()),$h(e=>!e.ended,!0))}nextStates(){return this.nextPhases().pipe(Ke(e=>new ve(n=>{for(;;){const r=this.nextGameStates.shift();if(!r)break;n.next(r)}n.complete()})))}}class CR{}class SR{}class Ja{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ja?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ja;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ja?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(l=>-1===o.indexOf(l)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class JQ{encodeKey(e){return ER(e)}encodeValue(e){return ER(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const XQ=/%(\d[a-f0-9])/gi,eY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ER(t){return encodeURIComponent(t).replace(XQ,(e,n)=>eY[n]??e)}function Ev(t){return`${t}`}class du{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new JQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ZQ(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,l]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(l),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Ev):[Ev(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new du({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Ev(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ev(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tY{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function wR(t){return typeof Blob<"u"&&t instanceof Blob}function DR(t){return typeof FormData<"u"&&t instanceof FormData}class ug{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nY(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ja),this.context||(this.context=new tY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const l=n.indexOf("?");this.urlWithParams=n+(-1===l?"?":l<n.length-1?"&":"")+s}}else this.params=new du,this.urlWithParams=n}serializeBody(){return null===this.body?null:bR(this.body)||wR(this.body)||DR(this.body)||function rY(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof du?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DR(this.body)?null:wR(this.body)?this.body.type||null:bR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof du?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,f=e.params||this.params;const p=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),c)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),f)),new ug(n,r,o,{params:f,headers:c,context:p,reportProgress:l,responseType:i,withCredentials:s})}}var Rr=(()=>((Rr=Rr||{})[Rr.Sent=0]="Sent",Rr[Rr.UploadProgress=1]="UploadProgress",Rr[Rr.ResponseHeader=2]="ResponseHeader",Rr[Rr.DownloadProgress=3]="DownloadProgress",Rr[Rr.Response=4]="Response",Rr[Rr.User=5]="User",Rr))();class TE{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ja,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class xE extends TE{constructor(e={}){super(e),this.type=Rr.ResponseHeader}clone(e={}){return new xE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bv extends TE{constructor(e={}){super(e),this.type=Rr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TR extends TE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ME(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let xR=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ug)o=n;else{let c,f;c=i.headers instanceof Ja?i.headers:new Ja(i.headers),i.params&&(f=i.params instanceof du?i.params:new du({fromObject:i.params})),o=new ug(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ce(o).pipe(Ii(c=>this.handler.handle(c)));if(n instanceof ug||"events"===i.observe)return s;const l=s.pipe(Ga(c=>c instanceof bv));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(Ie(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new du).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,ME(i,r))}post(n,r,i={}){return this.request("POST",n,ME(i,r))}put(n,r,i={}){return this.request("PUT",n,ME(i,r))}}return t.\u0275fac=function(n){return new(n||t)(Oe(CR))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();class MR{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const AR=new ct("HTTP_INTERCEPTORS");let iY=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const oY=/^\)\]\}',?\n/;let IR=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((_,E)=>i.setRequestHeader(_,E.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _=n.detectContentTypeHeader();null!==_&&i.setRequestHeader("Content-Type",_)}if(n.responseType){const _=n.responseType.toLowerCase();i.responseType="json"!==_?_:"text"}const o=n.serializeBody();let s=null;const l=()=>{if(null!==s)return s;const _=i.statusText||"OK",E=new Ja(i.getAllResponseHeaders()),M=function sY(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new xE({headers:E,status:i.status,statusText:_,url:M}),s},c=()=>{let{headers:_,status:E,statusText:M,url:$}=l(),j=null;204!==E&&(j=typeof i.response>"u"?i.responseText:i.response),0===E&&(E=j?200:0);let Q=E>=200&&E<300;if("json"===n.responseType&&"string"==typeof j){const H=j;j=j.replace(oY,"");try{j=""!==j?JSON.parse(j):null}catch(se){j=H,Q&&(Q=!1,j={error:se,text:j})}}Q?(r.next(new bv({body:j,headers:_,status:E,statusText:M,url:$||void 0})),r.complete()):r.error(new TR({error:j,headers:_,status:E,statusText:M,url:$||void 0}))},f=_=>{const{url:E}=l(),M=new TR({error:_,status:i.status||0,statusText:i.statusText||"Unknown Error",url:E||void 0});r.error(M)};let p=!1;const g=_=>{p||(r.next(l()),p=!0);let E={type:Rr.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),"text"===n.responseType&&!!i.responseText&&(E.partialText=i.responseText),r.next(E)},y=_=>{let E={type:Rr.UploadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),r.next(E)};return i.addEventListener("load",c),i.addEventListener("error",f),i.addEventListener("timeout",f),i.addEventListener("abort",f),n.reportProgress&&(i.addEventListener("progress",g),null!==o&&i.upload&&i.upload.addEventListener("progress",y)),i.send(o),r.next({type:Rr.Sent}),()=>{i.removeEventListener("error",f),i.removeEventListener("abort",f),i.removeEventListener("load",c),i.removeEventListener("timeout",f),n.reportProgress&&(i.removeEventListener("progress",g),null!==o&&i.upload&&i.upload.removeEventListener("progress",y)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(Oe(Mx))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const AE=new ct("XSRF_COOKIE_NAME"),IE=new ct("XSRF_HEADER_NAME");class PR{}let aY=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=gx(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr),Oe(oC),Oe(AE))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),PE=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(PR),Oe(IE))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),lY=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(AR,[]);this.chain=r.reduceRight((i,o)=>new MR(i,o),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(SR),Oe(Gi))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),uY=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:PE,useClass:iY}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:AE,useValue:n.cookieName}:[],n.headerName?{provide:IE,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({providers:[PE,{provide:AR,useExisting:PE,multi:!0},{provide:PR,useClass:aY},{provide:AE,useValue:"XSRF-TOKEN"},{provide:IE,useValue:"X-XSRF-TOKEN"}]}),t})(),cY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({providers:[xR,{provide:CR,useClass:lY},IR,{provide:SR,useExisting:IR}],imports:[uY.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();class dY extends L{constructor(e,n){super()}schedule(e,n=0){return this}}const wv={setInterval(t,e,...n){const{delegate:r}=wv;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=wv;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},RR={now:()=>(RR.delegate||Date).now(),delegate:void 0};class cg{constructor(e,n=cg.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}cg.now=RR.now;const Dv=new class pY extends cg{constructor(e,n=cg.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class fY extends dY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return wv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wv.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,C(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),hY=Dv;function kR(t){return t instanceof Date&&!isNaN(t)}function Tv(t=0,e,n=hY){let r=-1;return null!=e&&(Co(e)?n=e:r=e),new ve(i=>{let o=kR(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function OR(t,e){return e?n=>Py(e.pipe(Rc(1),function gY(){return tn((t,e)=>{t.subscribe(Dn(e,R))})}()),n.pipe(OR(t))):mt((n,r)=>t(n,r).pipe(Rc(1),hA(n)))}function xv(t,e=Dv){const n=Tv(t,e);return OR(()=>n)}let RE=(()=>{class t{constructor(){this.localStoragePrefix="settings_",this.isOpened=!1;const n=[{key:"animation_speed",type:"text",title:"Animation Speed",value:"1"}];this.settings={};for(const r of n)this.settings[r.key]=r;this.loadSettings()}getLocalStorageKey(n){return this.localStoragePrefix+n}loadSetting(n){const r=localStorage.getItem(this.getLocalStorageKey(n.key));null!==r&&(n.value=JSON.parse(r))}loadSettings(){for(const n of Object.values(this.settings))this.loadSetting(n)}getSetting(n){return this.settings[n]}getSettings(){return Object.values(this.settings)}setSetting(n,r){(void 0===this.settings[n].value||this.settings[n].value!==r)&&(this.settings[n].value=r,this.settings[n].change_callback?.(r))}saveSettings(){for(const n of Object.values(this.settings))this.saveSetting(n)}saveSetting(n){void 0!==n.value&&localStorage.setItem(this.getLocalStorageKey(n.key),JSON.stringify(n.value))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),dg=(()=>{class t{constructor(n){this.settingsService=n,this.pendingAnimations=new mi(0),this.animationsDeactivated=!1,this.animatables={},this.animationBuffer=[],Tv(0,1).pipe(Ii(()=>this.handleAnimationBuffer())).subscribe(),Tv(0,1).subscribe(()=>this.handleAnimationStart())}canAnimate(n){return!(!(n.targetId in this.animatables)||!this.animatables[n.targetId].isReady()||null!==n.fromId&&!(n.fromId in this.animatables)||null!==n.toId&&!(n.toId in this.animatables))}currentPosition(n,r={x:0,y:0}){return null===n?r:n.getBoundingClientRect()}animationKeyframes(n){const r=this.animatables[n.targetId];let i=null,o=null;null!==n.fromId&&(i=this.animatables[n.fromId]),null!==n.toId&&(o=this.animatables[n.toId]);const s=this.currentPosition(r,this.currentPosition(r)),l=this.currentPosition(i,{x:window.innerWidth/2,y:window.innerHeight}),c=this.currentPosition(o,s),f=i&&o&&i.isFlipped()!=o.isFlipped();return"shuffle"===n.type?[{transform:`translate(${l.x-s.x}px, ${l.y-s.y}px)`},{transform:`translate(${l.x-s.x}px, ${l.y-s.y}px) rotate(30deg)`},{transform:`translate(${l.x-s.x}px, ${l.y-s.y}px) rotate(-30deg)`},{transform:`translate(${c.x-s.x}px, ${c.y-s.y}px)`}]:[{transform:`translate(${l.x-s.x}px, ${l.y-s.y}px)`},{transform:`translate(${c.x-s.x}px, ${c.y-s.y}px)`+(f?" rotateY(180deg)":"")}]}animate(n){const r=this.animatables[n.targetId];r.setTransform("");const i=n.next*+this.settingsService.getSetting("animation_speed").value,o=this.animationKeyframes(n),s={duration:n.duration*+this.settingsService.getSetting("animation_speed").value};return r.animateTransform(o,s),ce(1).pipe(xv(s.duration)).subscribe(()=>{r.setZIndex(""),r.setTransform(o[o.length-1].transform),this.pendingAnimations.pipe(Hn()).subscribe(l=>this.pendingAnimations.next(l-1))}),ce(1).pipe(xv(i))}handleAnimationBuffer(){return 0!==this.animationBuffer.length&&this.canAnimate(this.animationBuffer[0])?this.animate(this.animationBuffer.shift()).pipe(Hn()):ce(0).pipe(xv(50))}animationStart(n,r){const i=this.animatables[n.targetId];if(""!==i.getTransform())return;const o=this.animationKeyframes(n);i.setTransform(o[0].transform),i.setZIndex((+i.getZIndex()+100-r).toString()),i.setHidden(!1)}handleAnimationStart(){for(let r=this.animationBuffer.length-1;r>=0;r--)!this.canAnimate(this.animationBuffer[r])||this.animationStart(this.animationBuffer[r],r)}clearAnimations(){this.animationBuffer=[],this.pendingAnimations.next(0)}registerAnimations(n){this.pendingAnimations.pipe(Hn()).subscribe(r=>{this.pendingAnimations.next(r+n.length);for(let i of n)this.animationBuffer.push(i)})}register(n){this.animatables[n.getId()]=n;for(let r=this.animationBuffer.length-1;r>=0;r--)if(n.getId()===this.animationBuffer[r].targetId){if(!this.canAnimate(this.animationBuffer[r]))continue;n.setHidden(!0);break}}remove(n){delete this.animatables[n.getId()]}}return t.\u0275fac=function(n){return new(n||t)(Oe(RE))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),Za=(()=>{class t{constructor(n,r,i){this.http=n,this.animationService=r,this.sanitizer=i,this.allGamesLoaded=!1,this.games={},this.gameState=new mi(void 0),this.waiting=new mi(!1),this.currentOptions=new mi(void 0),this.chooseOption=new Ft,this.meVisibility=[]}getGameLogicHead(){return this.http.get("assets/game-logic.json")}getGamePath(n){return"assets/games/"+n}getGameResource(n,r){return this.getGamePath(n)+"/"+r}getCardTypePath(n,r){return this.getGameResource(n,"cards/"+r)}getCardBackImage(n){return this.sanitizer.bypassSecurityTrustResourceUrl(void 0!==n.backImage?n.backImage:this.getGameResource(n.gameId,"cards/back.svg"))}getCardFrontImage(n){return this.sanitizer.bypassSecurityTrustResourceUrl(void 0!==n.frontImage?n.frontImage:this.getCardTypePath(n.gameId,n.id)+"/front.svg")}getCardStackEmptyImage(n){if(n.type&&n.type.emptyImage)return this.sanitizer.bypassSecurityTrustResourceUrl(n.type.emptyImage)}getCardType(n,r){return this.http.get(this.getCardTypePath(n,r)+"/info.json").pipe(Ie(i=>({...i,id:r,gameId:n})))}loadCardTypes(n){return void 0!==n.cards?ce(n):this.http.get(this.getGamePath(n.id)+"/cards/cards.json").pipe(Ke(r=>Cn(r.map(i=>this.getCardType(n.id,i))).pipe(Ie(i=>(n.cards=i.reduce((o,s)=>({...o,[s.id]:{...s,id:s.id}}),{}),n)))))}loadImage(n){return this.http.get(n,{responseType:"blob"}).pipe(Ie(r=>r))}loadCardImages(n){let r;return r=void 0===n.cards?this.loadCardTypes(n):ce(n),r.pipe()}loadGameAction(n,r){if(void 0!==r.action)return ce(r);if(void 0===r.actionFile)throw new Error("neither action nor action file defined");return this.http.get(this.getGameResource(n,r.actionFile),{responseType:"text"}).pipe(Ie(i=>(r.action=i.replace(/\s/g,""),r)))}loadGameActions(n){return ce(n).pipe(Ke(r=>Cn(Object.values(r.gameActions).map(i=>this.loadGameAction(r.id,i))).pipe(Ie(()=>r))))}loadFullGame(n){return this.loadCardImages(n).pipe(Ke(r=>this.loadGameActions(r)))}getCardTypes(n){return this.loadCardTypes(n).pipe(Ie(r=>r.cards))}getGameType(n){return n in this.games?ce(this.games[n]):this.http.get(this.getGamePath(n)+"/info.json").pipe(Ie(r=>{r.id=n;for(let i of Object.values(r.globalStacks).concat(...Object.values(r.playerStacks)))!i.emptyImage||(i.emptyImage=this.getGameResource(r.id,i.emptyImage));return this.games[n]=r,r}))}getGameTypes(){return this.allGamesLoaded?ce(this.games):this.http.get("assets/games/games.json").pipe(Ke(n=>Cn(n.map(r=>this.getGameType(r))).pipe(Ie(()=>(this.allGamesLoaded=!0,this.games)))))}createGame(n){return this.loadFullGame(n).pipe(Ie(r=>new YQ(r)))}autoPlay(n){return this.animationService.clearAnimations(),this.animationService.registerAnimations(n.gameState.animations),this.gameState.next(n.gameState),n.nextStates().pipe(Ie(r=>(this.gameState.next(r),r)),Ii(()=>this.gameState.pipe(Ie(r=>r),Ii(r=>{let i=!1;return this.animationService.registerAnimations(r.animations),this.animationService.pendingAnimations.pipe($h(o=>o>0,!0),Ie(o=>{const s={isAnimation:i,gameState:r};return i=!0,s}))}))),Ie(r=>(this.waiting.next(r.gameState.waiting),r)),$h(r=>!r.gameState.ended,!0))}waitForOption(n){return this.currentOptions.next(n),this.chooseOption.pipe(Hn(),Ie(r=>(this.currentOptions.next(void 0),this.waiting.next(!1),r)))}setMeVisibility(n){this.meVisibility=n}getMeVisibility(n){return this.meVisibility.includes(n)}}return t.\u0275fac=function(n){return new(n||t)(Oe(xR),Oe(dg),Oe(Jx))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const mY=["addListener","removeListener"],yY=["addEventListener","removeEventListener"],vY=["on","off"];function Ki(t,e,n,r){if(de(n)&&(r=n,n=void 0),r)return Ki(t,e,n).pipe(UC(r));const[i,o]=function SY(t){return de(t.addEventListener)&&de(t.removeEventListener)}(t)?yY.map(s=>l=>t[s](e,l,n)):function _Y(t){return de(t.addListener)&&de(t.removeListener)}(t)?mY.map(NR(t,e)):function CY(t){return de(t.on)&&de(t.off)}(t)?vY.map(NR(t,e)):[];if(!i&&al(t))return mt(s=>Ki(s,e,n))(Br(t));if(!i)throw new TypeError("Invalid event target");return new ve(s=>{const l=(...c)=>s.next(1<c.length?c:c[0]);return i(l),()=>o(l)})}function NR(t,e){return n=>r=>t[n](e,r)}let FR=(()=>{class t{constructor(){}saveFile(n,r){const i=document.createElement("a"),o=new Blob([r],{type:"text/plain"});i.href=URL.createObjectURL(o),i.download=n,i.click()}loadFile(n){const r=document.createElement("input");r.type="file",r.style.display="none",r.accept=n,document.body.appendChild(r);const i=()=>{document.body.removeChild(r)};let o=Ki(r,"change").pipe(Hn(),Ke(()=>{if(!r.files||0==r.files.length||r.files[0].size>25e7||!FileReader)throw i(),Error("something went wrong");const s=r.files[0],l=new FileReader;let c=Ki(l,"load").pipe(Hn(),Ie(f=>{let g,p=f;if(!p.target||!p.target.result)throw i(),new Error("something went wrong");return g="string"==typeof p.target.result?p.target.result:(new TextDecoder).decode(p.target.result),g}));return l.readAsText(s),c}));return r.click(),o}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),EY=(()=>{class t{constructor(){this.change=new sr,this.root=Un(di).nativeElement}ngOnChanges(n){!this.reactComponent||(Lc.unmountComponentAtNode(this.root),Lc.render((0,N.createElement)(this.reactComponent,this.props),this.root))}ngOnDestroy(){Lc.unmountComponentAtNode(this.root)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=bt({type:t,selectors:[["","reactComponent",""]],inputs:{reactComponent:"reactComponent",props:"props"},features:[Zr]}),t})();function bY(t,e){if(1&t){const n=ls();qe(0,"button",17),sn("click",function(){cr(n);const i=zt().$implicit;return Wn(zt(2).changeAction(i.key))}),pn(1),at()}if(2&t){const n=zt().$implicit;ft(1),pi(n.key)}}function wY(t,e){if(1&t){const n=ls();qe(0,"div",18)(1,"input",19),sn("ngModelChange",function(i){return cr(n),Wn(zt(3).changeActiveName=i)})("change",function(){return cr(n),Wn(zt(3).changeActionName())}),at(),qe(2,"button",20),sn("click",function(){return cr(n),Wn(zt(3).deleteAction())}),Gu(),qe(3,"svg",12),or(4,"path",21),at()()()}if(2&t){const n=zt(3);ft(1),xt("ngModel",n.changeActiveName)}}function DY(t,e){if(1&t&&(qe(0,"div",14),yn(1,bY,2,1,"button",15),yn(2,wY,5,1,"div",16),at()),2&t){const n=e.$implicit,r=zt(2);ft(1),xt("ngIf",n.key!==r.activeAction),ft(1),xt("ngIf",n.key===r.activeAction)}}function TY(t,e){if(1&t){const n=ls();qe(0,"div",1),or(1,"div",2),qe(2,"div",3)(3,"button",4),sn("click",function(){return cr(n),Wn(zt().parse())}),pn(4,"Parse"),at(),qe(5,"button",4),sn("click",function(){return cr(n),Wn(zt().load())}),pn(6,"Load"),at(),qe(7,"button",4),sn("click",function(){return cr(n),Wn(zt().save())}),pn(8,"Save"),at(),qe(9,"button",4),sn("click",function(){return cr(n),Wn(zt().compile())}),pn(10,"Compile"),at(),qe(11,"div",5),or(12,"input",6),qe(13,"div",7),pn(14," Actions "),at(),qe(15,"div",8)(16,"div",9),yn(17,DY,3,2,"div",10),La(18,"keyvalue"),qe(19,"button",11),sn("click",function(){return cr(n),Wn(zt().addAction())}),Gu(),qe(20,"svg",12),or(21,"path",13),at()()()()()()()}if(2&t){const n=zt();ft(1),xt("reactComponent",n.NodeEditor)("props",n.config),ft(16),xt("ngForOf",$a(18,3,n.game.gameActionMaps))}}let xY=(()=>{class t{constructor(n,r){this.gamesService=n,this.fileService=r,this.NodeEditor=jQ,this.config={},this.game={gameActionMaps:{}},this.prettyPrintIndent=2,this.activeAction="",this.changeActiveName="",this.simpleTypes={string:{label:"String",control:bE.text},number:{label:"Number",control:bE.number},boolean:{label:"True/False",control:bE.checkbox}},this.createDefaultAction()}createDefaultAction(){this.game.gameActionMaps.action1={},this.changeAction("action1")}getNodes(){return this.config&&this.config.ref?this.config.ref.current.getNodes():{}}setNodes(n){this.config={...this.config,nodes:n}}addAction(){let n=1;for(;"action"+n in this.game.gameActionMaps;)n++;let r="action"+n;this.game.gameActionMaps[r]={},this.changeAction(r)}saveActiveAction(){this.activeAction&&(this.game.gameActionMaps[this.activeAction]=this.getNodes())}changeAction(n){this.saveActiveAction(),this.activeAction=n,this.changeActiveName=this.activeAction,this.setNodes(this.game.gameActionMaps[n])}changeActionName(){!this.changeActiveName||this.changeActiveName in this.game.gameActionMaps||(this.game.gameActionMaps[this.changeActiveName]=this.game.gameActionMaps[this.activeAction],delete this.game.gameActionMaps[this.activeAction],this.activeAction=this.changeActiveName)}deleteAction(){delete this.game.gameActionMaps[this.activeAction],this.pickAction()}pickAction(){let n=Object.keys(this.game.gameActionMaps);if(this.activeAction="",n.length>0)return this.changeAction(n[0]);this.createDefaultAction()}connectNodes(n,r,i){if(!i||!r)return;let o=Object.keys(n[i].connections.inputs).length,s=this.config.nodeTypes[n[i].type].inputs({},{inputs:n[i].connections.inputs,outputs:n[i].connections.outputs},{})[o].name,l=this.config.nodeTypes[n[r].type].outputs({},{inputs:n[r].connections.inputs,outputs:n[r].connections.outputs},{}).slice(-1)[0].name;n[i].connections.inputs[s]=[{nodeId:r,portName:l}],n[r].connections.outputs[l]=[{nodeId:i,portName:s}]}createNodeMap(n,r,i,o,s){let l;for(;l=Math.random().toString(36).substring(2),l in n;);if("string"==r.type||"number"==r.type||"boolean"==r.type){const c={};return c[r.type]={},c[r.type][r.type]=r.value,n[l]={id:l,x:i,y:o,type:r.type,width:200,connections:{inputs:{},outputs:{}},inputData:c},this.connectNodes(n,l,s),220}if("game"==r.type){n[l]={id:l,x:i,y:o,type:r.name.value,width:200,connections:{inputs:{},outputs:{}},inputData:{}};let f=o;for(let p=0;p<r.args.length;p++)o+=this.createNodeMap(n,r.args[p],i-250,o,l);return this.connectNodes(n,l,s),o-f}throw new Error("unknown node type "+r.type)}parse(){this.fileService.loadFile(".js").subscribe(n=>{this.addAction();const r=this.getNodes();this.createNodeMap(r,(0,KQ.parse)(n),-250,0,Object.keys(r)[0]),this.setNodes(r)})}compile(){console.log(this.resolveRootNode(this.config.ref.current.getNodes()))}save(){this.saveActiveAction(),this.fileService.saveFile("test.game.json",JSON.stringify(this.game))}load(){this.fileService.loadFile(".json").subscribe(n=>{this.game=JSON.parse(n),this.pickAction()})}resolveRootNode(n){for(let r of Object.values(n))if(r.root)for(let i of Object.values(r.connections.inputs)){if(1!==i.length)throw new Error("root node not connected");return this.resolveNode(n,i[0].nodeId,0)}throw new Error("root node not found")}resolveNode(n,r,i,o){if(!this.logic)throw new Error("unknown logic");const s=n[r];if(this.simpleTypes[s.type])return`of(${JSON.stringify(s.inputData[s.type][s.type])})`;const c=this.logic.functions.find(g=>g.name===s.type);if(!c)throw new Error(`function ${s.type} not found`);if(o&&r==o.id){for(let g of Object.keys(s.connections.outputs))if(g.startsWith(o.prefix))return g.substring(o.prefix.length);throw new Error("failed loop")}const f=[];for(let g of c.inputs){if(g.dotdot){let E=Object.keys(s.connections.inputs);for(let M of E)if(M.startsWith(g.name)){let $=+M.substring(g.name.length);if(isNaN($))continue;const j=s.connections.inputs[M];if(1!=j.length)throw new Error(`input ${M} of ${c.name} can only have one connection, has ${j.length}`);if(g.type.options[0].function){let H=this.resolveNode(n,j[0].nodeId,i+1,o={id:r,prefix:g.name+"_"});H&&f.push(`of((${g.type.options[0].function.inputs.map(se=>se.name).join(",")})=>${H})`);continue}let Q=this.resolveNode(n,j[0].nodeId,i+1,o);Q&&f.push(Q)}continue}const y=s.connections.inputs[g.name];if(!y&&!g.optional)throw new Error(`input ${g.name} of ${c.name} is not connected`);if(!y){f.push("undefined");continue}if(1!=y.length)throw new Error(`input ${g.name} of ${c.name} can only have one connection, has ${y.length}`);if(g.type.options[0].function){let E=this.resolveNode(n,y[0].nodeId,i+1,o={id:r,prefix:g.name+"_"});E&&f.push(`of((${g.type.options[0].function.inputs.map(M=>M.name).join(",")})=>${E})`);continue}let _=this.resolveNode(n,y[0].nodeId,i+1,o);_&&f.push(_)}let p="";return f.length>0&&(p=this.prettyPrintIndent>0?`\n${f.map(g=>g.split("\n").map(y=>" ".repeat(this.prettyPrintIndent)+y).join("\n")).join(",\n")}\n`:f.join(",")),`game.${s.type}(${p})`}hashString(n){var i,r=0;if(0===n.length)return r;for(i=0;i<n.length;i++)r=(r<<5)-r+n.charCodeAt(i),r|=0;return r}typeToString(n){return n.name+(n.isArray?"[]":"")}prefixString(n,r){return""!=r?r+"_"+n:n}createGenericMap(n,r,i,o,s){for(let l of n.outputType.options)if(l.type&&n.typeParameters.includes(l.type.name)&&(l.type.name in o||(o[l.type.name]="Generic"),s&&r[s]&&r[s].length>0)){let c=r[s][0].portName.split(":")[1];l.type.isArray&&(c=c.substring(0,c.length-2)),o[l.type.name]=c}for(let l of n.inputs){let c=this.prefixString(l.name,s);for(let f of l.type.options)if(f.function)this.createGenericMap(f.function,r,i,o,c);else if(f.type&&n.typeParameters.includes(f.type.name))if(f.type.name in o||(o[f.type.name]="Generic"),l.dotdot){for(let p of Object.keys(r))if(p.startsWith(c)&&r[p].length>0){let g=r[p][0].portName.split(":")[1];f.type.isArray&&(g=g.substring(0,g.length-2)),o[f.type.name]=g;break}}else for(let p of Object.keys(r))if(p.startsWith(c)&&r[p].length>0){let g=r[p][0].portName.split(":")[1];f.type.isArray&&(g=g.substring(0,g.length-2)),o[f.type.name]=g}}return o}createPorts(n,r,i,o,s,l,c){for(let f of n.inputs)for(let p of f.type.options)if(p.type){let g=c[p.type.name];g?g+=p.type.isArray?"[]":"":g=this.typeToString(p.type);let y=this.prefixString(f.name,l);if(f.dotdot){let _=0,E=Object.keys(r.inputs);for(let M of E)if(M.startsWith(y)){let $=+M.substring(y.length);if(isNaN($))continue;_=Math.max($,_),o.push(i[g]({noControls:!0,name:M,label:y+":"+g}))}o.push(i[g]({noControls:!0,name:y+(_+1),label:y+":"+g}));continue}o.push(i[g]({noControls:!0,name:y,label:y+(f.optional?"?":"")+":"+g}))}else p.function?""==l?this.createPorts(p.function,r,i,s,o,this.prefixString(f.name,l),c):this.createPorts(p.function,r,i,o,s,this.prefixString(f.name,l),c):console.error("not implemented");for(let f of n.outputType.options)if(f.type){let p=c[f.type.name];p?p+=f.type.isArray?"[]":"":p=this.typeToString(f.type);let g=p,y=l+":"+p;""!=l&&(g=l+":"+g,y=l),s.push(i[p]({noControls:!0,label:g,name:y}))}else console.error("not implemented")}ngOnInit(){this.gamesService.getGameLogicHead().subscribe(n=>{this.logic=n;const r=new DQ,i=Object.values(wE);for(let o of n.types){let s=[],l=this.simpleTypes[o];l&&s.push(l.control({name:o,label:l.label}));let c=i[this.hashString(o)%i.length];r.addPortType({type:o,name:o,label:o,color:c,controls:s});let f=o+"[]";r.addPortType({type:f,name:f,label:f,color:c,controls:[]}),s.length>0&&r.addNodeType({type:o,label:o.substring(0,1).toUpperCase()+o.substring(1),description:"Creates a "+o,inputs:p=>[p[o]({name:o,label:" ",hidePort:!0})],outputs:p=>()=>[p[o]({name:":"+o,label:o})]})}r.addPortType({type:"Generic",name:"Generic",label:"Generic",color:"grey",acceptTypes:n.types,controls:[]}),r.addPortType({type:"Generic[]",name:"Generic[]",label:"Generic[]",color:"grey",acceptTypes:n.types.map(o=>o+"[]"),controls:[]});for(let o of n.functions)r.addNodeType({type:o.name,label:o.name,description:o.name,inputs:s=>(l,c,f)=>{let p=[];return this.createPorts(o,c,s,p,[],"",this.createGenericMap(o,c.inputs,c.outputs,{},"")),p},outputs:s=>(l,c,f)=>{let p=[];return this.createPorts(o,c,s,[],p,"",this.createGenericMap(o,c.inputs,c.outputs,{},"")),p}});r.addRootNodeType({type:"GameLogic",label:"GameLogic",description:"GameLogic",inputs:o=>()=>[o.FunctionResult()],outputs:o=>[]}),this.config={...this.config,...r,circularBehavior:"allow",defaultNodes:[{type:"GameLogic"}],ref:(0,N.createRef)()}})}}return t.\u0275fac=function(n){return new(n||t)(oe(Za),oe(FR))},t.\u0275cmp=Ur({type:t,selectors:[["app-create-game"]],decls:1,vars:1,consts:[["class","flex min-h-screen",4,"ngIf"],[1,"flex","min-h-screen"],[1,"w-full","min-h-screen",3,"reactComponent","props"],[1,"absolute"],[1,"btn",3,"click"],["tabindex","0",1,"collapse","collapse-arrow","border","border-base-300","bg-base-100","rounded-box"],["type","checkbox",1,"peer"],[1,"collapse-title","text-xl","font-medium"],[1,"collapse-content"],[1,"flex","flex-col","gap-1","py-1"],["class","form-control",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","btn-sm","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v12m6-6H6"],[1,"form-control"],["class","btn btn-sm w-full",3,"click",4,"ngIf"],["class","input-group input-group-sm",4,"ngIf"],[1,"btn","btn-sm","w-full",3,"click"],[1,"input-group","input-group-sm"],["type","text","placeholder","Name",1,"input","input-bordered","input-sm",3,"ngModel","ngModelChange","change"],[1,"btn","btn-square","btn-sm","btn-error",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(n,r){1&n&&yn(0,TY,22,5,"div",0),2&n&&xt("ngIf",r.logic)},dependencies:[Mc,Ac,gf,Cy,Fh,EY,Mh]}),t})();class kE{choose(e,n,r,i){return Cn([r,i]).pipe(Ie(([o,s])=>0===o.length?s:o[0]))}}class OE extends kE{constructor(e){super(),this.gamesService=e}choose(e,n,r,i){return Cn([r,i]).pipe(Ke(([o,s])=>(e.waiting=!0,this.gamesService.gameState.next(JSON.parse(JSON.stringify(e))),this.gamesService.waitForOption(0==o.length?[s]:o).pipe(ni(()=>e.waiting=!1)))))}}class Mv extends kE{constructor(e="seed"){super(),this.random=_R(e)}choose(e,n,r,i){return Cn([r,i]).pipe(Ie(([o,s])=>0===o.length?s:o[Math.floor(this.random()*o.length)]))}}function LR(t){return tn((e,n)=>{let r=!1,i=0;e.subscribe(Dn(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}let $R=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ur({type:t,selectors:[["app-card-image"]],inputs:{src:"src"},decls:2,vars:1,consts:[[1,"flex","pointer-events-none"],[2,"height","140px","width","100px",3,"src"]],template:function(n,r){1&n&&(qe(0,"div",0),or(1,"img",1),at()),2&n&&(ft(1),xt("src",r.src,Em))}}),t})();const MY=["element"];let AY=(()=>{class t{constructor(n,r,i){this.outerElementRef=n,this.gamesService=r,this.animationService=i,this.back=!1,this.cardOptions=[]}getId(){return this.card?this.card.id:"undefined"}isFlipped(){return this.back}isReady(){return void 0!==this.innerElementRef}getHidden(){return"hidden"==this.outerElementRef.nativeElement.style.visibility}setHidden(n){this.outerElementRef.nativeElement.style.visibility=n?"hidden":""}getZIndex(){return this.outerElementRef.nativeElement.style.zIndex}setZIndex(n){this.outerElementRef.nativeElement.style.zIndex=n}getTransform(){return this.innerElementRef.nativeElement.style.transform}setTransform(n){this.innerElementRef.nativeElement.style.transform=n}animateTransform(n,r){this.innerElementRef.nativeElement.animate(n,r)}getBoundingClientRect(){return this.innerElementRef.nativeElement.getBoundingClientRect()}click(){if(this.cardOptions.length>0){if(this.cardOptions.length>1)throw new Error("more targets not implemented");this.gamesService.chooseOption.next(this.cardOptions[0])}}ngOnInit(){this.subscription=this.gamesService.waiting.pipe(LR(n=>!n&&(this.cardOptions=[],!0)),Ke(()=>this.gamesService.currentOptions)).subscribe(n=>{if(this.cardOptions=[],n&&this.card)for(let r of n)r.card&&r.card.id===this.card.id&&this.cardOptions.push(r)})}ngAfterViewInit(){this.animationService.register(this)}ngOnDestroy(){this.animationService.remove(this),this.subscription?.unsubscribe()}ngOnChanges(n){if(void 0===this.card)return this.frontSrc=void 0,void(this.backSrc=void 0);this.frontSrc=this.getImage(this.back),this.backSrc=this.getImage(!this.back)}getImage(n){return n?this.gamesService.getCardBackImage(this.card.cardType):this.gamesService.getCardFrontImage(this.card.cardType)}}return t.\u0275fac=function(n){return new(n||t)(oe(di),oe(Za),oe(dg))},t.\u0275cmp=Ur({type:t,selectors:[["app-card"]],viewQuery:function(n,r){if(1&n&&Z0(MY,5),2&n){let i;_h(i=Ch())&&(r.innerElementRef=i.first)}},inputs:{card:"card",back:"back"},features:[Zr],decls:7,vars:4,consts:[[1,"flip-box",2,"height","140px","width","100px",3,"click"],[1,"flip-box-inner"],["element",""],[1,"flip-box-front"],[3,"src"],[1,"flip-box-back"]],template:function(n,r){1&n&&(qe(0,"div",0),sn("click",function(){return r.click()}),qe(1,"div",1,2)(3,"div",3),or(4,"app-card-image",4),at(),qe(5,"div",5),or(6,"app-card-image",4),at()()()),2&n&&(ch("card-option",r.cardOptions.length>0),ft(4),xt("src",r.frontSrc),ft(2),xt("src",r.backSrc))},dependencies:[$R],styles:['.card-option[_ngcontent-%COMP%]:after{content:"";display:block;height:100%;position:absolute;top:0;width:100%;background:linear-gradient(0deg,red -10%,transparent 10%,transparent 90%,red 110%),linear-gradient(90deg,red -10%,transparent 10%,transparent 90%,red 110%);border-radius:5px}.card-option[_ngcontent-%COMP%]:hover:after{content:"";display:block;height:100%;position:absolute;top:0;width:100%;background:linear-gradient(0deg,blue -10%,transparent 10%,transparent 90%,blue 110%),linear-gradient(90deg,blue -10%,transparent 10%,transparent 90%,blue 110%);border-radius:5px}.flip-box[_ngcontent-%COMP%]{perspective:1000px}.flip-box-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform-style:preserve-3d}.flip-box-front[_ngcontent-%COMP%], .flip-box-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flip-box-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}']}),t})();const IY=["element"];function PY(t,e){if(1&t&&or(0,"app-card",6),2&t){const n=e.$implicit,r=e.index,i=zt(2);Po("top:"+-2*r+"px;left:0px;"),xt("card",n)("back",i.isFlipped())}}function RY(t,e){1&t&&or(0,"app-card-image",7),2&t&&xt("src",e.ngIf)}function kY(t,e){if(1&t&&(Gs(0),qe(1,"div",1),or(2,"div",2,3),yn(4,PY,1,4,"app-card",4),yn(5,RY,1,1,"app-card-image",5),at(),Ws()),2&t){const n=zt();ft(2),Po("top:"+-2*n.cardStack.cards.length+"px;left:0px;"),ft(2),xt("ngForOf",null==n.cardStack?null:n.cardStack.cards),ft(1),xt("ngIf",n.getEmptyImage())}}function OY(t,e){if(1&t&&or(0,"app-card",10),2&t){const n=e.$implicit,r=zt(2);xt("card",n)("back",r.isFlipped())}}function NY(t,e){if(1&t&&(Gs(0),qe(1,"div",8),yn(2,OY,1,2,"app-card",9),or(3,"div",null,3),at(),Ws()),2&t){const n=zt();ft(2),xt("ngForOf",null==n.cardStack?null:n.cardStack.cards)}}let FY=(()=>{class t{constructor(n,r,i){this.outerElementRef=n,this.gamesService=r,this.animationService=i}isFlipped(){return!this.cardStack||this.cardStack.type.visibility.endsWith("hidden")||void 0!==this.playerKey&&this.cardStack.type.visibility.endsWith("me")&&!this.gamesService.getMeVisibility(this.playerKey)}isReady(){return void 0!==this.innerElementRef}getHidden(){return"hidden"==this.outerElementRef.nativeElement.style.visibility}setHidden(n){this.outerElementRef.nativeElement.style.visibility=n?"hidden":""}getZIndex(){return this.outerElementRef.nativeElement.style.zIndex}setZIndex(n){this.outerElementRef.nativeElement.style.zIndex=n}getTransform(){return this.innerElementRef.nativeElement.style.transform}setTransform(n){this.innerElementRef.nativeElement.style.transform=n}animateTransform(n,r){this.innerElementRef.nativeElement.animate(n,r)}getBoundingClientRect(){return this.innerElementRef.nativeElement.getBoundingClientRect()}getId(){return this.cardStack?this.cardStack.id:"undefined"}ngAfterViewInit(){this.animationService.register(this)}ngOnDestroy(){this.animationService.remove(this)}getEmptyImage(){if(this.cardStack)return this.gamesService.getCardStackEmptyImage(this.cardStack)}}return t.\u0275fac=function(n){return new(n||t)(oe(di),oe(Za),oe(dg))},t.\u0275cmp=Ur({type:t,selectors:[["app-card-stack"]],viewQuery:function(n,r){if(1&n&&Z0(IY,5),2&n){let i;_h(i=Ch())&&(r.innerElementRef=i.first)}},inputs:{cardStack:"cardStack",playerKey:"playerKey"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"relative"],[1,"absolute"],["element",""],["class","absolute",3,"card","back","style",4,"ngFor","ngForOf"],[3,"src",4,"ngIf"],[1,"absolute",3,"card","back"],[3,"src"],[1,"flex","flex-row","flex-wrap"],[3,"card","back",4,"ngFor","ngForOf"],[3,"card","back"]],template:function(n,r){1&n&&(yn(0,kY,6,4,"ng-container",0),yn(1,NY,5,1,"ng-container",0)),2&n&&(xt("ngIf",null==r.cardStack||null==r.cardStack.type||null==r.cardStack.type.visibility?null:r.cardStack.type.visibility.startsWith("stack")),ft(1),xt("ngIf",null==r.cardStack||null==r.cardStack.type||null==r.cardStack.type.visibility?null:r.cardStack.type.visibility.startsWith("hand")))},dependencies:[Mc,Ac,AY,$R]}),t})();function LY(t,e){1&t&&or(0,"app-card-stack",9),2&t&&xt("cardStack",e.$implicit.value)}function $Y(t,e){if(1&t&&(qe(0,"div",10)(1,"div",11),pn(2),at(),qe(3,"div",12),pn(4),at()()),2&t){const n=e.$implicit;ft(2),pi(n.key),ft(2),pi(n.value.value)}}function jY(t,e){if(1&t&&or(0,"app-card-stack",15),2&t){const n=e.$implicit;xt("playerKey",zt().$implicit)("cardStack",n.value)}}function VY(t,e){if(1&t&&(qe(0,"div",13),pn(1),yn(2,jY,1,2,"app-card-stack",14),La(3,"keyvalue"),at()),2&t){const n=e.$implicit,r=zt(2);ft(1),bc(" ",n," "),ft(1),xt("ngForOf",$a(3,2,r.gameState.players[n].stacks))}}function BY(t,e){if(1&t){const n=ls();qe(0,"button",16),sn("click",function(){const o=cr(n).$implicit;return Wn(zt(2).chooseOption(o))}),pn(1),at()}if(2&t){const n=e.$implicit;ft(1),pi(n.text)}}function UY(t,e){if(1&t&&(qe(0,"div",2)(1,"div",3),yn(2,LY,1,1,"app-card-stack",4),La(3,"keyvalue"),at(),qe(4,"div",5),yn(5,$Y,5,2,"div",6),La(6,"keyvalue"),at(),yn(7,VY,4,4,"div",7),qe(8,"div",3),yn(9,BY,2,1,"button",8),at()()),2&t){const n=zt();ft(2),xt("ngForOf",$a(3,4,n.gameState.stacks)),ft(3),xt("ngForOf",$a(6,6,n.gameState.variables)),ft(2),xt("ngForOf",n.gameState.playerOrder),ft(2),xt("ngForOf",n.textOptions)}}function HY(t,e){1&t&&pn(0,"Loading...")}let jR=(()=>{class t{constructor(n){this.gamesService=n,this.textOptions=[]}chooseOption(n){this.gamesService.chooseOption.next(n)}ngOnInit(){this.subscription=this.gamesService.waiting.pipe(LR(n=>!n&&(this.textOptions=[],!0)),Ke(()=>this.gamesService.currentOptions)).subscribe(n=>{if(this.textOptions=[],n)for(let r of n)r.text&&this.textOptions.push(r)})}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(oe(Za))},t.\u0275cmp=Ur({type:t,selectors:[["app-playground"]],inputs:{gameState:"gameState"},decls:3,vars:2,consts:[["class","flex flex-col select-none",4,"ngIf","ngIfElse"],["loading",""],[1,"flex","flex-col","select-none"],[1,"flex","flex-row"],["class","flex w-fit",3,"cardStack",4,"ngFor","ngForOf"],[1,"stats","stats-horizontal","bg-primary","text-primary-content"],["class","stat",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngFor","ngForOf"],["class","btn",3,"click",4,"ngFor","ngForOf"],[1,"flex","w-fit",3,"cardStack"],[1,"stat"],[1,"stat-title"],[1,"stat-value"],[1,"flex","flex-col"],["class","flex w-fit",3,"playerKey","cardStack",4,"ngFor","ngForOf"],[1,"flex","w-fit",3,"playerKey","cardStack"],[1,"btn",3,"click"]],template:function(n,r){if(1&n&&(yn(0,UY,10,8,"div",0),yn(1,HY,1,0,"ng-template",null,1,Gm)),2&n){const i=Lm(2);xt("ngIf",r.gameState)("ngIfElse",i)}},dependencies:[Mc,Ac,FY,Mh]}),t})();function zY(t,e){if(1&t){const n=ls();Gs(0),qe(1,"div",16)(2,"label",17)(3,"input",18),sn("ngModelChange",function(i){return cr(n),Wn(zt(2).$implicit.value=i)}),at(),qe(4,"span",19),pn(5),at()()(),Ws()}if(2&t){const n=zt(2).$implicit;ft(3),xt("ngModel",n.value),ft(2),pi(n.title)}}function GY(t,e){if(1&t){const n=ls();Gs(0),qe(1,"button",9),sn("click",function(){cr(n);const i=zt(2).$implicit;return Wn(zt(2).saveSetting(i))}),pn(2),at(),Ws()}if(2&t){const n=zt(2).$implicit;ft(2),pi(n.title)}}function WY(t,e){if(1&t&&(qe(0,"option"),pn(1),at()),2&t){const n=e.$implicit;ft(1),pi(n)}}function qY(t,e){if(1&t){const n=ls();Gs(0),qe(1,"div",20)(2,"label",21)(3,"span",19),pn(4),at()(),qe(5,"select",22),sn("ngModelChange",function(i){return cr(n),Wn(zt(2).$implicit.value=i)}),yn(6,WY,2,1,"option",23),at()(),Ws()}if(2&t){const n=zt(2).$implicit;ft(4),pi(n.title),ft(1),xt("ngModel",n.value),ft(1),xt("ngForOf",n.options)}}function KY(t,e){if(1&t){const n=ls();Gs(0),qe(1,"div",20)(2,"label",21)(3,"span",19),pn(4),at()(),qe(5,"input",24),sn("ngModelChange",function(i){return cr(n),Wn(zt(2).$implicit.value=i)}),at()(),Ws()}if(2&t){const n=zt(2).$implicit;ft(4),pi(n.title),ft(1),xt("id","setting"+n.key)("ngModel",n.value)}}function QY(t,e){1&t&&(Gs(0,13),yn(1,zY,6,2,"ng-container",14),yn(2,GY,3,1,"ng-container",14),yn(3,qY,7,3,"ng-container",14),yn(4,KY,6,3,"ng-container",15),Ws()),2&t&&(xt("ngSwitch",zt().$implicit.type),ft(1),xt("ngSwitchCase","checkbox"),ft(1),xt("ngSwitchCase","button"),ft(1),xt("ngSwitchCase","select"))}function YY(t,e){if(1&t&&(qe(0,"div",11),yn(1,QY,5,4,"ng-container",12),at()),2&t){const n=e.$implicit,r=zt(2);ft(1),xt("ngIf",!n.condition||r.settings[n.condition].value)}}function JY(t,e){if(1&t){const n=ls();qe(0,"div",2)(1,"div",3)(2,"h3",4),pn(3,"Settings"),at(),qe(4,"div",5)(5,"div",6),yn(6,YY,2,1,"div",7),qe(7,"div",8)(8,"button",9),sn("click",function(){return cr(n),Wn(zt().cancel())}),pn(9,"Cancel"),at(),qe(10,"button",10),sn("click",function(){return cr(n),Wn(zt().saveSettings())}),pn(11,"Save"),at()()()()()()}if(2&t){const n=zt();ft(6),xt("ngForOf",n.getSettings())}}let VR=(()=>{class t{constructor(n){this.settingsService=n,this.settings={}}ngOnInit(){this.settings=this.loadSettings()}typeOf(n){return typeof n}loadSettings(){const n={};for(const r of this.settingsService.getSettings())n[r.key]={...r};return n}saveSetting(n){this.settingsService.setSetting(n.key,n.value)}cancel(){this.settingsService.isOpened=!1}saveSettings(){for(const n of this.getSettings())void 0!==n.value&&this.settingsService.setSetting(n.key,n.value);this.settingsService.saveSettings(),this.settingsService.isOpened=!1}getSettings(){return Object.values(this.settings)}}return t.\u0275fac=function(n){return new(n||t)(oe(RE))},t.\u0275cmp=Ur({type:t,selectors:[["app-settings"]],decls:3,vars:1,consts:[[1,"btn",3,"click"],["class","modal modal-bottom modal-open sm:modal-middle",4,"ngIf"],[1,"modal","modal-bottom","modal-open","sm:modal-middle"],[1,"modal-box"],[1,"font-bold","text-lg"],[1,"flex","justify-center","items-center"],[1,"w-full","max-w-xl"],["class","my-2",4,"ngFor","ngForOf"],[1,"mt-4","grid","gap-3","grid-cols-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"my-2"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"form-control","w-fit"],[1,"label","cursor-pointer","shrink"],["type","checkbox",1,"checkbox","mr-2",3,"ngModel","ngModelChange"],[1,"label-text"],[1,"form-control","w-full"],[1,"label","select-none"],[1,"select","select-bordered",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","text",1,"input","input-bordered","w-full",3,"id","ngModel","ngModelChange"]],template:function(n,r){1&n&&(qe(0,"button",0),sn("click",function(){return r.settingsService.isOpened=!r.settingsService.isOpened}),pn(1,"Settings"),at(),yn(2,JY,12,1,"div",1)),2&n&&(ft(2),xt("ngIf",r.settingsService.isOpened))},dependencies:[Mc,Ac,dy,Cx,Sx,oS,aS,gf,HC,Ay,Cy,Fh]}),t})(),ZY=(()=>{class t{constructor(n,r){this.route=n,this.gamesService=r}ngOnInit(){this.route.paramMap.pipe(Ke(n=>{let r=n.get("game");return null===r?ce(void 0):this.gamesService.getGameType(r).pipe(Ke(i=>this.gamesService.createGame(i)))})).subscribe(n=>{this.game=n})}isAutoPlaying(){return void 0!==this.autoPlayer&&!this.autoPlayer.closed}stopAutoPlay(){void 0!==this.autoPlayer&&(this.autoPlayer.unsubscribe(),this.autoPlayer=void 0)}toggleAutoPlay(){if(this.game){if(this.isAutoPlaying())return this.stopAutoPlay();this.game.createGameState(["Player","AI1","AI2"]),this.game.controllers={Player:new OE(this.gamesService),AI1:new Mv,AI2:new Mv},this.gamesService.setMeVisibility(["Player"]),this.game.setSeed("seed"),this.autoPlayer=this.gamesService.autoPlay(this.game).subscribe(n=>{this.gameState=n.gameState})}}toggleSkipMode(){void 0!==this.game&&(this.game.skipMode=!this.game.skipMode)}}return t.\u0275fac=function(n){return new(n||t)(oe(ms),oe(Za))},t.\u0275cmp=Ur({type:t,selectors:[["app-debug"]],decls:6,vars:3,consts:[[3,"gameState"],[1,"btn",3,"click"]],template:function(n,r){1&n&&(or(0,"app-playground",0),qe(1,"button",1),sn("click",function(){return r.toggleAutoPlay()}),pn(2),at(),qe(3,"button",1),sn("click",function(){return r.toggleSkipMode()}),pn(4),at(),or(5,"app-settings")),2&n&&(xt("gameState",r.gameState),ft(2),pi(r.isAutoPlaying()?"Stop Autoplay":"Start Autoplay"),ft(2),pi(null!=r.game&&r.game.skipMode?"Skip: On":"Skip: Off"))},dependencies:[jR,VR]}),t})();var BR=w(819);let UR=!0,HR=!0;function fg(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function Lf(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==e)return i.apply(this,arguments);const c=f=>{const p=n(f);p&&(l.handleEvent?l.handleEvent(p):l(p))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(l,c),i.apply(this,[s,c])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(l))return o.apply(this,arguments);const c=this._eventMap[e].get(l);return this._eventMap[e].delete(l),0===this._eventMap[e].size&&delete this._eventMap[e],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[s,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function XY(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(UR=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function eJ(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(HR=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function NE(){if("object"==typeof window){if(UR)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Av(t,e){!HR||console.warn(t+" is deprecated, please use "+e+" instead.")}function zR(t){return"[object Object]"===Object.prototype.toString.call(t)}function GR(t){return zR(t)?Object.keys(t).reduce(function(e,n){const r=zR(t[n]),i=r?GR(t[n]):t[n],o=r&&!Object.keys(i).length;return void 0===i||o?e:Object.assign(e,{[n]:i})},{}):t}function FE(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?FE(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{FE(t,t.get(i),n)})}))}function WR(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===e)return i;const o=[];return t.forEach(s=>{"track"===s.type&&s.trackIdentifier===e.id&&o.push(s)}),o.forEach(s=>{t.forEach(l=>{l.type===r&&l.trackId===s.id&&FE(t,l,i)})}),i}const qR=NE;function KR(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(l){if("object"!=typeof l||l.mandatory||l.optional)return l;const c={};return Object.keys(l).forEach(f=>{if("require"===f||"advanced"===f||"mediaSource"===f)return;const p="object"==typeof l[f]?l[f]:{ideal:l[f]};void 0!==p.exact&&"number"==typeof p.exact&&(p.min=p.max=p.exact);const g=function(y,_){return y?y+_.charAt(0).toUpperCase()+_.slice(1):"deviceId"===_?"sourceId":_};if(void 0!==p.ideal){c.optional=c.optional||[];let y={};"number"==typeof p.ideal?(y[g("min",f)]=p.ideal,c.optional.push(y),y={},y[g("max",f)]=p.ideal,c.optional.push(y)):(y[g("",f)]=p.ideal,c.optional.push(y))}void 0!==p.exact&&"number"!=typeof p.exact?(c.mandatory=c.mandatory||{},c.mandatory[g("",f)]=p.exact):["min","max"].forEach(y=>{void 0!==p[y]&&(c.mandatory=c.mandatory||{},c.mandatory[g(y,f)]=p[y])})}),l.advanced&&(c.optional=(c.optional||[]).concat(l.advanced)),c},i=function(l,c){if(e.version>=61)return c(l);if((l=JSON.parse(JSON.stringify(l)))&&"object"==typeof l.audio){const f=function(p,g,y){g in p&&!(y in p)&&(p[y]=p[g],delete p[g])};f((l=JSON.parse(JSON.stringify(l))).audio,"autoGainControl","googAutoGainControl"),f(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&"object"==typeof l.video){let f=l.video.facingMode;f=f&&("object"==typeof f?f:{ideal:f});const p=e.version<66;if(f&&("user"===f.exact||"environment"===f.exact||"user"===f.ideal||"environment"===f.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||p)){let g;if(delete l.video.facingMode,"environment"===f.exact||"environment"===f.ideal?g=["back","rear"]:("user"===f.exact||"user"===f.ideal)&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(y=>{let _=(y=y.filter(E=>"videoinput"===E.kind)).find(E=>g.some(M=>E.label.toLowerCase().includes(M)));return!_&&y.length&&g.includes("back")&&(_=y[y.length-1]),_&&(l.video.deviceId=f.exact?{exact:_.deviceId}:{ideal:_.deviceId}),l.video=r(l.video),qR("chrome: "+JSON.stringify(l)),c(l)})}l.video=r(l.video)}return qR("chrome: "+JSON.stringify(l)),c(l)},o=function(l){return e.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(l,c,f){i(l,p=>{n.webkitGetUserMedia(p,c,g=>{f&&f(o(g))})})}.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,f=>l(f).then(p=>{if(f.audio&&!p.getAudioTracks().length||f.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return p},p=>Promise.reject(o(p))))}}}function nJ(t,e){if((!t.navigator.mediaDevices||!("getDisplayMedia"in t.navigator.mediaDevices))&&t.navigator.mediaDevices){if("function"!=typeof e)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:r.video&&r.video.frameRate||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),t.navigator.mediaDevices.getUserMedia(r)})}}}function QR(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function YR(t){if("object"==typeof t&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;o=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):{track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;o=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(l=>l.track&&l.track.id===i.id):{track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Lf(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function JR(t){if("object"==typeof t&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,o){return{track:o,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===o.kind?i.createDTMFSender(o):null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(l,c){let f=i.apply(this,arguments);return f||(f=e(this,l),this._senders.push(f)),f};const o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const c=this._senders.indexOf(l);-1!==c&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(c=>c.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if("object"==typeof t&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function ZR(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&"function"==typeof r)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof r))return e.apply(this,[]);const s=function(c){const f={};return c.result().forEach(g=>{const y={id:g.id,timestamp:g.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[g.type]||g.type};g.names().forEach(_=>{y[_]=g.stat(_)}),f[y.id]=y}),f},l=function(c){return new Map(Object.keys(c).map(f=>[f,c[f]]))};return arguments.length>=2?e.apply(this,[function(f){i(l(s(f)))},r]):new Promise((c,f)=>{e.apply(this,[function(p){c(l(s(p)))},f])}).then(i,o)}}function XR(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>WR(s,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Lf(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>WR(o,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype)||!("getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function ek(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[l.id]?-1===this._shimmedLocalStreams[l.id].indexOf(c)&&this._shimmedLocalStreams[l.id].push(c):this._shimmedLocalStreams[l.id]=[l,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(f=>-1===l.indexOf(f));this._shimmedLocalStreams[s.id]=[s].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const c=this._shimmedLocalStreams[l].indexOf(s);-1!==c&&this._shimmedLocalStreams[l].splice(c,1),1===this._shimmedLocalStreams[l].length&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function tk(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return ek(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const p=n.apply(this);return this._reverseStreams=this._reverseStreams||{},p.map(g=>this._reverseStreams[g.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(p){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.getTracks().forEach(g=>{if(this.getSenders().find(_=>_.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[p.id]){const g=new t.MediaStream(p.getTracks());this._streams[p.id]=g,this._reverseStreams[g.id]=p,p=g}r.apply(this,[p])};const i=t.RTCPeerConnection.prototype.removeStream;function o(f,p){let g=p.sdp;return Object.keys(f._reverseStreams||[]).forEach(y=>{const _=f._reverseStreams[y];g=g.replace(new RegExp(f._streams[_.id].id,"g"),_.id)}),new RTCSessionDescription({type:p.type,sdp:g})}function s(f,p){let g=p.sdp;return Object.keys(f._reverseStreams||[]).forEach(y=>{const _=f._reverseStreams[y],E=f._streams[_.id];g=g.replace(new RegExp(_.id,"g"),E.id)}),new RTCSessionDescription({type:p.type,sdp:g})}t.RTCPeerConnection.prototype.removeStream=function(p){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[p.id]||p]),delete this._reverseStreams[this._streams[p.id]?this._streams[p.id].id:p.id],delete this._streams[p.id]},t.RTCPeerConnection.prototype.addTrack=function(p,g){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const y=[].slice.call(arguments,1);if(1!==y.length||!y[0].getTracks().find(M=>M===p))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(M=>M.track===p))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[g.id];if(E)E.addTrack(p),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const M=new t.MediaStream([p]);this._streams[g.id]=M,this._reverseStreams[M.id]=g,this.addStream(M)}return this.getSenders().find(M=>M.track===p)},["createOffer","createAnswer"].forEach(function(f){const p=t.RTCPeerConnection.prototype[f],g={[f](){const y=arguments;return arguments.length&&"function"==typeof arguments[0]?p.apply(this,[E=>{const M=o(this,E);y[0].apply(null,[M])},E=>{y[1]&&y[1].apply(null,E)},arguments[2]]):p.apply(this,arguments).then(E=>o(this,E))}};t.RTCPeerConnection.prototype[f]=g[f]});const l=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=s(this,arguments[0]),l.apply(this,arguments)):l.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const f=c.get.apply(this);return""===f.type?f:o(this,f)}}),t.RTCPeerConnection.prototype.removeTrack=function(p){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!p._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(p._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let y;this._streams=this._streams||{},Object.keys(this._streams).forEach(_=>{this._streams[_].getTracks().find(M=>p.track===M)&&(y=this._streams[_])}),y&&(1===y.getTracks().length?this.removeStream(this._reverseStreams[y.id]):y.removeTrack(p.track),this.dispatchEvent(new Event("negotiationneeded")))}}function LE(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new("addIceCandidate"===n?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function nk(t,e){Lf(t,"negotiationneeded",n=>{const r=n.target;if(!(e.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return n})}var iJ=w(334),oJ=w.n(iJ);function rk(t){const e=t&&t.navigator,r=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}}(o)))}}function ik(t){"getDisplayMedia"in t.navigator&&(!t.navigator.mediaDevices||t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)))}function $E(t,e){if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(i){return i}),t.RTCSessionDescription||(t.RTCSessionDescription=function(i){return i}),e.version<15025)){const r=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)&&Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);const n=oJ()(t,e.version);t.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=function rJ(t,e){let n=!1;return(t=JSON.parse(JSON.stringify(t))).filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&Av("RTCIceServer.url","RTCIceServer.urls");const o="string"==typeof i;return o&&(i=[i]),i=i.filter(s=>{if(0===s.indexOf("stun:"))return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}(i.iceServers),NE("ICE servers after filtering:",i.iceServers)),new n(i)},t.RTCPeerConnection.prototype=n.prototype}function ok(t){t.RTCRtpSender&&!("replaceTrack"in t.RTCRtpSender.prototype)&&(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)}function sk(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){Av("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,c){l in s&&!(c in s)&&(s[c]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return"object"==typeof s&&"object"==typeof s.audio&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return"audio"===this.kind&&"object"==typeof l&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function sJ(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||!t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===r.video?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function ak(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function jE(t,e){if("object"!=typeof t||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new("addIceCandidate"===i?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(c=>{if(e.version<53&&!s)try{c.forEach(f=>{f.type=n[f.type]||f.type})}catch(f){if("TypeError"!==f.name)throw f;c.forEach((p,g)=>{c.set(g,Object.assign({},p,{type:n[p.type]||p.type}))})}return c}).then(s,l)}}function lk(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function uk(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Lf(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ck(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Av("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function dk(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function fk(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=e.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||1===l.encodings.length&&0===Object.keys(l.encodings[0]).length)&&(l.encodings=r.sendEncodings,s.sendEncodings=r.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function pk(t){if("object"!=typeof t||!t.RTCRtpSender)return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function hk(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function gk(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function mk(t){if("object"==typeof t&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(-1===r)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function yk(t){if("object"==typeof t&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),e.apply(r,arguments)}}}function vk(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(f,p){const g=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[g]);return p?(y.then(f,p),Promise.resolve()):y},e.createAnswer=function(f,p){const g=arguments.length>=2?arguments[2]:arguments[0],y=r.apply(this,[g]);return p?(y.then(f,p),Promise.resolve()):y};let l=function(c,f,p){const g=i.apply(this,[c]);return p?(g.then(f,p),Promise.resolve()):g};e.setLocalDescription=l,l=function(c,f,p){const g=o.apply(this,[c]);return p?(g.then(f,p),Promise.resolve()):g},e.setRemoteDescription=l,l=function(c,f,p){const g=s.apply(this,[c]);return p?(g.then(f,p),Promise.resolve()):g},e.addIceCandidate=l}function _k(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(Ck(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,i,o){e.mediaDevices.getUserMedia(r).then(i,o)}.bind(e))}function Ck(t){return t&&void 0!==t.video?Object.assign({},t,{video:GR(t.video)}):t}function Sk(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(Av("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>e.generateCertificate})}function Ek(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function bk(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>"audio"===s.receiver.track.kind);!1===r.offerToReceiveAudio&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0===r.offerToReceiveAudio&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>"video"===s.receiver.track.kind);!1===r.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":"recvonly"===o.direction&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):!0===r.offerToReceiveVideo&&!o&&this.addTransceiver("video")}return e.apply(this,arguments)}}function wk(t){"object"!=typeof t||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var aJ=w(463),Iv=w.n(aJ);function Pv(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if("object"==typeof r&&r.candidate&&0===r.candidate.indexOf("a=")&&((r=JSON.parse(JSON.stringify(r))).candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new e(r),o=Iv().parseCandidate(r.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Lf(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function pg(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const c=Iv().splitSections(l.sdp);return c.shift(),c.some(f=>{const p=Iv().parseMLine(f);return p&&"application"===p.kind&&-1!==p.protocol.indexOf("SCTP")})},r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===c||c.length<2)return-1;const f=parseInt(c[1],10);return f!=f?-1:f},i=function(l){let c=65536;return"firefox"===e.browser&&(c=e.version<57?-1===l?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),c},o=function(l,c){let f=65536;"firefox"===e.browser&&57===e.version&&(f=65535);const p=Iv().matchPrefix(l.sdp,"a=max-message-size:");return p.length>0?f=parseInt(p[0].substr(19),10):"firefox"===e.browser&&-1!==c&&(f=2147483637),f},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===e.browser&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();"plan-b"===c&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),f=i(c),p=o(arguments[0],c);let g;g=0===f&&0===p?Number.POSITIVE_INFINITY:0===f||0===p?Math.max(f,p):Math.min(f,p);const y={};Object.defineProperty(y,"maxMessageSize",{get:()=>g}),this._sctp=y}return s.apply(this,arguments)}}function hg(t){if(!t.RTCPeerConnection||!("createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const o=r.send;r.send=function(){const l=arguments[0],c=l.length||l.size||l.byteLength;if("open"===r.readyState&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},Lf(t,"datachannel",r=>(e(r.channel,r.target),r))}function VE(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function BE(t,e){if(!t.RTCPeerConnection||"chrome"===e.browser&&e.version>=71||"safari"===e.browser&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&-1!==i.sdp.indexOf("\na=extmap-allow-mixed")){const o=i.sdp.split("\n").filter(s=>"a=extmap-allow-mixed"!==s.trim()).join("\n");t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Rv(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||0===n.length||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===e.browser&&e.version<78||"firefox"===e.browser&&e.version<68||"safari"===e.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Dk=function lJ({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=NE,r=function tJ(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=fg(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)e.browser="chrome",e.version=fg(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))e.browser="edge",e.version=fg(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=fg(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype}return e}(t),i={browserDetails:r,commonShim:b,extractVersion:fg,disableLog:XY,disableWarnings:eJ};switch(r.browser){case"chrome":if(!T||!LE||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=T,Rv(t,r),KR(t,r),QR(t),LE(t,r),YR(t),tk(t,r),JR(t),ZR(t),XR(t),nk(t,r),Pv(t),VE(t),pg(t,r),hg(t),BE(t,r);break;case"firefox":if(!P||!jE||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=P,Rv(t,r),sk(t,r),jE(t,r),ak(t),ck(t),lk(t),uk(t),dk(t),fk(t),pk(t),hk(t),gk(t),Pv(t),VE(t),pg(t,r),hg(t);break;case"edge":if(!U||!$E||!e.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=U,rk(t),ik(t),$E(t,r),ok(t),pg(t,r),hg(t);break;case"safari":if(!O||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=O,Rv(t,r),Sk(t),bk(t),vk(t),mk(t),yk(t),Ek(t),_k(t),wk(t),Pv(t),pg(t,r),hg(t),BE(t,r);break;default:n("Unsupported browser!")}return i}({window:typeof window>"u"?void 0:window});function ea(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var UE=Dk.default||Dk,gg=new(function(){function t(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return t.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},t.prototype.isBrowserSupported=function(){var e=this.getBrowser(),n=this.getVersion();return!!this.supportedBrowsers.includes(e)&&("chrome"===e?n>=this.minChromeVersion:"firefox"===e?n>=this.minFirefoxVersion:"safari"===e&&!this.isIOS&&n>=this.minSafariVersion)},t.prototype.getBrowser=function(){return UE.browserDetails.browser},t.prototype.getVersion=function(){return UE.browserDetails.version||0},t.prototype.isUnifiedPlanSupported=function(){var e=this.getBrowser(),n=UE.browserDetails.version||0;if("chrome"===e&&n<this.minChromeVersion)return!1;if("firefox"===e&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{(r=new RTCPeerConnection).addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},t.prototype.toString=function(){return"Supports:\n    browser:".concat(this.getBrowser(),"\n    version:").concat(this.getVersion(),"\n    isIOS:").concat(this.isIOS,"\n    isWebRTCSupported:").concat(this.isWebRTCSupported(),"\n    isBrowserSupported:").concat(this.isBrowserSupported(),"\n    isUnifiedPlanSupported:").concat(this.isUnifiedPlanSupported())},t}()),Tk={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},uJ=function(){function t(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Tk,this.browser=gg.getBrowser(),this.browserVersion=gg.getVersion(),this.supports=function(){var n,e={browser:gg.isBrowserSupported(),webRTC:gg.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;try{n=new RTCPeerConnection(Tk),e.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!r.ordered;try{r.binaryType="blob",e.binaryBlob=!gg.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return e}(),this.pack=BR.pack,this.unpack=BR.unpack,this._dataCount=1}return t.prototype.noop=function(){},t.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},t.prototype.chunk=function(e){for(var n=[],r=e.size,i=Math.ceil(r/xn.chunkedMTU),o=0,s=0;s<r;){var l=Math.min(r,s+xn.chunkedMTU),c=e.slice(s,l);n.push({__peerData:this._dataCount,n:o,data:c,total:i}),s=l,o++}return this._dataCount++,n},t.prototype.blobToArrayBuffer=function(e,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(e),r},t.prototype.binaryStringToArrayBuffer=function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);return n.buffer},t.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},t.prototype.isSecure=function(){return"https:"===location.protocol},t}(),xn=new uJ,xk={};ea(xk,"Peer",()=>Uk,t=>Uk=t);var mg,cJ=Object.prototype.hasOwnProperty,Ri="~";function yg(){}function dJ(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function Mk(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new dJ(n,r||t,i),s=Ri?Ri+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function kv(t,e){0==--t._eventsCount?t._events=new yg:delete t._events[e]}function yi(){this._events=new yg,this._eventsCount=0}Object.create&&(yg.prototype=Object.create(null),(new yg).__proto__||(Ri=!1)),yi.prototype.eventNames=function(){var n,r,e=[];if(0===this._eventsCount)return e;for(r in n=this._events)cJ.call(n,r)&&e.push(Ri?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e},yi.prototype.listeners=function(e){var r=this._events[Ri?Ri+e:e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},yi.prototype.listenerCount=function(e){var r=this._events[Ri?Ri+e:e];return r?r.fn?1:r.length:0},yi.prototype.emit=function(e,n,r,i,o,s){var l=Ri?Ri+e:e;if(!this._events[l])return!1;var p,g,c=this._events[l],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,i),!0;case 5:return c.fn.call(c.context,n,r,i,o),!0;case 6:return c.fn.call(c.context,n,r,i,o,s),!0}for(g=1,p=new Array(f-1);g<f;g++)p[g-1]=arguments[g];c.fn.apply(c.context,p)}else{var _,y=c.length;for(g=0;g<y;g++)switch(c[g].once&&this.removeListener(e,c[g].fn,void 0,!0),f){case 1:c[g].fn.call(c[g].context);break;case 2:c[g].fn.call(c[g].context,n);break;case 3:c[g].fn.call(c[g].context,n,r);break;case 4:c[g].fn.call(c[g].context,n,r,i);break;default:if(!p)for(_=1,p=new Array(f-1);_<f;_++)p[_-1]=arguments[_];c[g].fn.apply(c[g].context,p)}}return!0},yi.prototype.on=function(e,n,r){return Mk(this,e,n,r,!1)},yi.prototype.once=function(e,n,r){return Mk(this,e,n,r,!0)},yi.prototype.removeListener=function(e,n,r,i){var o=Ri?Ri+e:e;if(!this._events[o])return this;if(!n)return kv(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&kv(this,o);else{for(var l=0,c=[],f=s.length;l<f;l++)(s[l].fn!==n||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:kv(this,o)}return this},yi.prototype.removeAllListeners=function(e){var n;return e?this._events[n=Ri?Ri+e:e]&&kv(this,n):(this._events=new yg,this._eventsCount=0),this},yi.prototype.off=yi.prototype.removeListener,yi.prototype.addListener=yi.prototype.on,yi.prefixed=Ri,yi.EventEmitter=yi,mg=yi;var Qe={};ea(Qe,"LogLevel",()=>ki,t=>ki=t),ea(Qe,"default",()=>Ak,t=>Ak=t);var Bc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Uc=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},fJ="PeerJS: ",ki=(()=>(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"}(ki||(ki={})),ki))(),pJ=function(){function t(){this._logLevel=ki.Disabled}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=ki.All&&this._print.apply(this,Uc([ki.All],Bc(e),!1))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=ki.Warnings&&this._print.apply(this,Uc([ki.Warnings],Bc(e),!1))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=ki.Errors&&this._print.apply(this,Uc([ki.Errors],Bc(e),!1))},t.prototype.setLogFunction=function(e){this._print=e},t.prototype._print=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Uc([fJ],Bc(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);e>=ki.All?console.log.apply(console,Uc([],Bc(i),!1)):e>=ki.Warnings?console.warn.apply(console,Uc(["WARNING"],Bc(i),!1)):e>=ki.Errors&&console.error.apply(console,Uc(["ERROR"],Bc(i),!1))},t}(),Ak=new pJ,Ik={};ea(Ik,"Socket",()=>Pk,t=>Pk=t);var HE,No=(()=>(function(t){t.Data="data",t.Media="media"}(No||(No={})),No))(),gr=(()=>(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"}(gr||(gr={})),gr))(),ta=(()=>(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json"}(ta||(ta={})),ta))(),na=(()=>(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"}(na||(na={})),na))(),qr=(()=>(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"}(qr||(qr={})),qr))();HE=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var hJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pk=function(t){function e(n,r,i,o,s,l){void 0===l&&(l=5e3);var c=t.call(this)||this;return c.pingInterval=l,c._disconnected=!0,c._messagesQueue=[],c._baseUrl=(n?"wss://":"ws://")+r+":"+i+o+"peerjs?key="+s,c}return hJ(e,t),e.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+HE.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),Qe.default.log("Server message received:",l)}catch{return void Qe.default.log("Invalid server message",s.data)}i.emit(na.Message,l)},this._socket.onclose=function(s){i._disconnected||(Qe.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(na.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),Qe.default.log("Socket open"),i._scheduleHeartbeat())})},e.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},e.prototype._sendHeartbeat=function(){if(this._wsOpen()){var n=JSON.stringify({type:qr.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()}else Qe.default.log("Cannot send heartbeat, because socket closed")},e.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},e.prototype._sendQueuedMessages=function(){var n,r,i=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=o.next();!s.done;s=o.next())this.send(s.value)}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.send=function(n){if(!this._disconnected){if(!this._id)return void this._messagesQueue.push(n);if(!n.type)return void this.emit(na.Error,"Invalid message");if(this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},e.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},e.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},e}(mg.EventEmitter),zE={};ea(zE,"MediaConnection",()=>Ok,t=>Ok=t);var GE={};ea(GE,"Negotiator",()=>Rk,t=>Rk=t);var Ov=function(){return Ov=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ov.apply(this,arguments)},Nv=function(t,e,n,r){return new(n||(n=Promise))(function(o,s){function l(p){try{f(r.next(p))}catch(g){s(g)}}function c(p){try{f(r.throw(p))}catch(g){s(g)}}function f(p){p.done?o(p.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(p.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},Fv=function(t,e){var r,i,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(p){return function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&f[0]?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===f[0]||2===f[0])){n=0;continue}if(3===f[0]&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(6===f[0]&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,p])}}},Rk=function(){function t(e){this.connection=e}return t.prototype.startConnection=function(e){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===No.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){if(this.connection.type===No.Data){var r=this.connection,o=n.createDataChannel(r.label,{ordered:!!e.reliable});r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},t.prototype._startPeerConnection=function(){Qe.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},t.prototype._setupListeners=function(e){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;Qe.default.log("Listening for ICE candidates."),e.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(Qe.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),s.socket.send({type:qr.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":Qe.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":Qe.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":Qe.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":e.onicecandidate=xn.noop}n.connection.emit("iceStateChanged",e.iceConnectionState)},Qe.default.log("Listening for data channel"),e.ondatachannel=function(l){Qe.default.log("Received data channel");var c=l.channel;s.getConnection(r,i).initialize(c)},Qe.default.log("Listening for remote stream"),e.ontrack=function(l){Qe.default.log("Received remote stream");var c=l.streams[0],f=s.getConnection(r,i);f.type===No.Media&&n._addStreamToMediaConnection(c,f)}},t.prototype.cleanup=function(){Qe.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var r=!1;if(this.connection.type===No.Data){var o=this.connection.dataChannel;o&&(r=!!o.readyState&&"closed"!==o.readyState)}("closed"!==e.signalingState||r)&&e.close()}},t.prototype._makeOffer=function(){return Nv(this,void 0,Promise,function(){var e,n,r,i,o,s,l;return Fv(this,function(c){switch(c.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,c.label=1;case 1:return c.trys.push([1,7,,8]),[4,e.createOffer(this.connection.options.constraints)];case 2:r=c.sent(),Qe.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),c.label=3;case 3:return c.trys.push([3,5,,6]),[4,e.setLocalDescription(r)];case 4:return c.sent(),Qe.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:xn.browser},this.connection.type===No.Data&&(o=this.connection,i=Ov(Ov({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:qr.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(s=c.sent())&&(n.emitError(gr.WebRTC,s),Qe.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=c.sent(),n.emitError(gr.WebRTC,l),Qe.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},t.prototype._makeAnswer=function(){return Nv(this,void 0,Promise,function(){var e,n,r,i,o;return Fv(this,function(s){switch(s.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:r=s.sent(),Qe.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,e.setLocalDescription(r)];case 4:return s.sent(),Qe.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:qr.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:xn.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),n.emitError(gr.WebRTC,i),Qe.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),n.emitError(gr.WebRTC,o),Qe.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},t.prototype.handleSDP=function(e,n){return Nv(this,void 0,Promise,function(){var r,i,o,s;return Fv(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,Qe.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),Qe.default.log("Set remoteDescription:".concat(e," for:").concat(this.connection.peer)),"OFFER"!==e?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(gr.WebRTC,s),Qe.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},t.prototype.handleCandidate=function(e){return Nv(this,void 0,Promise,function(){var n,r,i,o,s,l;return Fv(this,function(c){switch(c.label){case 0:Qe.default.log("handleCandidate:",e),n=e.candidate,r=e.sdpMLineIndex,i=e.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return c.sent(),Qe.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=c.sent(),s.emitError(gr.WebRTC,l),Qe.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},t.prototype._addTracksToConnection=function(e,n){if(Qe.default.log("add tracks from stream ".concat(e.id," to peer connection")),!n.addTrack)return Qe.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(function(r){n.addTrack(r,e)})},t.prototype._addStreamToMediaConnection=function(e,n){Qe.default.log("add stream ".concat(e.id," to media connection ").concat(n.connectionId)),n.addStream(e)},t}(),WE={};ea(WE,"BaseConnection",()=>kk,t=>kk=t);var vJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kk=function(t){function e(n,r,i){var o=t.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return vJ(e,t),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),e}(mg.EventEmitter),_J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lv=function(){return Lv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Lv.apply(this,arguments)},Ok=function(t){function e(n,r,i){var o=t.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||e.ID_PREFIX+xn.randomToken(),o._negotiator=new GE.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return _J(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return No.Media},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),e.prototype.addStream=function(n){Qe.default.log("Receiving stream",n),this._remoteStream=n,t.prototype.emit.call(this,"stream",n)},e.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case qr.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case qr.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:Qe.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer))}},e.prototype.answer=function(n,r){var i,o;if(void 0===r&&(r={}),this._localStream)Qe.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(Lv(Lv({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),c=l.next();!c.done;c=l.next())this.handleMessage(c.value)}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0}},e.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,t.prototype.emit.call(this,"close"))},e.ID_PREFIX="mc_",e}(WE.BaseConnection),qE={};ea(qE,"DataConnection",()=>Lk,t=>Lk=t);var Nk={};ea(Nk,"EncodingQueue",()=>Fk,t=>Fk=t);var SJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fk=function(t){function e(){var n=t.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){Qe.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return SJ(e,t),Object.defineProperty(e.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),e.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},e.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},e.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},e}(mg.EventEmitter),EJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lk=function(t){function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Nk.EncodingQueue,o.connectionId=o.options.connectionId||e.ID_PREFIX+xn.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||ta.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){Qe.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new GE.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return EJ(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return No.Data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},e.prototype._configureDataChannel=function(){var n=this;(!xn.supports.binaryBlob||xn.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){Qe.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){Qe.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){Qe.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},e.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,l=i;if(this.serialization===ta.Binary||this.serialization===ta.BinaryUTF8){if(o===Blob)return void xn.blobToArrayBuffer(i,function(f){var p=xn.unpack(f);r.emit("data",p)});if(o===ArrayBuffer)l=xn.unpack(i);else if(o===String){var c=xn.binaryStringToArrayBuffer(i);l=xn.unpack(c)}}else this.serialization===ta.JSON&&(l=this.parse(i));l.__peerData?this._handleChunk(l):t.prototype.emit.call(this,"data",l)},e.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},e.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,t.prototype.emit.call(this,"close"))},e.prototype.send=function(n,r){if(this.open)if(this.serialization===ta.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===ta.Binary||this.serialization===ta.BinaryUTF8){var i=xn.pack(n);if(!r&&i.size>xn.chunkedMTU)return void this._sendChunks(i);xn.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n);else t.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},e.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},e.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>e.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return Qe.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},e.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},e.prototype._sendChunks=function(n){var r,i,o=xn.chunk(n);Qe.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),l=s.next();!l.done;l=s.next())this.send(l.value,!0)}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case qr.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case qr.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:Qe.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer)}},e.ID_PREFIX="dc_",e.MAX_BUFFERED_AMOUNT=8388608,e}(WE.BaseConnection),$k={};ea($k,"API",()=>Bk,t=>Bk=t);var jk=function(t,e,n,r){return new(n||(n=Promise))(function(o,s){function l(p){try{f(r.next(p))}catch(g){s(g)}}function c(p){try{f(r.throw(p))}catch(g){s(g)}}function f(p){p.done?o(p.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(p.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},Vk=function(t,e){var r,i,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(p){return function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&f[0]?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===f[0]||2===f[0])){n=0;continue}if(3===f[0]&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(6===f[0]&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,p])}}},Bk=function(){function t(e){this._options=e}return t.prototype._buildRequest=function(e){var r=this._options,i=r.host,o=r.port,s=r.path,l=r.key,c=new URL("".concat(this._options.secure?"https":"http","://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(e));return c.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),c.searchParams.set("version",HE.version),fetch(c.href,{referrerPolicy:this._options.referrerPolicy})},t.prototype.retrieveId=function(){return jk(this,void 0,Promise,function(){var e,n,r;return Vk(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(200!==(e=i.sent()).status)throw new Error("Error. Status:".concat(e.status));return[2,e.text()];case 2:throw n=i.sent(),Qe.default.error("Error retrieving ID",n),r="","/"===this._options.path&&this._options.host!==xn.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},t.prototype.listAllPeers=function(){return jk(this,void 0,Promise,function(){var e,n,r;return Vk(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(200!==(e=i.sent()).status)throw 401===e.status?("",n=this._options.host===xn.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(e.status));return[2,e.json()];case 2:throw r=i.sent(),Qe.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},t}(),wJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vg=function(){return vg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vg.apply(this,arguments)},_g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DJ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Uk=function(t){function e(n,r){var o,i=t.call(this)||this;return i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map,n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=vg({debug:0,host:xn.CLOUD_HOST,port:xn.CLOUD_PORT,path:"/",key:e.DEFAULT_KEY,token:xn.randomToken(),config:xn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,"/"===i._options.host&&(i._options.host=window.location.hostname),i._options.path&&("/"!==i._options.path[0]&&(i._options.path="/"+i._options.path),"/"!==i._options.path[i._options.path.length-1]&&(i._options.path+="/")),void 0===i._options.secure&&i._options.host!==xn.CLOUD_HOST?i._options.secure=xn.isSecure():i._options.host==xn.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&Qe.default.setLogFunction(i._options.logFunction),Qe.default.logLevel=i._options.debug||0,i._api=new $k.API(r),i._socket=i._createServerConnection(),xn.supports.audioVideo||xn.supports.data?o&&!xn.validateId(o)?(i._delayedAbort(gr.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(gr.ServerError,s)}),i):(i._delayedAbort(gr.BrowserIncompatible,"The current browser does not support WebRTC"),i)}return wJ(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=_g(this._connections),s=o.next();!s.done;s=o.next()){var l=DJ(s.value,2);i[l[0]]=l[1]}}catch(p){n={error:p}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),e.prototype._createServerConnection=function(){var n=this,r=new Ik.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(na.Message,function(i){n._handleMessage(i)}),r.on(na.Error,function(i){n._abort(gr.SocketError,i)}),r.on(na.Disconnected,function(){n.disconnected||(n.emitError(gr.Network,"Lost connection to server."),n.disconnect())}),r.on(na.Close,function(){n.disconnected||n._abort(gr.SocketClosed,"Underlying socket is already closed.")}),r},e.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},e.prototype._handleMessage=function(n){var r,i,o=n.type,s=n.payload,l=n.src;switch(o){case qr.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case qr.Error:this._abort(gr.ServerError,s.msg);break;case qr.IdTaken:this._abort(gr.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case qr.InvalidKey:this._abort(gr.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case qr.Leave:Qe.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case qr.Expire:this.emitError(gr.PeerUnavailable,"Could not connect to peer ".concat(l));break;case qr.Offer:if((M=this.getConnection(l,E=s.connectionId))&&(M.close(),Qe.default.warn("Offer received for existing Connection ID:".concat(E))),s.type===No.Media){var c=new zE.MediaConnection(l,this,{connectionId:E,_payload:s,metadata:s.metadata});this._addConnection(l,M=c),this.emit("call",c)}else{if(s.type!==No.Data)return void Qe.default.warn("Received malformed connection type:".concat(s.type));var f=new qE.DataConnection(l,this,{connectionId:E,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});this._addConnection(l,M=f),this.emit("connection",f)}var p=this._getMessages(E);try{for(var g=_g(p),y=g.next();!y.done;y=g.next())M.handleMessage(y.value)}catch($){r={error:$}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}break;default:if(!s)return void Qe.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));var E,M;(M=this.getConnection(l,E=s.connectionId))&&M.peerConnection?M.handleMessage(n):E?this._storeMessage(E,n):Qe.default.warn("You received an unrecognized message:",n)}},e.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},e.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},e.prototype.connect=function(n,r){if(void 0===r&&(r={}),this.disconnected)return Qe.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(gr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var i=new qE.DataConnection(n,this,r);return this._addConnection(n,i),i},e.prototype.call=function(n,r,i){if(void 0===i&&(i={}),this.disconnected)return Qe.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(gr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(r){var o=new zE.MediaConnection(n,this,vg(vg({},i),{_stream:r}));return this._addConnection(n,o),o}Qe.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},e.prototype._addConnection=function(n,r){Qe.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},e.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},e.prototype.getConnection=function(n,r){var i,o,s=this._connections.get(n);if(!s)return null;try{for(var l=_g(s),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.connectionId===r)return f}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},e.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},e.prototype._abort=function(n,r){Qe.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},e.prototype.emitError=function(n,r){var i;Qe.default.error("Error:",r),(i="string"==typeof r?new Error(r):r).type=n,this.emit("error",i)},e.prototype.destroy=function(){this.destroyed||(Qe.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},e.prototype._cleanup=function(){var n,r;try{for(var i=_g(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},e.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(o)try{for(var s=_g(o),l=s.next();!l.done;l=s.next())l.value.close()}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;Qe.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},e.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)Qe.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"));Qe.default.error("In a hurry? We're still trying to make the initial connection!")}},e.prototype.listAllPeers=function(n){var r=this;void 0===n&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(gr.ServerError,i)})},e.DEFAULT_KEY="peerjs",e}(mg.EventEmitter),Hk=xk.Peer;const xJ=Se(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function KE(t,e){const{first:n,each:r,with:i=MJ,scheduler:o=e??Dv,meta:s=null}=kR(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==n&&null==r)throw new TypeError("No timeout provided.");return tn((l,c)=>{let f,p,g=null,y=0;const _=E=>{p=Li(c,o,()=>{try{f.unsubscribe(),Br(i({meta:s,lastValue:g,seen:y})).subscribe(c)}catch(M){c.error(M)}},E)};f=l.subscribe(Dn(c,E=>{p?.unsubscribe(),y++,c.next(g=E),r>0&&_(r)},void 0,void 0,()=>{p?.closed||p?.unsubscribe(),g=null})),!y&&_(null!=n?"number"==typeof n?n:+n-o.now():r)})}function MJ(t){throw new xJ(t)}const Cg=[];class fu{constructor(){this.type=this.constructor.name}static accept(e,n){for(let r of Cg)if(r.name===n.type)return r.accept(e,n);throw new Error("got undefined packet: "+n.type)}}class zk extends fu{constructor(e){super(),this.me=e}static accept(e,n){return e.visitJoinRoom(n)}}Cg.push(zk);class $v extends fu{constructor(e){super(),this.roomState=e}static accept(e,n){return e.visitRoomState(n)}}Cg.push($v);class QE{visitPing(e){throw new Error("got unexpected packet: "+String(e))}visitJoinRoom(e){throw new Error("got unexpected packet: "+String(e))}visitRoomState(e){throw new Error("got unexpected packet: "+String(e))}visitGameOptions(e){throw new Error("got unexpected packet: "+String(e))}}class Gk extends QE{constructor(e,n){super(),this.roomService=e,this.clientConn=n}visitPing(e){this.roomService.roomState.pipe(Hn()).subscribe(n=>{void 0!==n&&this.clientConn.connectionId in n.users&&(n.users[this.clientConn.connectionId].ping=Date.now()-e.start,this.roomService.roomState.next(n),this.roomService.broadcast(new $v(n)))})}visitJoinRoom(e){this.roomService.roomState.pipe(Hn()).subscribe(n=>{if(void 0!==n){for(let r of Object.values(n.users))if(r.name===e.me.name)return console.log("deny join of username: "+e.me.name),void this.roomService.disconnectUser(this.clientConn.connectionId);n.users[this.clientConn.connectionId]=e.me,this.roomService.roomState.next(n),this.roomService.pingConnection(this.clientConn)}})}}class YE extends fu{constructor(e){super(),this.gameOptions=e.map(n=>{void 0===n.id&&(n.id=Math.random().toString(36).substring(2));const r={...n};return delete r.action,r})}static accept(e,n){return e.visitGameOptions(n)}}Cg.push(YE);class AJ extends QE{constructor(e,n,r){super(),this.roomService=e,this.gamesService=n,this.clientConn=r}visitPing(e){this.clientConn.send(e)}visitRoomState(e){this.roomService.roomState.next(e.roomState)}visitGameOptions(e){this.gamesService.waitForOption(e.gameOptions).subscribe(n=>{const r=new YE([n]);r.id=e.id,this.clientConn.send(r)})}}class Wk extends fu{constructor(e){super(),this.start=e}static accept(e,n){return e.visitPing(n)}}Cg.push(Wk);let jv=(()=>{class t{constructor(n){this.gamesService=n,this.isHost=!1,this.roomState=new mi(void 0),this.connections={},this.awaitingPackages={},this.pingInterval=5e3,this.pingTimeout=3e3,function TJ(t=0,e=Dv){return t<0&&(t=0),Tv(t,t,e)}(this.pingInterval).subscribe(()=>{this.pingConnections()})}sendWaitResponseTo(n,r){return n in this.connections||ce(void 0),this.sendWaitResponse(this.connections[n],r)}sendWaitResponse(n,r){const i=Math.random().toString(36).substring(2),o=new Ft;return this.awaitingPackages[i]=o,r.id=i,n.send(r),o.pipe(Hn())}pingConnection(n){this.sendWaitResponse(n,new Wk(Date.now())).pipe(KE(this.pingTimeout),gs(()=>(this.disconnectUser(n.connectionId),ce(void 0)))).subscribe(r=>{void 0!==r&&fu.accept(new Gk(this,n),r)})}pingConnections(){for(let n of Object.values(this.connections))this.pingConnection(n)}disconnect(){this.roomState.next(void 0),this.connections={},this.peer&&this.peer.destroy()}disconnectUser(n){this.roomState.pipe(Hn()).subscribe(r=>{void 0!==r&&(n in this.connections&&(this.connections[n].close(),delete this.connections[n]),n in r.users&&(delete r.users[n],this.roomState.next(r),this.broadcast(new $v(r))))})}broadcast(n){for(let r of Object.values(this.connections))r.send(n)}setupHostConnection(n){this.connections[n.connectionId]=n;const r=new Gk(this,n);Ki(n,"close").subscribe(()=>{this.disconnectUser(n.connectionId)}),Ki(n,"error").subscribe(i=>{console.error(i)}),Ki(n,"data").subscribe(i=>{const o=i;void 0!==o.id&&o.id in this.awaitingPackages?this.awaitingPackages[o.id].next(o):fu.accept(r,o)})}setupClientConnection(n){n.send(new zk(this.me));const r=new AJ(this,this.gamesService,n);Ki(n,"close").subscribe(()=>{this.disconnect()}),Ki(n,"error").subscribe(i=>{console.error(i)}),Ki(n,"data").subscribe(i=>{const o=i;void 0!==o.id&&o.id in this.awaitingPackages?this.awaitingPackages[o.id].next(o):fu.accept(r,o)})}createRoom(n){return this.gamesService.getGameTypes().pipe(Ke(r=>(this.peer=new Hk,Ki(this.peer,"open").pipe(Hn(),Ie(i=>(this.id=String(i),this.me={name:n,ping:0},this.isHost=!0,this.roomState.next({users:{[this.id]:this.me},id:this.id,selectedGame:r[Object.keys(r)[0]],state:"lobby"}),Ki(this.peer,"connection").subscribe(o=>this.setupHostConnection(o)),this.id))))))}joinRoom(n,r){return this.peer=new Hk,Ki(this.peer,"open").pipe(Hn(),Ke(i=>{const o=this.peer.connect(r);return Ki(o,"open").pipe(KE(2e3),Hn(),Ke(()=>(this.id=String(i),this.me={name:n,ping:-1},this.isHost=!1,this.setupClientConnection(o),this.roomState.pipe(Hn(s=>void 0!==s),KE(2e3),Ie(s=>{if(void 0===s)throw new Error("Could not connect");return s.id})))))}))}setRoomState(n){this.roomState.next(n),this.broadcast(new $v(n))}}return t.\u0275fac=function(n){return new(n||t)(Oe(Za))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),qk=(()=>{class t{constructor(){}save(n,r){localStorage.setItem(n,r)}load(n,r=null){const i=localStorage.getItem(n);return null===i?r:i}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();function IJ(t,e){1&t&&(qe(0,"button",14),pn(1,"Loading..."),at())}function PJ(t,e){1&t&&(qe(0,"button",15),pn(1,"Create Room"),at())}function RJ(t,e){1&t&&(qe(0,"button",15),pn(1,"Join Room"),at())}function kJ(t,e){if(1&t&&(qe(0,"div",16)(1,"div"),pn(2),at()()),2&t){const n=zt();ft(2),pi(n.errorMessage)}}let Kk=(()=>{class t{constructor(n,r,i,o,s){this.roomService=n,this.storageService=r,this.router=i,this.route=o,this.zone=s,this.defaultUsername="User"+Math.random().toFixed(4).toString().substring(2),this.loading=!1,this.errorMessage="",this.username="",this.roomId="",o.paramMap.subscribe(l=>{l.has("id")&&!this.roomId&&(this.roomId=l.get("id"))}),this.username=this.storageService.load("username","")}ngOnInit(){}onSubmit(){this.storageService.save("username",this.username);let r,n=this.username;""==n&&(n=this.defaultUsername),this.errorMessage="",this.loading=!0,r=""==this.roomId?this.roomService.createRoom(n):this.roomService.joinRoom(n,this.roomId),r.pipe(gs(i=>{throw this.loading=!1,this.errorMessage=i.message,i})).subscribe(i=>{this.loading=!1,this.zone.run(()=>this.router.navigate(["lobby",i]))})}}return t.\u0275fac=function(n){return new(n||t)(oe(jv),oe(qk),oe(Pr),oe(ms),oe(Zn))},t.\u0275cmp=Ur({type:t,selectors:[["app-home"]],decls:21,vars:6,consts:[[1,"hero","min-h-screen","bg-base-200"],[1,"hero-content","text-center","w-full","max-w-lg"],[1,"card","flex-shrink-0","w-full","shadow-2xl","bg-base-100"],[1,"card-body",3,"ngSubmit"],[1,"form-control"],[1,"label"],[1,"label-text"],["type","text","name","username",1,"input","input-bordered",3,"placeholder","ngModel","ngModelChange"],["type","text","placeholder","Or create a room","name","roomId",1,"input","input-bordered",3,"ngModel","ngModelChange"],[1,"form-control","mt-6"],["class","btn loading",4,"ngIf","ngIfElse"],["create",""],["join",""],["class","alert alert-error shadow-lg",4,"ngIf"],[1,"btn","loading"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-error","shadow-lg"]],template:function(n,r){if(1&n&&(qe(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),sn("ngSubmit",function(){return r.onSubmit()}),qe(4,"div",4)(5,"label",5)(6,"span",6),pn(7,"Name"),at()(),qe(8,"input",7),sn("ngModelChange",function(o){return r.username=o}),at()(),qe(9,"div",4)(10,"label",5)(11,"span",6),pn(12,"Room-ID"),at()(),qe(13,"input",8),sn("ngModelChange",function(o){return r.roomId=o}),at()(),qe(14,"div",9),yn(15,IJ,2,0,"button",10),yn(16,PJ,2,0,"ng-template",null,11,Gm),yn(18,RJ,2,0,"ng-template",null,12,Gm),at(),yn(20,kJ,3,1,"div",13),at()()()()),2&n){const i=Lm(17),o=Lm(19);ft(8),xt("placeholder",r.defaultUsername)("ngModel",r.username),ft(5),xt("ngModel",r.roomId),ft(2),xt("ngIf",r.loading)("ngIfElse",""==r.roomId?i:o),ft(5),xt("ngIf",""!=r.errorMessage)}},dependencies:[Ac,UM,gf,Cy,DM,Fh,My]}),t})();function OJ(t,e){if(1&t&&(qe(0,"ul")(1,"li",4),pn(2),Gu(),qe(3,"svg",5),or(4,"path",6),at(),pn(5),at()()),2&t){const n=e.$implicit;ft(2),bc(" ",n.name," "),ft(3),bc(" ",n.ping,"ms ")}}function NJ(t,e){if(1&t&&(qe(0,"h1",7),pn(1),at()),2&t){const n=zt();ft(1),bc("Game: ",null==n.roomState||null==n.roomState.selectedGame?null:n.roomState.selectedGame.name,"")}}function FJ(t,e){if(1&t&&(qe(0,"option",11),pn(1),at()),2&t){const n=e.$implicit,r=zt(2);xt("selected",n.value.id===(null==r.roomState||null==r.roomState.selectedGame?null:r.roomState.selectedGame.id))("value",n.key),ft(1),pi(n.value.name)}}function LJ(t,e){if(1&t){const n=ls();qe(0,"div")(1,"select",8),sn("change",function(i){return cr(n),Wn(zt().changeGameType(i.target))}),yn(2,FJ,2,3,"option",9),La(3,"keyvalue"),La(4,"async"),at(),qe(5,"button",10),sn("click",function(){return cr(n),Wn(zt().startGame())}),pn(6,"Start"),at()()}if(2&t){const n=zt();ft(2),xt("ngForOf",$a(3,1,$a(4,3,n.getGameTypes())))}}let $J=(()=>{class t{constructor(n,r,i,o,s,l){this.roomService=n,this.gamesService=r,this.router=i,this.route=o,this.changeDetector=s,this.zone=l}ngOnInit(){Cn([this.roomService.roomState,this.route.paramMap]).subscribe(([n,r])=>{const i=r.get("id");void 0!==n?"playing"!==n.state?(this.roomState=n,this.changeDetector.detectChanges()):this.zone.run(()=>this.router.navigate(["play",n.selectedGame.id,n.id])):this.zone.run(()=>this.router.navigate(["join",i]))})}isHost(){return this.roomService.isHost}getGameTypes(){return this.gamesService.getGameTypes()}getUsers(){return void 0===this.roomState?[]:Object.values(this.roomState.users)}leave(){this.roomService.disconnect(),this.router.navigate(["home"])}changeGameType(n){!n||!n.value||this.getGameTypes().subscribe(r=>{void 0===this.roomState||!(n.value in r)||(this.roomState.selectedGame=r[n.value],this.roomService.setRoomState(this.roomState))})}startGame(){void 0!==this.roomState&&(this.roomState.state="playing",this.roomService.setRoomState(this.roomState))}}return t.\u0275fac=function(n){return new(n||t)(oe(jv),oe(Za),oe(Pr),oe(ms),oe(wh),oe(Zn))},t.\u0275cmp=Ur({type:t,selectors:[["app-lobby"]],decls:5,vars:3,consts:[[1,"btn","btn-secondary",3,"click"],[4,"ngFor","ngForOf"],["class","text-lg font-bold",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-row"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-2","h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-lg","font-bold"],[1,"select","select-bordered","w-full","max-w-xs",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[3,"selected","value"]],template:function(n,r){1&n&&(qe(0,"button",0),sn("click",function(){return r.leave()}),pn(1,"Leave"),at(),yn(2,OJ,6,2,"ul",1),yn(3,NJ,2,1,"h1",2),yn(4,LJ,7,5,"div",3)),2&n&&(ft(2),xt("ngForOf",r.getUsers()),ft(1),xt("ngIf",!r.isHost()),ft(1),xt("ngIf",r.isHost()))},dependencies:[Mc,Ac,oS,aS,bx,Mh],changeDetection:0}),t})();class jJ extends kE{constructor(e,n,r){super(),this.gamesService=e,this.roomService=n,this.connId=r}choose(e,n,r,i){return Cn([r,i]).pipe(Ke(([o,s])=>{e.waiting=!0,this.gamesService.gameState.next(JSON.parse(JSON.stringify(e)));const l=0==o.length?[s]:o;return this.roomService.sendWaitResponseTo(this.connId,new YE(l)).pipe(Ke(c=>(e.waiting=!1,ce(fu.accept(new class extends QE{visitGameOptions(f){for(let p of l)if(p.id===f.gameOptions[0].id)return p;return l[0]}},c)))))}))}}function VJ(t,e){if(1&t&&(qe(0,"div"),pn(1),La(2,"json"),at()),2&t){const n=e.$implicit;ft(1),pi($a(2,1,n.value))}}let Qk=(()=>{class t{constructor(n,r,i,o,s,l){this.animationService=n,this.gamesService=r,this.roomService=i,this.route=o,this.router=s,this.zone=l,this.subscriptions=[]}isLocal(){return void 0===this.roomState}isHost(){return this.isLocal()||this.roomService.isHost}ngOnInit(){this.subscriptions.push(this.roomService.roomState.subscribe(n=>{"lobby"!==n?.state?(this.isHost()&&n&&n.gameState&&n.gameState.ended&&(n.state="lobby",this.roomService.setRoomState(n)),this.roomState=n):this.zone.run(()=>this.router.navigate(["lobby",n.id]))})),this.subscriptions.push(Cn([this.roomService.roomState,this.route.paramMap]).pipe(Hn(),Ie(n=>(this.roomState=n[0],n)),Ke(([n,r])=>{const i=r.get("id");if(void 0===n&&null!==i)return this.zone.run(()=>this.router.navigate(["join",i])),ce(void 0);const o=r.get("game");return o&&this.isHost()?this.gamesService.getGameType(o).pipe(Ke(s=>this.gamesService.createGame(s))):ce(void 0)}),Ke(n=>{if(this.gamesService.setMeVisibility([this.roomService.me?this.roomService.me.name:"Player"]),n){if(n.skipMode=!1,this.roomState){n.createGameState(Object.values(this.roomState.users).map(r=>r.name)),n.controllers={};for(let r of Object.keys(this.roomState.users)){n.controllers[this.roomState.users[r].name]=r==this.roomService.id?new OE(this.gamesService):new jJ(this.gamesService,this.roomService,r)}}else n.createGameState(["Player","AI1","AI2"]),n.controllers={Player:new OE(this.gamesService),AI1:new Mv,AI2:new Mv};return n.setSeed("seed"),this.gamesService.autoPlay(n).pipe(Ie(r=>(r.isAnimation||this.roomService.roomState.pipe(Hn()).subscribe(i=>{!i||(i.gameState=r.gameState,this.roomService.setRoomState(i))}),r.gameState)))}return this.roomService.roomState.pipe(Ii(r=>r&&r.gameState?(this.animationService.registerAnimations(r.gameState.animations),this.animationService.pendingAnimations.pipe($h(i=>i>0,!0),Ie(i=>(this.gamesService.waiting.next(void 0!==r.gameState&&r.gameState.waiting),r.gameState)))):ce(void 0)))})).subscribe(n=>{this.gameState=n}))}ngOnDestroy(){for(let n of this.subscriptions)n.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(oe(dg),oe(Za),oe(jv),oe(ms),oe(Pr),oe(Zn))},t.\u0275cmp=Ur({type:t,selectors:[["app-play"]],decls:4,vars:4,consts:[[3,"gameState"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(or(0,"app-playground",0),yn(1,VJ,3,3,"div",1),La(2,"keyvalue"),or(3,"app-settings")),2&n&&(xt("gameState",r.gameState),ft(1),xt("ngForOf",$a(2,2,null==r.roomState?null:r.roomState.users)))},dependencies:[Mc,jR,VR,wx,Mh]}),t})();const BJ=[{component:Kk,path:"home"},{component:Kk,path:"join/:id"},{component:$J,path:"lobby/:id"},{component:Qk,path:"play/:game"},{component:Qk,path:"play/:game/:id"},{component:ZY,path:"debug/:game"},{component:xY,path:"create-game"},{path:"**",redirectTo:"/home"}];let UJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({imports:[_I.forRoot(BJ,{useHash:true}),_I]}),t})(),HJ=(()=>{class t{constructor(){this.title="card-games"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ur({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[["data-theme","dark",1,"min-h-full","overflow-auto","scrollbar-hide"]],template:function(n,r){1&n&&(qe(0,"main",0),or(1,"router-outlet"),at())},dependencies:[TS]}),t})();class Yk{}const Xa="*";function Jk(t,e=null){return{type:2,steps:t,options:e}}function Zk(t){return{type:6,styles:t,offset:null}}function Xk(t){Promise.resolve().then(t)}class Sg{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class eO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const o=this.players.length;0==o?Xk(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function tO(t){return new le(3e3,!1)}function DZ(){return typeof window<"u"&&typeof window.document<"u"}function ZE(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pu(t){switch(t.length){case 0:return new Sg;case 1:return t[0];default:return new eO(t)}}function nO(t,e,n,r,i=new Map,o=new Map){const s=[],l=[];let c=-1,f=null;if(r.forEach(p=>{const g=p.get("offset"),y=g==c,_=y&&f||new Map;p.forEach((E,M)=>{let $=M,j=E;if("offset"!==M)switch($=e.normalizePropertyName($,s),j){case"!":j=i.get(M);break;case Xa:j=o.get(M);break;default:j=e.normalizeStyleValue(M,$,j,s)}_.set($,j)}),y||l.push(_),f=_,c=g}),s.length)throw function pZ(t){return new le(3502,!1)}();return l}function XE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&eb(n,"start",t)));break;case"done":t.onDone(()=>r(n&&eb(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&eb(n,"destroy",t)))}}function eb(t,e,n){const o=tb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),s=t._data;return null!=s&&(o._data=s),o}function tb(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function fo(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function rO(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}let nb=(t,e)=>!1,iO=(t,e,n)=>[],oO=null;function rb(t){const e=t.parentNode||t.host;return e===oO?null:e}(ZE()||typeof Element<"u")&&(DZ()?(oO=(()=>document.documentElement)(),nb=(t,e)=>{for(;e;){if(e===t)return!0;e=rb(e)}return!1}):nb=(t,e)=>t.contains(e),iO=(t,e,n)=>{if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]});let Hc=null,sO=!1;const aO=nb,lO=iO;let uO=(()=>{class t{validateStyleProperty(n){return function xZ(t){Hc||(Hc=function MZ(){return typeof document<"u"?document.body:null}()||{},sO=!!Hc.style&&"WebkitAppearance"in Hc.style);let e=!0;return Hc.style&&!function TZ(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Hc.style,!e&&sO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Hc.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return aO(n,r)}getParentElement(n){return rb(n)}query(n,r,i){return lO(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,l=[],c){return new Sg(i,o)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})(),ib=(()=>{class t{}return t.NOOP=new uO,t})();const ob="ng-enter",Vv="ng-leave",Bv="ng-trigger",Uv=".ng-trigger",dO="ng-animating",sb=".ng-animating";function el(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ab(parseFloat(e[1]),e[2])}function ab(t,e){return"s"===e?1e3*t:t}function Hv(t,e,n){return t.hasOwnProperty("duration")?t:function PZ(t,e,n){let i,o=0,s="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(tO()),{duration:0,delay:0,easing:""};i=ab(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(o=ab(parseFloat(c),l[4]));const f=l[5];f&&(s=f)}else i=t;if(!n){let l=!1,c=e.length;i<0&&(e.push(function GJ(){return new le(3100,!1)}()),l=!0),o<0&&(e.push(function WJ(){return new le(3101,!1)}()),l=!0),l&&e.splice(c,0,tO())}return{duration:i,delay:o,easing:s}}(t,e,n)}function Eg(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function fO(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function hu(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function hO(t,e,n){return n?e+":"+n+";":""}function gO(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=hO(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=hO(0,NZ(n),t.style[n]));t.setAttribute("style",e)}function ra(t,e,n){t.style&&(e.forEach((r,i)=>{const o=ub(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r}),ZE()&&gO(t))}function zc(t,e){t.style&&(e.forEach((n,r)=>{const i=ub(r);t.style[i]=""}),ZE()&&gO(t))}function bg(t){return Array.isArray(t)?1==t.length?t[0]:Jk(t):t}const lb=new RegExp("{{\\s*(.+?)\\s*}}","g");function mO(t){let e=[];if("string"==typeof t){let n;for(;n=lb.exec(t);)e.push(n[1]);lb.lastIndex=0}return e}function wg(t,e,n){const r=t.toString(),i=r.replace(lb,(o,s)=>{let l=e[s];return null==l&&(n.push(function KJ(t){return new le(3003,!1)}()),l=""),l.toString()});return i==r?t:i}function zv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const OZ=/-+([a-z0-9])/g;function ub(t){return t.replace(OZ,(...e)=>e[1].toUpperCase())}function NZ(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function po(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function QJ(t){return new le(3004,!1)}()}}function yO(t,e){return window.getComputedStyle(t)[e]}function BZ(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function UZ(t,e,n){if(":"==t[0]){const c=function HZ(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function uZ(t){return new le(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof c)return void e.push(c);t=c}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function lZ(t){return new le(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(vO(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(vO(s,i))}(r,n,e)):n.push(t),n}const Kv=new Set(["true","1"]),Qv=new Set(["false","0"]);function vO(t,e){const n=Kv.has(t)||Qv.has(t),r=Kv.has(e)||Qv.has(e);return(i,o)=>{let s="*"==t||t==i,l="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Kv.has(t):Qv.has(t)),!l&&r&&"boolean"==typeof o&&(l=o?Kv.has(e):Qv.has(e)),s&&l}}const zZ=new RegExp("s*:selfs*,?","g");function cb(t,e,n,r){return new GZ(t).build(e,n,r)}class GZ{constructor(e){this._driver=e}build(e,n,r){const i=new KZ(n);return this._resetContextStyleTimingState(i),po(this,bg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&n.errors.push(function JJ(){return new le(3006,!1)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),0==l.type){const c=l,f=c.name;f.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,o.push(this.visitState(c,n))}),c.name=f}else if(1==l.type){const c=this.visitTransition(l,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(function ZJ(){return new le(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{mO(c).forEach(f=>{s.hasOwnProperty(f)||o.add(f)})})}),o.size&&(zv(o.values()),n.errors.push(function XJ(t,e){return new le(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=po(this,bg(e.animation),n);return{type:1,matchers:BZ(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Gc(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>po(this,r,n)),options:Gc(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const o=e.steps.map(s=>{n.currentTime=r;const l=po(this,s,n);return i=Math.max(i,n.currentTime),l});return n.currentTime=i,{type:3,steps:o,options:Gc(e.options)}}visitAnimate(e,n){const r=function YZ(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return db(Hv(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=db(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=Hv(n,e);return db(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:Zk({});if(5==o.type)i=this.visitKeyframes(o,n);else{let s=e.styles,l=!1;if(!s){l=!0;const f={};r.easing&&(f.easing=r.easing),s=Zk(f)}n.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,n);c.isEmptyStep=l,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of i)"string"==typeof l?l===Xa?r.push(l):n.errors.push(new le(3002,!1)):r.push(fO(l));let o=!1,s=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o))for(let c of l.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,c)=>{const f=n.collectedStyles.get(n.currentQuerySelector),p=f.get(c);let g=!0;p&&(o!=i&&o>=p.startTime&&i<=p.endTime&&(n.errors.push(function tZ(t,e,n,r,i){return new le(3010,!1)}()),g=!1),o=p.startTime),g&&f.set(c,{startTime:o,endTime:i}),n.options&&function kZ(t,e,n){const r=e.params||{},i=mO(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function qJ(t){return new le(3001,!1)}())})}(l,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function nZ(){return new le(3011,!1)}()),r;let o=0;const s=[];let l=!1,c=!1,f=0;const p=e.steps.map(j=>{const Q=this._makeStyleAst(j,n);let H=null!=Q.offset?Q.offset:function QZ(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(Q.styles),se=0;return null!=H&&(o++,se=Q.offset=H),c=c||se<0||se>1,l=l||se<f,f=se,s.push(se),Q});c&&n.errors.push(function rZ(){return new le(3012,!1)}()),l&&n.errors.push(function iZ(){return new le(3200,!1)}());const g=e.steps.length;let y=0;o>0&&o<g?n.errors.push(function oZ(){return new le(3202,!1)}()):0==o&&(y=1/(g-1));const _=g-1,E=n.currentTime,M=n.currentAnimateTimings,$=M.duration;return p.forEach((j,Q)=>{const H=y>0?Q==_?1:y*Q:s[Q],se=H*$;n.currentTime=E+M.delay+se,M.duration=se,this._validateStyleAst(j,n),j.offset=H,r.styles.push(j)}),r}visitReference(e,n){return{type:8,animation:po(this,bg(e.animation),n),options:Gc(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Gc(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Gc(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[o,s]=function WZ(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(zZ,"")),t=t.replace(/@\*/g,Uv).replace(/@\w+/g,n=>Uv+"-"+n.slice(1)).replace(/:animating/g,sb),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,fo(n.collectedStyles,n.currentQuerySelector,new Map);const l=po(this,bg(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:Gc(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function sZ(){return new le(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hv(e.timings,n.errors,!0);return{type:12,animation:po(this,bg(e.animation),n),timings:r,options:null}}}class KZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gc(t){return t?(t=Eg(t)).params&&(t.params=function qZ(t){return t?Eg(t):null}(t.params)):t={},t}function db(t,e,n){return{duration:t,delay:e,easing:n}}function fb(t,e,n,r,i,o,s=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:l}}class Yv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const XZ=new RegExp(":enter","g"),tX=new RegExp(":leave","g");function pb(t,e,n,r,i,o=new Map,s=new Map,l,c,f=[]){return(new nX).buildKeyframes(t,e,n,r,i,o,s,l,c,f)}class nX{buildKeyframes(e,n,r,i,o,s,l,c,f,p=[]){f=f||new Yv;const g=new hb(e,n,f,i,o,p,[]);g.options=c;const y=c.delay?el(c.delay):0;g.currentTimeline.delayNextStep(y),g.currentTimeline.setStyles([s],null,g.errors,c),po(this,r,g);const _=g.timelines.filter(E=>E.containsAnimation());if(_.length&&l.size){let E;for(let M=_.length-1;M>=0;M--){const $=_[M];if($.element===n){E=$;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([l],null,g.errors,c)}return _.length?_.map(E=>E.buildKeyframes()):[fb(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:el(wg(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?el(r.duration):null,l=null!=r.delay?el(r.delay):null;return 0!==s&&e.forEach(c=>{const f=n.appendInstructionToTimeline(c,s,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),po(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Jv);const s=el(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>po(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?el(e.options.delay):0;e.steps.forEach(s=>{const l=n.createSubContext(e.options);o&&l.delayNextStep(o),po(this,s,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Hv(n.params?wg(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,l=n.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(c=>{l.forwardTime((c.offset||0)*o),l.setStyles(c.styles,c.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?el(i.delay):0;o&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Jv);let s=r;const l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=l.length;let c=null;l.forEach((f,p)=>{n.currentQueryIndex=p;const g=n.createSubContext(e.options,f);o&&g.delayNextStep(o),f===n.element&&(c=g.currentTimeline),po(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),l=s*(n.currentQueryTotal-1);let c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=l-c;break;case"full":c=r.currentStaggerTime}const p=n.currentTimeline;c&&p.delayNextStep(c);const g=p.currentTime;po(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const Jv={};class hb{constructor(e,n,r,i,o,s,l,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Zv(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=el(r.duration)),null!=r.delay&&(i.delay=el(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!s.hasOwnProperty(l))&&(s[l]=wg(o[l],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,o=new hb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Jv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new rX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(XZ,"."+this._enterClassName)).replace(tX,"."+this._leaveClassName);let f=this._driver.query(this.element,e,1!=r);0!==r&&(f=r<0?f.slice(f.length+r,f.length):f.slice(0,r)),l.push(...f)}return!o&&0==l.length&&s.push(function aZ(t){return new le(3014,!1)}()),l}}class Zv{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Zv(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Xa),this._currentKeyframe.set(n,Xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function iX(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)n.set(o,Xa)}else hu(i,n)}),n}(e,this._globalTimelineStyles);for(let[l,c]of s){const f=wg(c,o,r);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Xa),this._updateStyle(l,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,c)=>{const f=hu(l,new Map,this._backFill);f.forEach((p,g)=>{"!"===p?e.add(g):p===Xa&&n.add(g)}),r||f.set("offset",c/this.duration),i.push(f)});const o=e.size?zv(e.values()):[],s=n.size?zv(n.values()):[];if(r){const l=i[0],c=new Map(l);l.set("offset",0),c.set("offset",1),i=[l,c]}return fb(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class rX extends Zv{constructor(e,n,r,i,o,s,l=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,l=n/s,c=hu(e[0]);c.set("offset",0),o.push(c);const f=hu(e[0]);f.set("offset",SO(l)),o.push(f);const p=e.length-1;for(let g=1;g<=p;g++){let y=hu(e[g]);const _=y.get("offset");y.set("offset",SO((n+_*r)/s)),o.push(y)}r=s,n=0,i="",e=o}return fb(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function SO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class gb{}const oX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sX extends gb{normalizePropertyName(e,n){return ub(e)}normalizeStyleValue(e,n,r,i){let o="";const s=r.toString().trim();if(oX.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function YJ(t,e){return new le(3005,!1)}())}return s+o}}function EO(t,e,n,r,i,o,s,l,c,f,p,g,y){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:l,queriedElements:c,preStyleProps:f,postStyleProps:p,totalTime:g,errors:y}}const mb={};class bO{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function aX(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,l,c,f,p){const g=[],y=this.ast.options&&this.ast.options.params||mb,E=this.buildStyles(r,l&&l.params||mb,g),M=c&&c.params||mb,$=this.buildStyles(i,M,g),j=new Set,Q=new Map,H=new Map,se="void"===i,Re={params:lX(M,y),delay:this.ast.options?.delay},Ve=p?[]:pb(e,n,this.ast.animation,o,s,E,$,Re,f,g);let _t=0;if(Ve.forEach(st=>{_t=Math.max(st.duration+st.delay,_t)}),g.length)return EO(n,this._triggerName,r,i,se,E,$,[],[],Q,H,_t,g);Ve.forEach(st=>{const Ze=st.element,He=fo(Q,Ze,new Set);st.preStyleProps.forEach(it=>He.add(it));const Be=fo(H,Ze,new Set);st.postStyleProps.forEach(it=>Be.add(it)),Ze!==n&&j.add(Ze)});const qt=zv(j.values());return EO(n,this._triggerName,r,i,se,E,$,Ve,qt,Q,H,_t)}}function lX(t,e){const n=Eg(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class uX{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Eg(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{s&&(s=wg(s,i,n));const c=this.normalizer.normalizePropertyName(l,n);s=this.normalizer.normalizeStyleValue(l,c,s,n),r.set(c,s)})}),r}}class dX{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new uX(i.style,i.options&&i.options.params||{},r))}),wO(this.states,"true","1"),wO(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new bO(e,i,this.states))}),this.fallbackTransition=function fX(t,e,n){return new bO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function wO(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const pX=new Yv;class hX{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],o=cb(this._driver,n,r,[]);if(r.length)throw function hZ(t){return new le(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,r){const i=e.element,o=nO(0,this._normalizer,0,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],o=this._animations.get(e);let s;const l=new Map;if(o?(s=pb(this._driver,n,o,ob,Vv,new Map,new Map,r,pX,i),s.forEach(p=>{const g=fo(l,p.element,new Map);p.postStyleProps.forEach(y=>g.set(y,null))})):(i.push(function gZ(){return new le(3300,!1)}()),s=[]),i.length)throw function mZ(t){return new le(3504,!1)}();l.forEach((p,g)=>{p.forEach((y,_)=>{p.set(_,this._driver.computeStyle(g,_,Xa))})});const f=pu(s.map(p=>{const g=l.get(p.element);return this._buildPlayer(p,new Map,g)}));return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function yZ(t){return new le(3301,!1)}();return n}listen(e,n,r,i){const o=tb(n,"","","");return XE(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const DO="ng-animate-queued",yb="ng-animate-disabled",_X=[],TO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed";class vb{constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function wX(t){return t??null}(r?e.value:e),r){const o=Eg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Dg="void",_b=new vb(Dg);class SX{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Lo(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function vZ(t,e){return new le(3302,!1)}();if(null==r||0==r.length)throw function _Z(t){return new le(3303,!1)}();if(!function DX(t){return"start"==t||"done"==t}(r))throw function CZ(t,e){return new le(3400,!1)}();const o=fo(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);const l=fo(this._engine.statesByElement,e,new Map);return l.has(n)||(Lo(e,Bv),Lo(e,Bv+"-"+n),l.set(n,_b)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function SZ(t){return new le(3401,!1)}();return n}trigger(e,n,r,i=!0){const o=this._getTrigger(n),s=new Cb(this.id,n,e);let l=this._engine.statesByElement.get(e);l||(Lo(e,Bv),Lo(e,Bv+"-"+n),this._engine.statesByElement.set(e,l=new Map));let c=l.get(n);const f=new vb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&f.absorbOptions(c.options),l.set(n,f),c||(c=_b),f.value!==Dg&&c.value===f.value){if(!function MX(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(c.params,f.params)){const M=[],$=o.matchStyles(c.value,c.params,M),j=o.matchStyles(f.value,f.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{zc(e,$),ra(e,j)})}return}const y=fo(this._engine.playersByElement,e,[]);y.forEach(M=>{M.namespaceId==this.id&&M.triggerName==n&&M.queued&&M.destroy()});let _=o.matchTransition(c.value,f.value,e,f.params),E=!1;if(!_){if(!i)return;_=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:f,player:s,isFallbackTransition:E}),E||(Lo(e,DO),s.onStart(()=>{$f(e,DO)})),s.onDone(()=>{let M=this.players.indexOf(s);M>=0&&this.players.splice(M,1);const $=this._engine.playersByElement.get(e);if($){let j=$.indexOf(s);j>=0&&$.splice(j,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Uv,!0);r.forEach(i=>{if(i[Fo])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const l=[];if(o.forEach((c,f)=>{if(s.set(f,c.value),this._triggers.has(f)){const p=this.trigger(e,f,Dg,i);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&pu(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,f=r.get(s)||_b,p=new vb(Dg),g=new Cb(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:f,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[Fo];(!o||o===TO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Lo(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==r.triggerName){const c=tb(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,XE(r.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let n=!1;return this._elementListeners.has(e)&&(n=!0),n=!!this._queue.find(r=>r.element===e)||n,n}}class EX{constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new SX(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,l=this.driver.getParentElement(n);for(;l;){const c=i.get(l);if(c){const f=r.indexOf(c);r.splice(f+1,0,e),s=!0;break}l=this.driver.getParentElement(l)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(n))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(e,n,r,i){if(Xv(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Xv(n))return;const o=n[Fo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Lo(e,yb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$f(e,yb))}removeNode(e,n,r,i){if(Xv(n)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i),r){const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[Fo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return Xv(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Uv,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,sb,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Fo];if(n&&n.setForRemoval){if(e[Fo]=TO,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(yb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Lo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?pu(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function EZ(t){return new le(3402,!1)}()}_flushAnimations(e,n){const r=new Yv,i=[],o=new Map,s=[],l=new Map,c=new Map,f=new Map,p=new Set;this.disabledNodes.forEach(ge=>{p.add(ge);const Ee=this.driver.query(ge,".ng-animate-queued",!0);for(let fe=0;fe<Ee.length;fe++)p.add(Ee[fe])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),_=AO(y,this.collectedEnterElements),E=new Map;let M=0;_.forEach((ge,Ee)=>{const fe=ob+M++;E.set(Ee,fe),ge.forEach(we=>Lo(we,fe))});const $=[],j=new Set,Q=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const Ee=this.collectedLeaveElements[ge],fe=Ee[Fo];fe&&fe.setForRemoval&&($.push(Ee),j.add(Ee),fe.hasAnimation?this.driver.query(Ee,".ng-star-inserted",!0).forEach(we=>j.add(we)):Q.add(Ee))}const H=new Map,se=AO(y,Array.from(j));se.forEach((ge,Ee)=>{const fe=Vv+M++;H.set(Ee,fe),ge.forEach(we=>Lo(we,fe))}),e.push(()=>{_.forEach((ge,Ee)=>{const fe=E.get(Ee);ge.forEach(we=>$f(we,fe))}),se.forEach((ge,Ee)=>{const fe=H.get(Ee);ge.forEach(we=>$f(we,fe))}),$.forEach(ge=>{this.processLeaveNode(ge)})});const Re=[],Ve=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(n).forEach(fe=>{const we=fe.player,Xe=fe.element;if(Re.push(we),this.collectedEnterElements.length){const Gt=Xe[Fo];if(Gt&&Gt.setForMove){if(Gt.previousTriggersValues&&Gt.previousTriggersValues.has(fe.triggerName)){const Rn=Gt.previousTriggersValues.get(fe.triggerName),Jt=this.statesByElement.get(fe.element);if(Jt&&Jt.has(fe.triggerName)){const Ue=Jt.get(fe.triggerName);Ue.value=Rn,Jt.set(fe.triggerName,Ue)}}return void we.destroy()}}const Kt=!g||!this.driver.containsElement(g,Xe),rn=H.get(Xe),Sn=E.get(Xe),Pt=this._buildInstruction(fe,r,Sn,rn,Kt);if(Pt.errors&&Pt.errors.length)return void Ve.push(Pt);if(Kt)return we.onStart(()=>zc(Xe,Pt.fromStyles)),we.onDestroy(()=>ra(Xe,Pt.toStyles)),void i.push(we);if(fe.isFallbackTransition)return we.onStart(()=>zc(Xe,Pt.fromStyles)),we.onDestroy(()=>ra(Xe,Pt.toStyles)),void i.push(we);const jn=[];Pt.timelines.forEach(Gt=>{Gt.stretchStartingKeyframe=!0,this.disabledNodes.has(Gt.element)||jn.push(Gt)}),Pt.timelines=jn,r.append(Xe,Pt.timelines),s.push({instruction:Pt,player:we,element:Xe}),Pt.queriedElements.forEach(Gt=>fo(l,Gt,[]).push(we)),Pt.preStyleProps.forEach((Gt,Rn)=>{if(Gt.size){let Jt=c.get(Rn);Jt||c.set(Rn,Jt=new Set),Gt.forEach((Ue,Me)=>Jt.add(Me))}}),Pt.postStyleProps.forEach((Gt,Rn)=>{let Jt=f.get(Rn);Jt||f.set(Rn,Jt=new Set),Gt.forEach((Ue,Me)=>Jt.add(Me))})});if(Ve.length){const ge=[];Ve.forEach(Ee=>{ge.push(function bZ(t,e){return new le(3505,!1)}())}),Re.forEach(Ee=>Ee.destroy()),this.reportError(ge)}const _t=new Map,qt=new Map;s.forEach(ge=>{const Ee=ge.element;r.has(Ee)&&(qt.set(Ee,Ee),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,_t))}),i.forEach(ge=>{const Ee=ge.element;this._getPreviousPlayers(Ee,!1,ge.namespaceId,ge.triggerName,null).forEach(we=>{fo(_t,Ee,[]).push(we),we.destroy()})});const st=$.filter(ge=>PO(ge,c,f)),Ze=new Map;MO(Ze,this.driver,Q,f,Xa).forEach(ge=>{PO(ge,c,f)&&st.push(ge)});const Be=new Map;_.forEach((ge,Ee)=>{MO(Be,this.driver,new Set(ge),c,"!")}),st.forEach(ge=>{const Ee=Ze.get(ge),fe=Be.get(ge);Ze.set(ge,new Map([...Array.from(Ee?.entries()??[]),...Array.from(fe?.entries()??[])]))});const it=[],Yt=[],Ot={};s.forEach(ge=>{const{element:Ee,player:fe,instruction:we}=ge;if(r.has(Ee)){if(p.has(Ee))return fe.onDestroy(()=>ra(Ee,we.toStyles)),fe.disabled=!0,fe.overrideTotalTime(we.totalTime),void i.push(fe);let Xe=Ot;if(qt.size>1){let rn=Ee;const Sn=[];for(;rn=rn.parentNode;){const Pt=qt.get(rn);if(Pt){Xe=Pt;break}Sn.push(rn)}Sn.forEach(Pt=>qt.set(Pt,Xe))}const Kt=this._buildAnimation(fe.namespaceId,we,_t,o,Be,Ze);if(fe.setRealPlayer(Kt),Xe===Ot)it.push(fe);else{const rn=this.playersByElement.get(Xe);rn&&rn.length&&(fe.parentPlayer=pu(rn)),i.push(fe)}}else zc(Ee,we.fromStyles),fe.onDestroy(()=>ra(Ee,we.toStyles)),Yt.push(fe),p.has(Ee)&&i.push(fe)}),Yt.forEach(ge=>{const Ee=o.get(ge.element);if(Ee&&Ee.length){const fe=pu(Ee);ge.setRealPlayer(fe)}}),i.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<$.length;ge++){const Ee=$[ge],fe=Ee[Fo];if($f(Ee,Vv),fe&&fe.hasAnimation)continue;let we=[];if(l.size){let Kt=l.get(Ee);Kt&&Kt.length&&we.push(...Kt);let rn=this.driver.query(Ee,sb,!0);for(let Sn=0;Sn<rn.length;Sn++){let Pt=l.get(rn[Sn]);Pt&&Pt.length&&we.push(...Pt)}}const Xe=we.filter(Kt=>!Kt.destroyed);Xe.length?TX(this,Ee,Xe):this.processLeaveNode(Ee)}return $.length=0,it.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const Ee=this.players.indexOf(ge);this.players.splice(Ee,1)}),ge.play()}),it}elementContainsData(e,n){let r=!1;const i=n[Fo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(n)&&(r=!0),this.playersByQueriedElement.has(n)&&(r=!0),this.statesByElement.has(n)&&(r=!0),this._fetchNamespace(e).elementContainsData(n)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){const l=this.playersByQueriedElement.get(e);l&&(s=l)}else{const l=this.playersByElement.get(e);if(l){const c=!o||o==Dg;l.forEach(f=>{f.queued||!c&&f.triggerName!=i||s.push(f)})}}return(r||i)&&(s=s.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),s}_beforeAnimationBuild(e,n,r){const o=n.element,s=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName;for(const c of n.timelines){const f=c.element,p=f!==o,g=fo(r,f,[]);this._getPreviousPlayers(f,p,s,l,n.toState).forEach(_=>{const E=_.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),_.destroy(),g.push(_)})}zc(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){const l=n.triggerName,c=n.element,f=[],p=new Set,g=new Set,y=n.timelines.map(E=>{const M=E.element;p.add(M);const $=M[Fo];if($&&$.removedBeforeQueried)return new Sg(E.duration,E.delay);const j=M!==c,Q=function xX(t){const e=[];return IO(t,e),e}((r.get(M)||_X).map(_t=>_t.getRealPlayer())).filter(_t=>!!_t.element&&_t.element===M),H=o.get(M),se=s.get(M),Re=nO(0,this._normalizer,0,E.keyframes,H,se),Ve=this._buildPlayer(E,Re,Q);if(E.subTimeline&&i&&g.add(M),j){const _t=new Cb(e,l,M);_t.setRealPlayer(Ve),f.push(_t)}return Ve});f.forEach(E=>{fo(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function bX(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,E.element,E))}),p.forEach(E=>Lo(E,dO));const _=pu(y);return _.onDestroy(()=>{p.forEach(E=>$f(E,dO)),ra(c,n.toStyles)}),g.forEach(E=>{fo(i,E,[]).push(_)}),_}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Sg(e.duration,e.delay)}}class Cb{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Sg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>XE(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){fo(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Xv(t){return t&&1===t.nodeType}function xO(t,e){const n=t.style.display;return t.style.display=e??"none",n}function MO(t,e,n,r,i){const o=[];n.forEach(c=>o.push(xO(c)));const s=[];r.forEach((c,f)=>{const p=new Map;c.forEach(g=>{const y=e.computeStyle(f,g,i);p.set(g,y),(!y||0==y.length)&&(f[Fo]=CX,s.push(f))}),t.set(f,p)});let l=0;return n.forEach(c=>xO(c,o[l++])),s}function AO(t,e){const n=new Map;if(t.forEach(l=>n.set(l,[])),0==e.length)return n;const i=new Set(e),o=new Map;function s(l){if(!l)return 1;let c=o.get(l);if(c)return c;const f=l.parentNode;return c=n.has(f)?f:i.has(f)?1:s(f),o.set(l,c),c}return e.forEach(l=>{const c=s(l);1!==c&&n.get(c).push(l)}),n}function Lo(t,e){t.classList?.add(e)}function $f(t,e){t.classList?.remove(e)}function TX(t,e,n){pu(n).onDone(()=>t.processLeaveNode(e))}function IO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof eO?IO(r.players,e):e.push(r)}}function PO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}class e_{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new EX(e,n,r),this._timelineEngine=new hX(e,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){const s=e+"-"+i;let l=this._triggerCache[s];if(!l){const c=[],p=cb(this._driver,o,c,[]);if(c.length)throw function fZ(t,e){return new le(3404,!1)}();l=function cX(t,e,n){return new dX(t,e,n)}(i,p,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(n,i,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r,i){this._transitionEngine.removeNode(e,n,i||!1,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[o,s]=rO(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if("@"==r.charAt(0)){const[s,l]=rO(r);return this._timelineEngine.listen(s,n,l,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let IX=(()=>{class t{constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ra(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ra(this._element,this._initialStyles),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zc(this._element,this._endStyles),this._endStyles=null),ra(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Sb(t){let e=null;return t.forEach((n,r)=>{(function PX(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class RO{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:yO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class RX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return aO(e,n)}getParentElement(e){return rb(e)}query(e,n,r){return lO(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const f=new Map,p=s.filter(_=>_ instanceof RO);(function FZ(t,e){return 0===t||0===e})(r,i)&&p.forEach(_=>{_.currentSnapshot.forEach((E,M)=>f.set(M,E))});let g=function RZ(t){return t.length?t[0]instanceof Map?t:t.map(e=>fO(e)):[]}(n).map(_=>hu(_));g=function LZ(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(l=>s.set(l,yO(t,l)))}}return e}(e,g,f);const y=function AX(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Sb(e[0]),e.length>1&&(r=Sb(e[e.length-1]))):e instanceof Map&&(n=Sb(e)),n||r?new IX(t,n,r):null}(e,g);return new RO(e,g,c,y)}}let kX=(()=>{class t extends Yk{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:Vn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?Jk(n):n;return kO(this._renderer,null,r,"register",[i]),new OX(r,this._renderer)}}return t.\u0275fac=function(n){return new(n||t)(Oe(rh),Oe(jr))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();class OX extends class zJ{}{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new NX(this._id,e,n||{},this._renderer)}}class NX{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return kO(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const OO="@.disabled";let FX=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const l=s?.parentNode(o);l&&s.removeChild(l,o)}}createRenderer(n,r){const o=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let p=this._rendererCache.get(o);return p||(p=new NO("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,p)),p}const s=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);const c=p=>{Array.isArray(p)?p.forEach(c):this.engine.registerTrigger(s,l,n,p.name,p)};return r.data.animation.forEach(c),new LX(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(n){return new(n||t)(Oe(rh),Oe(e_),Oe(Zn))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();class NO{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==OO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class LX extends NO{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==OO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function $X(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function jX(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,n,r)}}let VX=(()=>{class t extends e_{constructor(n,r,i,o){super(n.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(n){return new(n||t)(Oe(jr),Oe(ib),Oe(gb),Oe(bh))},t.\u0275prov=nt({token:t,factory:t.\u0275fac}),t})();const FO=[{provide:Yk,useClass:kX},{provide:gb,useFactory:function BX(){return new sX}},{provide:e_,useClass:VX},{provide:rh,useFactory:function UX(t,e,n){return new FX(t,e,n)},deps:[yy,e_,Zn]}],Eb=[{provide:ib,useFactory:()=>new RX},{provide:xT,useValue:"BrowserAnimations"},...FO],LO=[{provide:ib,useClass:uO},{provide:xT,useValue:"NoopAnimations"},...FO];let HX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?LO:Eb}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=yr({providers:Eb,imports:[qx]}),t})(),zX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t,bootstrap:[HJ]}),t.\u0275inj=yr({providers:[jv,qk,Za,dg,RE,FR],imports:[qx,UJ,gU,cY,HX]}),t})();(function Rj(){zT=!1})(),rB().bootstrapModule(zX).catch(t=>console.error(t))},943:Ye=>{"use strict";var F=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;function U(O){if(null==O)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(O)}Ye.exports=function P(){try{if(!Object.assign)return!1;var O=new String("abc");if(O[5]="de","5"===Object.getOwnPropertyNames(O)[0])return!1;for(var b={},de=0;de<10;de++)b["_"+String.fromCharCode(de)]=de;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(C){return b[C]}).join(""))return!1;var D={};return"abcdefghijklmnopqrst".split("").forEach(function(C){D[C]=C}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},D)).join("")}catch{return!1}}()?Object.assign:function(O,b){for(var de,D,Se=U(O),C=1;C<arguments.length;C++){for(var L in de=Object(arguments[C]))w.call(de,L)&&(Se[L]=de[L]);if(F){D=F(de);for(var ee=0;ee<D.length;ee++)T.call(de,D[ee])&&(Se[D[ee]]=de[D[ee]])}}return Se}},819:(Ye,F,w)=>{var T=w(417).MY,U=w(417).cx;function O(D){this.index=0,this.dataBuffer=D,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function b(){this.bufferBuilder=new T}function de(D){var C=D.charCodeAt(0);return C<=2047?"00":C<=65535?"000":C<=2097151?"0000":C<=67108863?"00000":"000000"}Ye.exports={unpack:function(D){return new O(D).unpack()},pack:function(D){var C=new b;return C.pack(D),C.getBuffer()}},O.prototype.unpack=function(){var C,D=this.unpack_uint8();if(D<128)return D;if((224^D)<32)return(224^D)-32;if((C=160^D)<=15)return this.unpack_raw(C);if((C=176^D)<=15)return this.unpack_string(C);if((C=144^D)<=15)return this.unpack_array(C);if((C=128^D)<=15)return this.unpack_map(C);switch(D){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return C=this.unpack_uint16(),this.unpack_string(C);case 217:return C=this.unpack_uint32(),this.unpack_string(C);case 218:return C=this.unpack_uint16(),this.unpack_raw(C);case 219:return C=this.unpack_uint32(),this.unpack_raw(C);case 220:return C=this.unpack_uint16(),this.unpack_array(C);case 221:return C=this.unpack_uint32(),this.unpack_array(C);case 222:return C=this.unpack_uint16(),this.unpack_map(C);case 223:return C=this.unpack_uint32(),this.unpack_map(C)}},O.prototype.unpack_uint8=function(){var D=255&this.dataView[this.index];return this.index++,D},O.prototype.unpack_uint16=function(){var D=this.read(2),C=256*(255&D[0])+(255&D[1]);return this.index+=2,C},O.prototype.unpack_uint32=function(){var D=this.read(4),C=256*(256*(256*D[0]+D[1])+D[2])+D[3];return this.index+=4,C},O.prototype.unpack_uint64=function(){var D=this.read(8),C=256*(256*(256*(256*(256*(256*(256*D[0]+D[1])+D[2])+D[3])+D[4])+D[5])+D[6])+D[7];return this.index+=8,C},O.prototype.unpack_int8=function(){var D=this.unpack_uint8();return D<128?D:D-256},O.prototype.unpack_int16=function(){var D=this.unpack_uint16();return D<32768?D:D-65536},O.prototype.unpack_int32=function(){var D=this.unpack_uint32();return D<Math.pow(2,31)?D:D-Math.pow(2,32)},O.prototype.unpack_int64=function(){var D=this.unpack_uint64();return D<Math.pow(2,63)?D:D-Math.pow(2,64)},O.prototype.unpack_raw=function(D){if(this.length<this.index+D)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+D+" "+this.length);var C=this.dataBuffer.slice(this.index,this.index+D);return this.index+=D,C},O.prototype.unpack_string=function(D){for(var z,K,C=this.read(D),L=0,ee="";L<D;)(z=C[L])<128?(ee+=String.fromCharCode(z),L++):(192^z)<32?(K=(192^z)<<6|63&C[L+1],ee+=String.fromCharCode(K),L+=2):(K=(15&z)<<12|(63&C[L+1])<<6|63&C[L+2],ee+=String.fromCharCode(K),L+=3);return this.index+=D,ee},O.prototype.unpack_array=function(D){for(var C=new Array(D),L=0;L<D;L++)C[L]=this.unpack();return C},O.prototype.unpack_map=function(D){for(var C={},L=0;L<D;L++){var ee=this.unpack(),z=this.unpack();C[ee]=z}return C},O.prototype.unpack_float=function(){var D=this.unpack_uint32();return(0==D>>31?1:-1)*(8388607&D|8388608)*Math.pow(2,(D>>23&255)-127-23)},O.prototype.unpack_double=function(){var D=this.unpack_uint32(),C=this.unpack_uint32(),ee=(D>>20&2047)-1023;return(0==D>>31?1:-1)*((1048575&D|1048576)*Math.pow(2,ee-20)+C*Math.pow(2,ee-52))},O.prototype.read=function(D){var C=this.index;if(C+D<=this.length)return this.dataView.subarray(C,C+D);throw new Error("BinaryPackFailure: read index out of range")},b.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},b.prototype.pack=function(D){var C=typeof D;if("string"===C)this.pack_string(D);else if("number"===C)Math.floor(D)===D?this.pack_integer(D):this.pack_double(D);else if("boolean"===C)!0===D?this.bufferBuilder.append(195):!1===D&&this.bufferBuilder.append(194);else if("undefined"===C)this.bufferBuilder.append(192);else{if("object"!==C)throw new Error('Type "'+C+'" not yet supported');if(null===D)this.bufferBuilder.append(192);else{var L=D.constructor;if(L==Array)this.pack_array(D);else if(L==Blob||L==File||D instanceof Blob||D instanceof File)this.pack_bin(D);else if(L==ArrayBuffer)this.pack_bin(U.useArrayBufferView?new Uint8Array(D):D);else if("BYTES_PER_ELEMENT"in D)this.pack_bin(U.useArrayBufferView?new Uint8Array(D.buffer):D.buffer);else if(L==Object||L.toString().startsWith("class"))this.pack_object(D);else if(L==Date)this.pack_string(D.toString());else{if("function"!=typeof D.toBinaryPack)throw new Error('Type "'+L.toString()+'" not yet supported');this.bufferBuilder.append(D.toBinaryPack())}}}this.bufferBuilder.flush()},b.prototype.pack_bin=function(D){var C=D.length||D.byteLength||D.size;if(C<=15)this.pack_uint8(160+C);else if(C<=65535)this.bufferBuilder.append(218),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(C)}this.bufferBuilder.append(D)},b.prototype.pack_string=function(D){var C=function Se(D){return D.length>600?new Blob([D]).size:D.replace(/[^\u0000-\u007F]/g,de).length}(D);if(C<=15)this.pack_uint8(176+C);else if(C<=65535)this.bufferBuilder.append(216),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(C)}this.bufferBuilder.append(D)},b.prototype.pack_array=function(D){var C=D.length;if(C<=15)this.pack_uint8(144+C);else if(C<=65535)this.bufferBuilder.append(220),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(C)}for(var L=0;L<C;L++)this.pack(D[L])},b.prototype.pack_integer=function(D){if(D>=-32&&D<=127)this.bufferBuilder.append(255&D);else if(D>=0&&D<=255)this.bufferBuilder.append(204),this.pack_uint8(D);else if(D>=-128&&D<=127)this.bufferBuilder.append(208),this.pack_int8(D);else if(D>=0&&D<=65535)this.bufferBuilder.append(205),this.pack_uint16(D);else if(D>=-32768&&D<=32767)this.bufferBuilder.append(209),this.pack_int16(D);else if(D>=0&&D<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(D);else if(D>=-2147483648&&D<=2147483647)this.bufferBuilder.append(210),this.pack_int32(D);else if(D>=-0x8000000000000000&&D<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(D);else{if(!(D>=0&&D<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(D)}},b.prototype.pack_double=function(D){var C=0;D<0&&(C=1,D=-D);var L=Math.floor(Math.log(D)/Math.LN2),ee=D/Math.pow(2,L)-1,z=Math.floor(ee*Math.pow(2,52)),K=Math.pow(2,32),G=C<<31|L+1023<<20|z/K&1048575,ye=z%K;this.bufferBuilder.append(203),this.pack_int32(G),this.pack_int32(ye)},b.prototype.pack_object=function(D){var L=Object.keys(D).length;if(L<=15)this.pack_uint8(128+L);else if(L<=65535)this.bufferBuilder.append(222),this.pack_uint16(L);else{if(!(L<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(L)}for(var ee in D)D.hasOwnProperty(ee)&&(this.pack(ee),this.pack(D[ee]))},b.prototype.pack_uint8=function(D){this.bufferBuilder.append(D)},b.prototype.pack_uint16=function(D){this.bufferBuilder.append(D>>8),this.bufferBuilder.append(255&D)},b.prototype.pack_uint32=function(D){var C=4294967295&D;this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C)},b.prototype.pack_uint64=function(D){var C=D/Math.pow(2,32),L=D%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&L)>>>24),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L)},b.prototype.pack_int8=function(D){this.bufferBuilder.append(255&D)},b.prototype.pack_int16=function(D){this.bufferBuilder.append((65280&D)>>8),this.bufferBuilder.append(255&D)},b.prototype.pack_int32=function(D){this.bufferBuilder.append(D>>>24&255),this.bufferBuilder.append((16711680&D)>>>16),this.bufferBuilder.append((65280&D)>>>8),this.bufferBuilder.append(255&D)},b.prototype.pack_int64=function(D){var C=Math.floor(D/Math.pow(2,32)),L=D%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&L)>>>24),this.bufferBuilder.append((16711680&L)>>>16),this.bufferBuilder.append((65280&L)>>>8),this.bufferBuilder.append(255&L)}},417:Ye=>{var F={};F.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),F.useArrayBufferView=!F.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch{return!0}}(),Ye.exports.cx=F;var w=Ye.exports.xE;function T(){this._pieces=[],this._parts=[]}typeof window<"u"&&(w=Ye.exports.xE=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),T.prototype.append=function(U){"number"==typeof U?this._pieces.push(U):(this.flush(),this._parts.push(U))},T.prototype.flush=function(){if(this._pieces.length>0){var U=new Uint8Array(this._pieces);F.useArrayBufferView||(U=U.buffer),this._parts.push(U),this._pieces=[]}},T.prototype.getBuffer=function(){if(this.flush(),F.useBlobBuilder){for(var U=new w,P=0,O=this._parts.length;P<O;P++)U.append(this._parts[P]);return U.getBlob()}return new Blob(this._parts)},Ye.exports.MY=T},329:(Ye,F,w)=>{"use strict";var T=w(675);function U(){}function P(){}P.resetWarningCache=U,Ye.exports=function(){function O(Se,D,C,L,ee,z){if(z!==T){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}}function b(){return O}O.isRequired=O;var de={array:O,bigint:O,bool:O,func:O,number:O,object:O,string:O,symbol:O,any:O,arrayOf:b,element:O,elementType:O,instanceOf:b,node:O,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:P,resetWarningCache:U};return de.PropTypes=de,de}},46:(Ye,F,w)=>{Ye.exports=w(329)()},675:Ye=>{"use strict";Ye.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},509:(Ye,F,w)=>{"use strict";var T=w(284),U=w(943),P=w(854);function O(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!T)throw Error(O(227));var b=new Set,de={};function Se(a,u){D(a,u),D(a+"Capture",u)}function D(a,u){for(de[a]=u,a=0;a<u.length;a++)b.add(u[a])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ee=Object.prototype.hasOwnProperty,z={},K={};function R(a,u,d,h,m,v,S){this.acceptsBooleans=2===u||3===u||4===u,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=v,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){k[a]=new R(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];k[u]=new R(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){k[a]=new R(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){k[a]=new R(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){k[a]=new R(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){k[a]=new R(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){k[a]=new R(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){k[a]=new R(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){k[a]=new R(a,5,!1,a.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function X(a){return a[1].toUpperCase()}function te(a,u,d,h){var m=k.hasOwnProperty(u)?k[u]:null;(null!==m?0===m.type:!h&&2<u.length&&("o"===u[0]||"O"===u[0])&&("n"===u[1]||"N"===u[1]))||(function ot(a,u,d,h){if(null===u||typeof u>"u"||function ye(a,u,d,h){if(null!==d&&0===d.type)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return!h&&(null!==d?!d.acceptsBooleans:"data-"!==(a=a.toLowerCase().slice(0,5))&&"aria-"!==a);default:return!1}}(a,u,d,h))return!0;if(h)return!1;if(null!==d)switch(d.type){case 3:return!u;case 4:return!1===u;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}(u,d,m,h)&&(d=null),h||null===m?function G(a){return!!ee.call(K,a)||!ee.call(z,a)&&(L.test(a)?K[a]=!0:(z[a]=!0,!1))}(u)&&(null===d?a.removeAttribute(u):a.setAttribute(u,""+d)):m.mustUseProperty?a[m.propertyName]=null===d?3!==m.type&&"":d:(u=m.attributeName,h=m.attributeNamespace,null===d?a.removeAttribute(u):(d=3===(m=m.type)||4===m&&!0===d?"":""+d,h?a.setAttributeNS(h,u,d):a.setAttribute(u,d))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(ne,X);k[u]=new R(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(ne,X);k[u]=new R(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(ne,X);k[u]=new R(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){k[a]=new R(a,1,!1,a.toLowerCase(),null,!1,!1)}),k.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){k[a]=new R(a,1,!1,a.toLowerCase(),null,!0,!0)});var De=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=60103,ke=60106,We=60107,Le=60108,xe=60114,lt=60109,Ct=60110,dt=60112,Wt=60113,$t=60120,on=60115,Z=60116,ie=60121,ae=60128,Ae=60129,ve=60130,tt=60131;if("function"==typeof Symbol&&Symbol.for){var Je=Symbol.for;me=Je("react.element"),ke=Je("react.portal"),We=Je("react.fragment"),Le=Je("react.strict_mode"),xe=Je("react.profiler"),lt=Je("react.provider"),Ct=Je("react.context"),dt=Je("react.forward_ref"),Wt=Je("react.suspense"),$t=Je("react.suspense_list"),on=Je("react.memo"),Z=Je("react.lazy"),ie=Je("react.block"),Je("react.scope"),ae=Je("react.opaque.id"),Ae=Je("react.debug_trace_mode"),ve=Je("react.offscreen"),tt=Je("react.legacy_hidden")}var Ft,en="function"==typeof Symbol&&Symbol.iterator;function Mt(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=en&&a[en]||a["@@iterator"])?a:null}function wr(a){if(void 0===Ft)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);Ft=u&&u[1]||""}return"\n"+Ft+a}var Oi=!1;function tn(a,u){if(!a||Oi)return"";Oi=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(u,[])}catch(V){var h=V}Reflect.construct(a,[],u)}else{try{u.call()}catch(V){h=V}a.call(u.prototype)}else{try{throw Error()}catch(V){h=V}a()}}catch(V){if(V&&h&&"string"==typeof V.stack){for(var m=V.stack.split("\n"),v=h.stack.split("\n"),S=m.length-1,x=v.length-1;1<=S&&0<=x&&m[S]!==v[x];)x--;for(;1<=S&&0<=x;S--,x--)if(m[S]!==v[x]){if(1!==S||1!==x)do{if(S--,0>--x||m[S]!==v[x])return"\n"+m[S].replace(" at new "," at ")}while(1<=S&&0<=x);break}}}finally{Oi=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?wr(a):""}function Dn(a){switch(a.tag){case 5:return wr(a.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return tn(a.type,!1);case 11:return tn(a.type.render,!1);case 22:return tn(a.type._render,!1);case 1:return tn(a.type,!0);default:return""}}function Ni(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case We:return"Fragment";case ke:return"Portal";case xe:return"Profiler";case Le:return"StrictMode";case Wt:return"Suspense";case $t:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case Ct:return(a.displayName||"Context")+".Consumer";case lt:return(a._context.displayName||"Context")+".Provider";case dt:var u=a.render;return u=u.displayName||u.name||"",a.displayName||(""!==u?"ForwardRef("+u+")":"ForwardRef");case on:return Ni(a.type);case ie:return Ni(a._render);case Z:u=a._payload,a=a._init;try{return Ni(a(u))}catch{}}return null}function Ie(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function Yi(a){var u=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===u||"radio"===u)}function yo(a){a._valueTracker||(a._valueTracker=function mo(a){var u=Yi(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),h=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&"function"==typeof d.get&&"function"==typeof d.set){var m=d.get,v=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}(a))}function rl(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),h="";return a&&(h=Yi(a)?a.checked?"true":"false":a.value),(a=h)!==d&&(u.setValue(a),!0)}function Xn(a){if(typeof(a=a||(typeof document<"u"?document:void 0))>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ys(a,u){return U({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u.checked??a._wrapperState.initialChecked})}function gu(a,u){var d=u.defaultValue??"",h=null!=u.checked?u.checked:u.defaultChecked;d=Ie(null!=u.value?u.value:d),a._wrapperState={initialChecked:h,initialValue:d,controlled:"checkbox"===u.type||"radio"===u.type?null!=u.checked:null!=u.value}}function qc(a,u){null!=(u=u.checked)&&te(a,"checked",u,!1)}function Kc(a,u){qc(a,u);var d=Ie(u.value),h=u.type;if(null!=d)"number"===h?(0===d&&""===a.value||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if("submit"===h||"reset"===h)return void a.removeAttribute("value");u.hasOwnProperty("value")?mu(a,u.type,d):u.hasOwnProperty("defaultValue")&&mu(a,u.type,Ie(u.defaultValue)),null==u.checked&&null!=u.defaultChecked&&(a.defaultChecked=!!u.defaultChecked)}function vs(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var h=u.type;if(("submit"===h||"reset"===h)&&null==u.value)return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}""!==(d=a.name)&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,""!==d&&(a.name=d)}function mu(a,u,d){("number"!==u||Xn(a.ownerDocument)!==a)&&(null==d?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}function yu(a,u){return a=U({children:void 0},u),(u=function Qc(a){var u="";return T.Children.forEach(a,function(d){null!=d&&(u+=d)}),u}(u.children))&&(a.children=u),a}function Fi(a,u,d,h){if(a=a.options,u){u={};for(var m=0;m<d.length;m++)u["$"+d[m]]=!0;for(d=0;d<a.length;d++)m=u.hasOwnProperty("$"+a[d].value),a[d].selected!==m&&(a[d].selected=m),m&&h&&(a[d].defaultSelected=!0)}else{for(d=""+Ie(d),u=null,m=0;m<a.length;m++){if(a[m].value===d)return a[m].selected=!0,void(h&&(a[m].defaultSelected=!0));null!==u||a[m].disabled||(u=a[m])}null!==u&&(u.selected=!0)}}function Yc(a,u){if(null!=u.dangerouslySetInnerHTML)throw Error(O(91));return U({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Vf(a,u){var d=u.value;if(null==d){if(d=u.children,u=u.defaultValue,null!=d){if(null!=u)throw Error(O(92));if(Array.isArray(d)){if(!(1>=d.length))throw Error(O(93));d=d[0]}u=d}null==u&&(u=""),d=u}a._wrapperState={initialValue:Ie(d)}}function vo(a,u){var d=Ie(u.value),h=Ie(u.defaultValue);null!=d&&((d=""+d)!==a.value&&(a.value=d),null==u.defaultValue&&a.defaultValue!==d&&(a.defaultValue=d)),null!=h&&(a.defaultValue=""+h)}function Jc(a){var u=a.textContent;u===a._wrapperState.initialValue&&""!==u&&null!==u&&(a.value=u)}var Zc_html="http://www.w3.org/1999/xhtml";function Xc(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ed(a,u){return null==a||"http://www.w3.org/1999/xhtml"===a?Xc(u):"http://www.w3.org/2000/svg"===a&&"foreignObject"===u?"http://www.w3.org/1999/xhtml":a}var il,a,td=(a=function(a,u){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=u;else{for((il=il||document.createElement("div")).innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=il.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,h,m){MSApp.execUnsafeLocalFunction(function(){return a(u,d)})}:a);function ol(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&3===d.nodeType)return void(d.nodeValue=u)}a.textContent=u}var sl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ag=["Webkit","ms","Moz","O"];function Bf(a,u,d){return null==u||"boolean"==typeof u||""===u?"":d||"number"!=typeof u||0===u||sl.hasOwnProperty(a)&&sl[a]?(""+u).trim():u+"px"}function al(a,u){for(var d in a=a.style,u)if(u.hasOwnProperty(d)){var h=0===d.indexOf("--"),m=Bf(d,u[d],h);"float"===d&&(d="cssFloat"),h?a.setProperty(d,m):a[d]=m}}Object.keys(sl).forEach(function(a){Ag.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),sl[u]=sl[a]})});var nd=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(a,u){if(u){if(nd[a]&&(null!=u.children||null!=u.dangerouslySetInnerHTML))throw Error(O(137,a));if(null!=u.dangerouslySetInnerHTML){if(null!=u.children)throw Error(O(60));if("object"!=typeof u.dangerouslySetInnerHTML||!("__html"in u.dangerouslySetInnerHTML))throw Error(O(61))}if(null!=u.style&&"object"!=typeof u.style)throw Error(O(62))}}function ul(a,u){if(-1===a.indexOf("-"))return"string"==typeof u.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cl(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}var vu=null,Bo=null,Uo=null;function _u(a){if(a=Bu(a)){if("function"!=typeof vu)throw Error(O(280));var u=a.stateNode;u&&(u=bd(u),vu(a.stateNode,a.type,u))}}function Cu(a){Bo?Uo?Uo.push(a):Uo=[a]:Bo=a}function Br(){if(Bo){var a=Bo,u=Uo;if(Uo=Bo=null,_u(a),u)for(a=0;a<u.length;a++)_u(u[a])}}function Su(a,u){return a(u)}function rd(a,u,d,h,m){return a(u,d,h,m)}function Eu(){}var id=Su,_o=!1,bu=!1;function wu(){(null!==Bo||null!==Uo)&&(Eu(),Br())}function I(a,u){var d=a.stateNode;if(null===d)return null;var h=bd(d);if(null===h)return null;d=h[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(h=!("button"===(a=a.type)||"input"===a||"select"===a||"textarea"===a)),a=!h;break e;default:a=!1}if(a)return null;if(d&&"function"!=typeof d)throw Error(O(231,u,typeof d));return d}var mt=!1;if(C)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){mt=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{mt=!1}function lr(a,u,d,h,m,v,S,x,V){var re=Array.prototype.slice.call(arguments,3);try{u.apply(d,re)}catch(Fe){this.onError(Fe)}}var _s=!1,$e=null,Co=!1,ia=null,Uf={onError:function(a){_s=!0,$e=a}};function dl(a,u,d,h,m,v,S,x,V){_s=!1,$e=null,lr.apply(Uf,arguments)}function Ho(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do{0!=(1026&(u=a).flags)&&(d=u.return),a=u.return}while(a)}return 3===u.tag?d:null}function od(a){if(13===a.tag){var u=a.memoizedState;if(null===u&&null!==(a=a.alternate)&&(u=a.memoizedState),null!==u)return u.dehydrated}return null}function Mn(a){if(Ho(a)!==a)throw Error(O(188))}function Hf(a){if(a=function So(a){var u=a.alternate;if(!u){if(null===(u=Ho(a)))throw Error(O(188));return u!==a?null:a}for(var d=a,h=u;;){var m=d.return;if(null===m)break;var v=m.alternate;if(null===v){if(null!==(h=m.return)){d=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===d)return Mn(m),a;if(v===h)return Mn(m),u;v=v.sibling}throw Error(O(188))}if(d.return!==h.return)d=m,h=v;else{for(var S=!1,x=m.child;x;){if(x===d){S=!0,d=m,h=v;break}if(x===h){S=!0,h=m,d=v;break}x=x.sibling}if(!S){for(x=v.child;x;){if(x===d){S=!0,d=v,h=m;break}if(x===h){S=!0,h=v,d=m;break}x=x.sibling}if(!S)throw Error(O(189))}}if(d.alternate!==h)throw Error(O(190))}if(3!==d.tag)throw Error(O(188));return d.stateNode.current===d?a:u}(a),!a)return null;for(var u=a;;){if(5===u.tag||6===u.tag)return u;if(u.child)u.child.return=u,u=u.child;else{if(u===a)break;for(;!u.sibling;){if(!u.return||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}}return null}function sd(a,u){for(var d=a.alternate;null!==u;){if(u===a||u===d)return!0;u=u.return}return!1}var fl,pl,Cs,Te,Du=!1,vi=[],_i=null,Lt=null,$i=null,hn=new Map,zo=new Map,oa=[],En="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(a,u,d,h,m){return{blockedOn:a,domEventName:u,eventSystemFlags:16|d,nativeEvent:m,targetContainers:[h]}}function hl(a,u){switch(a){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":hn.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(u.pointerId)}}function Ss(a,u,d,h,m,v){return null===a||a.nativeEvent!==v?(a=pt(u,d,h,m,v),null!==u&&null!==(u=Bu(u))&&pl(u),a):(a.eventSystemFlags|=h,u=a.targetContainers,null!==m&&-1===u.indexOf(m)&&u.push(m),a)}function gl(a){var u=_r(a.target);if(null!==u){var d=Ho(u);if(null!==d)if(13===(u=d.tag)){if(null!==(u=od(d)))return a.blockedOn=u,void Te(a.lanePriority,function(){P.unstable_runWithPriority(a.priority,function(){Cs(d)})})}else if(3===u&&d.stateNode.hydrate)return void(a.blockedOn=3===d.tag?d.stateNode.containerInfo:null)}a.blockedOn=null}function Et(a){if(null!==a.blockedOn)return!1;for(var u=a.targetContainers;0<u.length;){var d=Wf(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(null!==d)return null!==(u=Bu(d))&&pl(u),a.blockedOn=d,!1;u.shift()}return!0}function fn(a,u,d){Et(a)&&d.delete(u)}function ml(){for(Du=!1;0<vi.length;){var a=vi[0];if(null!==a.blockedOn){null!==(a=Bu(a.blockedOn))&&fl(a);break}for(var u=a.targetContainers;0<u.length;){var d=Wf(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(null!==d){a.blockedOn=d;break}u.shift()}null===a.blockedOn&&vi.shift()}null!==_i&&Et(_i)&&(_i=null),null!==Lt&&Et(Lt)&&(Lt=null),null!==$i&&Et($i)&&($i=null),hn.forEach(fn),zo.forEach(fn)}function yl(a,u){a.blockedOn===u&&(a.blockedOn=null,Du||(Du=!0,P.unstable_scheduleCallback(P.unstable_NormalPriority,ml)))}function ad(a){function u(m){return yl(m,a)}if(0<vi.length){yl(vi[0],a);for(var d=1;d<vi.length;d++){var h=vi[d];h.blockedOn===a&&(h.blockedOn=null)}}for(null!==_i&&yl(_i,a),null!==Lt&&yl(Lt,a),null!==$i&&yl($i,a),hn.forEach(u),zo.forEach(u),d=0;d<oa.length;d++)(h=oa[d]).blockedOn===a&&(h.blockedOn=null);for(;0<oa.length&&null===(d=oa[0]).blockedOn;)gl(d),null===d.blockedOn&&oa.shift()}function Go(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var ut={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Wo={},Tu={};function A(a){if(Wo[a])return Wo[a];if(!ut[a])return a;var d,u=ut[a];for(d in u)if(u.hasOwnProperty(d)&&d in Tu)return Wo[a]=u[d];return a}C&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete ut.animationend.animation,delete ut.animationiteration.animation,delete ut.animationstart.animation),"TransitionEvent"in window||delete ut.transitionend.transition);var Y=A("animationend"),_e=A("animationiteration"),J=A("animationstart"),be=A("transitionend"),Pe=new Map,ht=new Map,Vt=["abort","abort",Y,"animationEnd",_e,"animationIteration",J,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",be,"transitionEnd","waiting","waiting"];function Ji(a,u){for(var d=0;d<a.length;d+=2){var h=a[d],m=a[d+1];m="on"+(m[0].toUpperCase()+m.slice(1)),ht.set(h,u),Pe.set(h,m),Se(m,[h])}}(0,P.unstable_now)();var Zt=8;function un(a){if(0!=(1&a))return Zt=15,1;if(0!=(2&a))return Zt=14,2;if(0!=(4&a))return Zt=13,4;var u=24&a;return 0!==u?(Zt=12,u):0!=(32&a)?(Zt=11,32):0!=(u=192&a)?(Zt=10,u):0!=(256&a)?(Zt=9,256):0!=(u=3584&a)?(Zt=8,u):0!=(4096&a)?(Zt=7,4096):0!=(u=4186112&a)?(Zt=6,u):0!=(u=62914560&a)?(Zt=5,u):67108864&a?(Zt=4,67108864):0!=(134217728&a)?(Zt=3,134217728):0!=(u=805306368&a)?(Zt=2,u):0!=(1073741824&a)?(Zt=1,1073741824):(Zt=8,a)}function ld(a,u){var d=a.pendingLanes;if(0===d)return Zt=0;var h=0,m=0,v=a.expiredLanes,S=a.suspendedLanes,x=a.pingedLanes;if(0!==v)h=v,m=Zt=15;else if(0!=(v=134217727&d)){var V=v&~S;0!==V?(h=un(V),m=Zt):0!=(x&=v)&&(h=un(x),m=Zt)}else 0!=(v=d&~S)?(h=un(v),m=Zt):0!==x&&(h=un(x),m=Zt);if(0===h)return 0;if(h=d&((0>(h=31-qo(h))?0:1<<h)<<1)-1,0!==u&&u!==h&&0==(u&S)){if(un(u),m<=Zt)return u;Zt=m}if(0!==(u=a.entangledLanes))for(a=a.entanglements,u&=h;0<u;)h|=a[d=31-qo(u)],u&=~(m=1<<d);return h}function nt(a){return 0!=(a=-1073741825&a.pendingLanes)?a:1073741824&a?1073741824:0}function zf(a,u){switch(a){case 15:return 1;case 14:return 2;case 12:return 0===(a=yr(24&~u))?zf(10,u):a;case 10:return 0===(a=yr(192&~u))?zf(8,u):a;case 8:return 0===(a=yr(3584&~u))&&0===(a=yr(4186112&~u))&&(a=512),a;case 2:return 0===(u=yr(805306368&~u))&&(u=268435456),u}throw Error(O(358,a))}function yr(a){return a&-a}function vl(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function ud(a,u,d){a.pendingLanes|=u;var h=u-1;a.suspendedLanes&=h,a.pingedLanes&=h,(a=a.eventTimes)[u=31-qo(u)]=d}var qo=Math.clz32?Math.clz32:function Pg(a){return 0===a?32:31-(r_(a)/i_|0)|0},r_=Math.log,i_=Math.LN2,cd=P.unstable_UserBlockingPriority,Gf=P.unstable_runWithPriority,xu=!0;function o_(a,u,d,h){_o||Eu();var m=Mu,v=_o;_o=!0;try{rd(m,a,u,d,h)}finally{(_o=v)||wu()}}function St(a,u,d,h){Gf(cd,Mu.bind(null,a,u,d,h))}function Mu(a,u,d,h){var m;if(xu)if((m=0==(4&u))&&0<vi.length&&-1<En.indexOf(a))a=pt(null,a,u,d,h),vi.push(a);else{var v=Wf(a,u,d,h);if(null===v)m&&hl(a,h);else{if(m){if(-1<En.indexOf(a))return a=pt(v,a,u,d,h),void vi.push(a);if(function le(a,u,d,h,m){switch(u){case"focusin":return _i=Ss(_i,a,u,d,h,m),!0;case"dragenter":return Lt=Ss(Lt,a,u,d,h,m),!0;case"mouseover":return $i=Ss($i,a,u,d,h,m),!0;case"pointerover":var v=m.pointerId;return hn.set(v,Ss(hn.get(v)||null,a,u,d,h,m)),!0;case"gotpointercapture":return zo.set(v=m.pointerId,Ss(zo.get(v)||null,a,u,d,h,m)),!0}return!1}(v,a,u,d,h))return;hl(a,h)}ep(a,u,h,null,d)}}}function Wf(a,u,d,h){var m=cl(h);if(null!==(m=_r(m))){var v=Ho(m);if(null===v)m=null;else{var S=v.tag;if(13===S){if(null!==(m=od(v)))return m;m=null}else if(3===S){if(v.stateNode.hydrate)return 3===v.tag?v.stateNode.containerInfo:null;m=null}else v!==m&&(m=null)}}return ep(a,u,h,m,d),null}var vr=null,dd=null,qf=null;function Ko(){if(qf)return qf;var a,h,u=dd,d=u.length,m="value"in vr?vr.value:vr.textContent,v=m.length;for(a=0;a<d&&u[a]===m[a];a++);var S=d-a;for(h=1;h<=S&&u[d-h]===m[v-h];h++);return qf=m.slice(a,1<h?1-h:void 0)}function oi(a){var u=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===u&&(a=13):a=u,10===a&&(a=13),32<=a||13===a?a:0}function Kf(){return!0}function s_(){return!1}function Vn(a){function u(d,h,m,v,S){for(var x in this._reactName=d,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null,a)a.hasOwnProperty(x)&&(this[x]=(d=a[x])?d(v):v[x]);return this.isDefaultPrevented=(null!=v.defaultPrevented?v.defaultPrevented:!1===v.returnValue)?Kf:s_,this.isPropagationStopped=s_,this}return U(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():"unknown"!=typeof d.returnValue&&(d.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():"unknown"!=typeof d.cancelBubble&&(d.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),u}var gn,Cl,sa,_n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=Vn(_n),fd=U({},_n,{view:0,detail:0}),_l=Vn(fd),Sl=U({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sa&&(sa&&"mousemove"===a.type?(gn=a.screenX-sa.screenX,Cl=a.screenY-sa.screenY):Cl=gn=0,sa=a),gn)},movementY:function(a){return"movementY"in a?a.movementY:Cl}}),Qf=Vn(Sl),Au=Vn(U({},Sl,{dataTransfer:0})),Ur=Vn(U({},fd,{relatedTarget:0})),kg=Vn(U({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),Og=U({},_n,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ci=Vn(Og),Yf=Vn(U({},_n,{data:0})),bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yr(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):!!(a=bn[a])&&!!u[a]}function Or(){return Yr}var El=U({},fd,{key:function(a){if(a.key){var u=bt[a.key]||a.key;if("Unidentified"!==u)return u}return"keypress"===a.type?13===(a=oi(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?si[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(a){return"keypress"===a.type?oi(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?oi(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Si=Vn(El),Ne=Vn(U({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=Vn(U({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),aa=Vn(U({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dr=U({},Sl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Vn(Dr),Gn=[9,13,27,32],ua=C&&"CompositionEvent"in window,Yo=null;C&&"documentMode"in document&&(Yo=document.documentMode);var Ht=C&&"TextEvent"in window&&!Yo,Iu=C&&(!ua||Yo&&8<Yo&&11>=Yo),ca=String.fromCharCode(32),pd=!1;function Es(a,u){switch(a){case"keyup":return-1!==Gn.indexOf(u.keyCode);case"keydown":return 229!==u.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nr(a){return"object"==typeof(a=a.detail)&&"data"in a?a.data:null}var Eo=!1,wl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===u?!!wl[a.type]:"textarea"===u}function An(a,u,d,h){Cu(h),0<(u=Cd(u,"onChange")).length&&(d=new Rg("onChange","change",null,d,h),a.push({event:d,listeners:u}))}var Pu=null,Ru=null;function hd(a){v_(a,0)}function Dl(a){if(rl(Zo(a)))return a}function ku(a,u){if("change"===a)return u}var Ou=!1;if(C){var Jo;if(C){var Tr="oninput"in document;if(!Tr){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Tr="function"==typeof Ng.oninput}Jo=Tr}else Jo=!1;Ou=Jo&&(!document.documentMode||9<document.documentMode)}function Jr(){Pu&&(Pu.detachEvent("onpropertychange",Vi),Ru=Pu=null)}function Vi(a){if("value"===a.propertyName&&Dl(Ru)){var u=[];if(An(u,Ru,a,cl(a)),a=hd,_o)a(u);else{_o=!0;try{Su(a,u)}finally{_o=!1,wu()}}}}function Zf(a,u,d){"focusin"===a?(Jr(),Ru=d,(Pu=u).attachEvent("onpropertychange",Vi)):"focusout"===a&&Jr()}function gd(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return Dl(Ru)}function md(a,u){if("click"===a)return Dl(u)}function Xi(a,u){if("input"===a||"change"===a)return Dl(u)}var eo="function"==typeof Object.is?Object.is:function c_(a,u){return a===u&&(0!==a||1/a==1/u)||a!=a&&u!=u},d_=Object.prototype.hasOwnProperty;function Nu(a,u){if(eo(a,u))return!0;if("object"!=typeof a||null===a||"object"!=typeof u||null===u)return!1;var d=Object.keys(a),h=Object.keys(u);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++)if(!d_.call(u,d[h])||!eo(a[d[h]],u[d[h]]))return!1;return!0}function f_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function p_(a,u){var h,d=f_(a);for(a=0;d;){if(3===d.nodeType){if(h=a+d.textContent.length,a<=u&&h>=u)return{node:d,offset:u-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=f_(d)}}function h_(a,u){return!(!a||!u)&&(a===u||(!a||3!==a.nodeType)&&(u&&3===u.nodeType?h_(a,u.parentNode):"contains"in a?a.contains(u):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(u))))}function g_(){for(var a=window,u=Xn();u instanceof a.HTMLIFrameElement;){try{var d="string"==typeof u.contentWindow.location.href}catch{d=!1}if(!d)break;u=Xn((a=u.contentWindow).document)}return u}function Fg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&("input"===u&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===u||"true"===a.contentEditable)}var Lb=C&&"documentMode"in document&&11>=document.documentMode,Fu=null,Lg=null,yd=null,$g=!1;function m_(a,u,d){var h=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;$g||null==Fu||Fu!==Xn(h)||(h="selectionStart"in(h=Fu)&&Fg(h)?{start:h.selectionStart,end:h.selectionEnd}:{anchorNode:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset},yd&&Nu(yd,h)||(yd=h,0<(h=Cd(Lg,"onSelect")).length&&(u=new Rg("onSelect","select",null,u,d),a.push({event:u,listeners:h}),u.target=Fu)))}Ji("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ji("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ji(Vt,2);for(var y_="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),jg=0;jg<y_.length;jg++)ht.set(y_[jg],0);D("onMouseEnter",["mouseout","mouseover"]),D("onMouseLeave",["mouseout","mouseover"]),D("onPointerEnter",["pointerout","pointerover"]),D("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function _d(a,u,d){var h=a.type||"unknown-event";a.currentTarget=d,function Ig(a,u,d,h,m,v,S,x,V){if(dl.apply(this,arguments),_s){if(!_s)throw Error(O(198));var re=$e;_s=!1,$e=null,Co||(Co=!0,ia=re)}}(h,u,void 0,a),a.currentTarget=null}function v_(a,u){u=0!=(4&u);for(var d=0;d<a.length;d++){var h=a[d],m=h.event;h=h.listeners;e:{var v=void 0;if(u)for(var S=h.length-1;0<=S;S--){var x=h[S],V=x.instance,re=x.currentTarget;if(x=x.listener,V!==v&&m.isPropagationStopped())break e;_d(m,x,re),v=V}else for(S=0;S<h.length;S++){if(V=(x=h[S]).instance,re=x.currentTarget,x=x.listener,V!==v&&m.isPropagationStopped())break e;_d(m,x,re),v=V}}}if(Co)throw a=ia,Co=!1,ia=null,a}function Fn(a,u){var d=Xo(u),h=a+"__bubble";d.has(h)||(Zr(u,a,2,!1),d.add(h))}var __="_reactListening"+Math.random().toString(36).slice(2);function bs(a){a[__]||(a[__]=!0,b.forEach(function(u){Xf.has(u)||Vg(u,!1,a,null),Vg(u,!0,a,null)}))}function Vg(a,u,d,h){var m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,v=d;if("selectionchange"===a&&9!==d.nodeType&&(v=d.ownerDocument),null!==h&&!u&&Xf.has(a)){if("scroll"!==a)return;m|=2,v=h}var S=Xo(v),x=a+"__"+(u?"capture":"bubble");S.has(x)||(u&&(m|=4),Zr(v,a,m,u),S.add(x))}function Zr(a,u,d,h){var m=ht.get(u);switch(void 0===m?2:m){case 0:m=o_;break;case 1:m=St;break;default:m=Mu}d=m.bind(null,u,d,a),m=void 0,!mt||"touchstart"!==u&&"touchmove"!==u&&"wheel"!==u||(m=!0),a.addEventListener(u,d,h?void 0===m||{capture:!0,passive:m}:void 0!==m&&{passive:m})}function ep(a,u,d,h,m){var v=h;if(0==(1&u)&&0==(2&u)&&null!==h)e:for(;;){if(null===h)return;var S=h.tag;if(3===S||4===S){var x=h.stateNode.containerInfo;if(x===m||8===x.nodeType&&x.parentNode===m)break;if(4===S)for(S=h.return;null!==S;){var V=S.tag;if((3===V||4===V)&&((V=S.stateNode.containerInfo)===m||8===V.nodeType&&V.parentNode===m))return;S=S.return}for(;null!==x;){if(null===(S=_r(x)))return;if(5===(V=S.tag)||6===V){h=v=S;continue e}x=x.parentNode}}h=h.return}!function Li(a,u,d){if(bu)return a(u,d);bu=!0;try{id(a,u,d)}finally{bu=!1,wu()}}(function(){var re=v,Fe=cl(d),kt=[];e:{var Ce=Pe.get(a);if(void 0!==Ce){var rt=Rg,At=a;switch(a){case"keypress":if(0===oi(d))break e;case"keydown":case"keyup":rt=Si;break;case"focusin":At="focus",rt=Ur;break;case"focusout":At="blur",rt=Ur;break;case"beforeblur":case"afterblur":rt=Ur;break;case"click":if(2===d.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Nn;break;case Y:case _e:case J:rt=kg;break;case be:rt=aa;break;case"scroll":rt=_l;break;case"wheel":rt=la;break;case"copy":case"cut":case"paste":rt=Ci;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ne}var yt=0!=(4&u),q=!yt&&"scroll"===a,B=yt?null!==Ce?Ce+"Capture":null:Ce;yt=[];for(var ue,W=re;null!==W;){var he=(ue=W).stateNode;if(5===ue.tag&&null!==he&&(ue=he,null!==B&&null!=(he=I(W,B))&&yt.push(Lu(W,he,ue))),q)break;W=W.return}0<yt.length&&(Ce=new rt(Ce,At,null,d,Fe),kt.push({event:Ce,listeners:yt}))}}if(0==(7&u)){if(rt="mouseout"===a||"pointerout"===a,(!(Ce="mouseover"===a||"pointerover"===a)||0!=(16&u)||!(At=d.relatedTarget||d.fromElement)||!_r(At)&&!At[ws])&&(rt||Ce)&&(Ce=Fe.window===Fe?Fe:(Ce=Fe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,rt?(rt=re,null!==(At=(At=d.relatedTarget||d.toElement)?_r(At):null)&&(At!==(q=Ho(At))||5!==At.tag&&6!==At.tag)&&(At=null)):(rt=null,At=re),rt!==At)){if(yt=Qf,he="onMouseLeave",B="onMouseEnter",W="mouse",("pointerout"===a||"pointerover"===a)&&(yt=Ne,he="onPointerLeave",B="onPointerEnter",W="pointer"),q=null==rt?Ce:Zo(rt),ue=null==At?Ce:Zo(At),(Ce=new yt(he,W+"leave",rt,d,Fe)).target=q,Ce.relatedTarget=ue,he=null,_r(Fe)===re&&((yt=new yt(B,W+"enter",At,d,Fe)).target=ue,yt.relatedTarget=q,he=yt),q=he,rt&&At)t:{for(B=At,W=0,ue=yt=rt;ue;ue=da(ue))W++;for(ue=0,he=B;he;he=da(he))ue++;for(;0<W-ue;)yt=da(yt),W--;for(;0<ue-W;)B=da(B),ue--;for(;W--;){if(yt===B||null!==B&&yt===B.alternate)break t;yt=da(yt),B=da(B)}yt=null}else yt=null;null!==rt&&tp(kt,Ce,rt,yt,!1),null!==At&&null!==q&&tp(kt,q,At,yt,!0)}if("select"===(rt=(Ce=re?Zo(re):window).nodeName&&Ce.nodeName.toLowerCase())||"input"===rt&&"file"===Ce.type)var Rt=ku;else if(Jf(Ce))if(Ou)Rt=Xi;else{Rt=gd;var Ge=Zf}else(rt=Ce.nodeName)&&"input"===rt.toLowerCase()&&("checkbox"===Ce.type||"radio"===Ce.type)&&(Rt=md);switch(Rt&&(Rt=Rt(a,re))?An(kt,Rt,d,Fe):(Ge&&Ge(a,Ce,re),"focusout"===a&&(Ge=Ce._wrapperState)&&Ge.controlled&&"number"===Ce.type&&mu(Ce,"number",Ce.value)),Ge=re?Zo(re):window,a){case"focusin":(Jf(Ge)||"true"===Ge.contentEditable)&&(Fu=Ge,Lg=re,yd=null);break;case"focusout":yd=Lg=Fu=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,m_(kt,d,Fe);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":m_(kt,d,Fe)}var Tt;if(ua)e:{switch(a){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Eo?Es(a,d)&&(Xt="onCompositionEnd"):"keydown"===a&&229===d.keyCode&&(Xt="onCompositionStart");Xt&&(Iu&&"ko"!==d.locale&&(Eo||"onCompositionStart"!==Xt?"onCompositionEnd"===Xt&&Eo&&(Tt=Ko()):(dd="value"in(vr=Fe)?vr.value:vr.textContent,Eo=!0)),0<(Ge=Cd(re,Xt)).length&&(Xt=new Yf(Xt,a,null,d,Fe),kt.push({event:Xt,listeners:Ge}),(Tt||null!==(Tt=Nr(d)))&&(Xt.data=Tt))),(Tt=Ht?function bl(a,u){switch(a){case"compositionend":return Nr(u);case"keypress":return 32!==u.which?null:(pd=!0,ca);case"textInput":return(a=u.data)===ca&&pd?null:a;default:return null}}(a,d):function Zi(a,u){if(Eo)return"compositionend"===a||!ua&&Es(a,u)?(a=Ko(),qf=dd=vr=null,Eo=!1,a):null;switch(a){case"paste":default:return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Iu&&"ko"!==u.locale?null:u.data}}(a,d))&&0<(re=Cd(re,"onBeforeInput")).length&&(Fe=new Yf("onBeforeInput","beforeinput",null,d,Fe),kt.push({event:Fe,listeners:re}),Fe.data=Tt)}v_(kt,u)})}function Lu(a,u,d){return{instance:a,listener:u,currentTarget:d}}function Cd(a,u){for(var d=u+"Capture",h=[];null!==a;){var m=a,v=m.stateNode;5===m.tag&&null!==v&&(m=v,null!=(v=I(a,d))&&h.unshift(Lu(a,v,m)),null!=(v=I(a,u))&&h.push(Lu(a,v,m))),a=a.return}return h}function da(a){if(null===a)return null;do{a=a.return}while(a&&5!==a.tag);return a||null}function tp(a,u,d,h,m){for(var v=u._reactName,S=[];null!==d&&d!==h;){var x=d,V=x.alternate,re=x.stateNode;if(null!==V&&V===h)break;5===x.tag&&null!==re&&(x=re,m?null!=(V=I(d,v))&&S.unshift(Lu(d,V,x)):m||null!=(V=I(d,v))&&S.push(Lu(d,V,x))),d=d.return}0!==S.length&&a.push({event:u,listeners:S})}function Sd(){}var $u=null,np=null;function bi(a,u){switch(a){case"button":case"input":case"select":case"textarea":return!!u.autoFocus}return!1}function ju(a,u){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof u.children||"number"==typeof u.children||"object"==typeof u.dangerouslySetInnerHTML&&null!==u.dangerouslySetInnerHTML&&null!=u.dangerouslySetInnerHTML.__html}var Bg="function"==typeof setTimeout?setTimeout:void 0,rp="function"==typeof clearTimeout?clearTimeout:void 0;function ip(a){(1===a.nodeType||9===a.nodeType&&null!=(a=a.body))&&(a.textContent="")}function Vu(a){for(;null!=a;a=a.nextSibling){var u=a.nodeType;if(1===u||3===u)break}return a}function er(a){a=a.previousSibling;for(var u=0;a;){if(8===a.nodeType){var d=a.data;if("$"===d||"$!"===d||"$?"===d){if(0===u)return a;u--}else"/$"===d&&u++}a=a.previousSibling}return null}var op=0,fa=Math.random().toString(36).slice(2),ur="__reactFiber$"+fa,Ed="__reactProps$"+fa,ws="__reactContainer$"+fa,pa="__reactEvents$"+fa;function _r(a){var u=a[ur];if(u)return u;for(var d=a.parentNode;d;){if(u=d[ws]||d[ur]){if(d=u.alternate,null!==u.child||null!==d&&null!==d.child)for(a=er(a);null!==a;){if(d=a[ur])return d;a=er(a)}return u}d=(a=d).parentNode}return null}function Bu(a){return!(a=a[ur]||a[ws])||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Zo(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(O(33))}function bd(a){return a[Ed]||null}function Xo(a){var u=a[pa];return void 0===u&&(u=a[pa]=new Set),u}var wd=[],Ds=-1;function gt(a){return{current:a}}function kn(a){0>Ds||(a.current=wd[Ds],wd[Ds]=null,Ds--)}function tr(a,u){Ds++,wd[Ds]=a.current,a.current=u}var Ts={},Hr=gt(Ts),ai=gt(!1),xs=Ts;function Tl(a,u){var d=a.type.contextTypes;if(!d)return Ts;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===u)return h.__reactInternalMemoizedMaskedChildContext;var v,m={};for(v in d)m[v]=u[v];return h&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=m),m}function li(a){return null!=a.childContextTypes}function pe(){kn(ai),kn(Hr)}function cn(a,u,d){if(Hr.current!==Ts)throw Error(O(168));tr(Hr,u),tr(ai,d)}function cr(a,u,d){var h=a.stateNode;if(a=u.childContextTypes,"function"!=typeof h.getChildContext)return d;for(var m in h=h.getChildContext())if(!(m in a))throw Error(O(108,Ni(u)||"Unknown",m));return U({},d,h)}function Wn(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ts,xs=Hr.current,tr(Hr,a),tr(ai,ai.current),!0}function dr(a,u,d){var h=a.stateNode;if(!h)throw Error(O(169));d?(a=cr(a,u,xs),h.__reactInternalMemoizedMergedChildContext=a,kn(ai),kn(Hr),tr(Hr,a)):kn(ai),tr(ai,d)}var Dd=null,to=null,bo=P.unstable_runWithPriority,Uu=P.unstable_scheduleCallback,Hu=P.unstable_cancelCallback,jb=P.unstable_shouldYield,Ug=P.unstable_requestPaint,Hg=P.unstable_now,zg=P.unstable_getCurrentPriorityLevel,xr=P.unstable_ImmediatePriority,wo=P.unstable_UserBlockingPriority,sp=P.unstable_NormalPriority,ha=P.unstable_LowPriority,Do=P.unstable_IdlePriority,ap={},Gg=void 0!==Ug?Ug:function(){},es=null,Td=null,zu=!1,xd=Hg(),Fr=1e4>xd?Hg:function(){return Hg()-xd};function Ms(){switch(zg()){case xr:return 99;case wo:return 98;case sp:return 97;case ha:return 96;case Do:return 95;default:throw Error(O(332))}}function Wg(a){switch(a){case 99:return xr;case 98:return wo;case 97:return sp;case 96:return ha;case 95:return Do;default:throw Error(O(332))}}function As(a,u){return a=Wg(a),bo(a,u)}function ga(a,u,d){return a=Wg(a),Uu(a,u,d)}function no(){if(null!==Td){var a=Td;Td=null,Hu(a)}lp()}function lp(){if(!zu&&null!==es){zu=!0;var a=0;try{var u=es;As(99,function(){for(;a<u.length;a++){var d=u[a];do{d=d(!0)}while(null!==d)}}),es=null}catch(d){throw null!==es&&(es=es.slice(a+1)),Uu(xr,no),d}finally{zu=!1}}}var qg=De.ReactCurrentBatchConfig;function Bi(a,u){if(a&&a.defaultProps){for(var d in u=U({},u),a=a.defaultProps)void 0===u[d]&&(u[d]=a[d]);return u}return u}var xl=gt(null),Md=null,Ml=null,Mr=null;function To(){Mr=Ml=Md=null}function On(a){var u=xl.current;kn(xl),a.type._context._currentValue=u}function Gu(a,u){for(;null!==a;){var d=a.alternate;if((a.childLanes&u)===u){if(null===d||(d.childLanes&u)===u)break;d.childLanes|=u}else a.childLanes|=u,null!==d&&(d.childLanes|=u);a=a.return}}function Al(a,u){Md=a,Mr=Ml=null,null!==(a=a.dependencies)&&null!==a.firstContext&&(0!=(a.lanes&u)&&(Bn=!0),a.firstContext=null)}function Ui(a,u){if(Mr!==a&&!1!==u&&0!==u)if(("number"!=typeof u||1073741823===u)&&(Mr=a,u=1073741823),u={context:a,observedBits:u,next:null},null===Ml){if(null===Md)throw Error(O(308));Ml=u,Md.dependencies={lanes:0,firstContext:u,responders:null}}else Ml=Ml.next=u;return a._currentValue}var Is=!1;function up(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Kg(a,u){u.updateQueue===(a=a.updateQueue)&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ro(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function io(a,u){if(null!==(a=a.updateQueue)){var d=(a=a.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),a.pending=u}}function Wu(a,u){var d=a.updateQueue,h=a.alternate;if(null===h||d!==(h=h.updateQueue))null===(a=d.lastBaseUpdate)?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u;else{var m=null,v=null;if(null!==(d=d.firstBaseUpdate)){do{var S={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===v?m=v=S:v=v.next=S,d=d.next}while(null!==d);null===v?m=v=u:v=v.next=u}else m=v=u;a.updateQueue=d={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects}}}function ma(a,u,d,h){var m=a.updateQueue;Is=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,x=m.shared.pending;if(null!==x){m.shared.pending=null;var V=x,re=V.next;V.next=null,null===S?v=re:S.next=re,S=V;var Fe=a.alternate;if(null!==Fe){var kt=(Fe=Fe.updateQueue).lastBaseUpdate;kt!==S&&(null===kt?Fe.firstBaseUpdate=re:kt.next=re,Fe.lastBaseUpdate=V)}}if(null!==v){for(kt=m.baseState,S=0,Fe=re=V=null;;){var Ce=v.eventTime;if((h&(x=v.lane))===x){null!==Fe&&(Fe=Fe.next={eventTime:Ce,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var rt=a,At=v;switch(x=u,Ce=d,At.tag){case 1:if("function"==typeof(rt=At.payload)){kt=rt.call(Ce,kt,x);break e}kt=rt;break e;case 3:rt.flags=-4097&rt.flags|64;case 0:if(null==(x="function"==typeof(rt=At.payload)?rt.call(Ce,kt,x):rt))break e;kt=U({},kt,x);break e;case 2:Is=!0}}null!==v.callback&&(a.flags|=32,null===(x=m.effects)?m.effects=[v]:x.push(v))}else Ce={eventTime:Ce,lane:x,tag:v.tag,payload:v.payload,callback:v.callback,next:null},null===Fe?(re=Fe=Ce,V=kt):Fe=Fe.next=Ce,S|=x;if(null===(v=v.next)){if(null===(x=m.shared.pending))break;v=x.next,x.next=null,m.lastBaseUpdate=x,m.shared.pending=null}}null===Fe&&(V=kt),m.baseState=V,m.firstBaseUpdate=re,m.lastBaseUpdate=Fe,ic|=S,a.lanes=S,a.memoizedState=kt}}function cp(a,u,d){if(a=u.effects,u.effects=null,null!==a)for(u=0;u<a.length;u++){var h=a[u],m=h.callback;if(null!==m){if(h.callback=null,h=d,"function"!=typeof m)throw Error(O(191,m));m.call(h)}}}var Qg=(new T.Component).refs;function oo(a,u,d,h){d=null==(d=d(h,u=a.memoizedState))?u:U({},u,d),a.memoizedState=d,0===a.lanes&&(a.updateQueue.baseState=d)}var Ps={isMounted:function(a){return!!(a=a._reactInternals)&&Ho(a)===a},enqueueSetState:function(a,u,d){a=a._reactInternals;var h=ui(),m=Ao(a),v=ro(h,m);v.payload=u,null!=d&&(v.callback=d),io(a,v),is(a,m,h)},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var h=ui(),m=Ao(a),v=ro(h,m);v.tag=1,v.payload=u,null!=d&&(v.callback=d),io(a,v),is(a,m,h)},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=ui(),h=Ao(a),m=ro(d,h);m.tag=2,null!=u&&(m.callback=u),io(a,m),is(a,h,d)}};function Yg(a,u,d,h,m,v,S){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(h,v,S):!(u.prototype&&u.prototype.isPureReactComponent&&Nu(d,h)&&Nu(m,v))}function Jg(a,u,d){var h=!1,m=Ts,v=u.contextType;return"object"==typeof v&&null!==v?v=Ui(v):(m=li(u)?xs:Hr.current,v=(h=null!=(h=u.contextTypes))?Tl(a,m):Ts),u=new u(d,v),a.memoizedState=null!=u.state?u.state:null,u.updater=Ps,a.stateNode=u,u._reactInternals=a,h&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=v),u}function Il(a,u,d,h){a=u.state,"function"==typeof u.componentWillReceiveProps&&u.componentWillReceiveProps(d,h),"function"==typeof u.UNSAFE_componentWillReceiveProps&&u.UNSAFE_componentWillReceiveProps(d,h),u.state!==a&&Ps.enqueueReplaceState(u,u.state,null)}function qu(a,u,d,h){var m=a.stateNode;m.props=d,m.state=a.memoizedState,m.refs=Qg,up(a);var v=u.contextType;"object"==typeof v&&null!==v?m.context=Ui(v):(v=li(u)?xs:Hr.current,m.context=Tl(a,v)),ma(a,d,m,h),m.state=a.memoizedState,"function"==typeof(v=u.getDerivedStateFromProps)&&(oo(a,u,v,d),m.state=a.memoizedState),"function"==typeof u.getDerivedStateFromProps||"function"==typeof m.getSnapshotBeforeUpdate||"function"!=typeof m.UNSAFE_componentWillMount&&"function"!=typeof m.componentWillMount||(u=m.state,"function"==typeof m.componentWillMount&&m.componentWillMount(),"function"==typeof m.UNSAFE_componentWillMount&&m.UNSAFE_componentWillMount(),u!==m.state&&Ps.enqueueReplaceState(m,m.state,null),ma(a,d,m,h),m.state=a.memoizedState),"function"==typeof m.componentDidMount&&(a.flags|=4)}var Ad=Array.isArray;function Ku(a,u,d){if(null!==(a=d.ref)&&"function"!=typeof a&&"object"!=typeof a){if(d._owner){if(d=d._owner){if(1!==d.tag)throw Error(O(309));var h=d.stateNode}if(!h)throw Error(O(147,a));var m=""+a;return null!==u&&null!==u.ref&&"function"==typeof u.ref&&u.ref._stringRef===m?u.ref:((u=function(v){var S=h.refs;S===Qg&&(S=h.refs={}),null===v?delete S[m]:S[m]=v})._stringRef=m,u)}if("string"!=typeof a)throw Error(O(284));if(!d._owner)throw Error(O(290,a))}return a}function dp(a,u){if("textarea"!==a.type)throw Error(O(31,"[object Object]"===Object.prototype.toString.call(u)?"object with keys {"+Object.keys(u).join(", ")+"}":u))}function C_(a){function u(q,B){if(a){var W=q.lastEffect;null!==W?(W.nextEffect=B,q.lastEffect=B):q.firstEffect=q.lastEffect=B,B.nextEffect=null,B.flags=8}}function d(q,B){if(!a)return null;for(;null!==B;)u(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;null!==B;)q.set(null!==B.key?B.key:B.index,B),B=B.sibling;return q}function m(q,B){return(q=$s(q,B)).index=0,q.sibling=null,q}function v(q,B,W){return q.index=W,a?null!==(W=q.alternate)?(W=W.index)<B?(q.flags=2,B):W:(q.flags=2,B):B}function S(q){return a&&null===q.alternate&&(q.flags=2),q}function x(q,B,W,ue){return null===B||6!==B.tag?((B=pc(W,q.mode,ue)).return=q,B):((B=m(B,W)).return=q,B)}function V(q,B,W,ue){return null!==B&&B.elementType===W.type?((ue=m(B,W.props)).ref=Ku(q,B,W),ue.return=q,ue):((ue=js(W.type,W.key,W.props,null,q.mode,ue)).ref=Ku(q,B,W),ue.return=q,ue)}function re(q,B,W,ue){return null===B||4!==B.tag||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?((B=hc(W,q.mode,ue)).return=q,B):((B=m(B,W.children||[])).return=q,B)}function Fe(q,B,W,ue,he){return null===B||7!==B.tag?((B=Jl(W,q.mode,ue,he)).return=q,B):((B=m(B,W)).return=q,B)}function kt(q,B,W){if("string"==typeof B||"number"==typeof B)return(B=pc(""+B,q.mode,W)).return=q,B;if("object"==typeof B&&null!==B){switch(B.$$typeof){case me:return(W=js(B.type,B.key,B.props,null,q.mode,W)).ref=Ku(q,null,B),W.return=q,W;case ke:return(B=hc(B,q.mode,W)).return=q,B}if(Ad(B)||Mt(B))return(B=Jl(B,q.mode,W,null)).return=q,B;dp(q,B)}return null}function Ce(q,B,W,ue){var he=null!==B?B.key:null;if("string"==typeof W||"number"==typeof W)return null!==he?null:x(q,B,""+W,ue);if("object"==typeof W&&null!==W){switch(W.$$typeof){case me:return W.key===he?W.type===We?Fe(q,B,W.props.children,ue,he):V(q,B,W,ue):null;case ke:return W.key===he?re(q,B,W,ue):null}if(Ad(W)||Mt(W))return null!==he?null:Fe(q,B,W,ue,null);dp(q,W)}return null}function rt(q,B,W,ue,he){if("string"==typeof ue||"number"==typeof ue)return x(B,q=q.get(W)||null,""+ue,he);if("object"==typeof ue&&null!==ue){switch(ue.$$typeof){case me:return q=q.get(null===ue.key?W:ue.key)||null,ue.type===We?Fe(B,q,ue.props.children,he,ue.key):V(B,q,ue,he);case ke:return re(B,q=q.get(null===ue.key?W:ue.key)||null,ue,he)}if(Ad(ue)||Mt(ue))return Fe(B,q=q.get(W)||null,ue,he,null);dp(B,ue)}return null}return function(q,B,W,ue){var he="object"==typeof W&&null!==W&&W.type===We&&null===W.key;he&&(W=W.props.children);var Rt="object"==typeof W&&null!==W;if(Rt)switch(W.$$typeof){case me:e:{for(Rt=W.key,he=B;null!==he;){if(he.key===Rt){if(7===he.tag){if(W.type===We){d(q,he.sibling),(B=m(he,W.props.children)).return=q,q=B;break e}}else if(he.elementType===W.type){d(q,he.sibling),(B=m(he,W.props)).ref=Ku(q,he,W),B.return=q,q=B;break e}d(q,he);break}u(q,he),he=he.sibling}W.type===We?((B=Jl(W.props.children,q.mode,ue,W.key)).return=q,q=B):((ue=js(W.type,W.key,W.props,null,q.mode,ue)).ref=Ku(q,B,W),ue.return=q,q=ue)}return S(q);case ke:e:{for(he=W.key;null!==B;){if(B.key===he){if(4===B.tag&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){d(q,B.sibling),(B=m(B,W.children||[])).return=q,q=B;break e}d(q,B);break}u(q,B),B=B.sibling}(B=hc(W,q.mode,ue)).return=q,q=B}return S(q)}if("string"==typeof W||"number"==typeof W)return W=""+W,null!==B&&6===B.tag?(d(q,B.sibling),(B=m(B,W)).return=q,q=B):(d(q,B),(B=pc(W,q.mode,ue)).return=q,q=B),S(q);if(Ad(W))return function At(q,B,W,ue){for(var he=null,Rt=null,Ge=B,Tt=B=0,Xt=null;null!==Ge&&Tt<W.length;Tt++){Ge.index>Tt?(Xt=Ge,Ge=null):Xt=Ge.sibling;var jt=Ce(q,Ge,W[Tt],ue);if(null===jt){null===Ge&&(Ge=Xt);break}a&&Ge&&null===jt.alternate&&u(q,Ge),B=v(jt,B,Tt),null===Rt?he=jt:Rt.sibling=jt,Rt=jt,Ge=Xt}if(Tt===W.length)return d(q,Ge),he;if(null===Ge){for(;Tt<W.length;Tt++)null!==(Ge=kt(q,W[Tt],ue))&&(B=v(Ge,B,Tt),null===Rt?he=Ge:Rt.sibling=Ge,Rt=Ge);return he}for(Ge=h(q,Ge);Tt<W.length;Tt++)null!==(Xt=rt(Ge,q,Tt,W[Tt],ue))&&(a&&null!==Xt.alternate&&Ge.delete(null===Xt.key?Tt:Xt.key),B=v(Xt,B,Tt),null===Rt?he=Xt:Rt.sibling=Xt,Rt=Xt);return a&&Ge.forEach(function(Vs){return u(q,Vs)}),he}(q,B,W,ue);if(Mt(W))return function yt(q,B,W,ue){var he=Mt(W);if("function"!=typeof he)throw Error(O(150));if(null==(W=he.call(W)))throw Error(O(151));for(var Rt=he=null,Ge=B,Tt=B=0,Xt=null,jt=W.next();null!==Ge&&!jt.done;Tt++,jt=W.next()){Ge.index>Tt?(Xt=Ge,Ge=null):Xt=Ge.sibling;var Vs=Ce(q,Ge,jt.value,ue);if(null===Vs){null===Ge&&(Ge=Xt);break}a&&Ge&&null===Vs.alternate&&u(q,Ge),B=v(Vs,B,Tt),null===Rt?he=Vs:Rt.sibling=Vs,Rt=Vs,Ge=Xt}if(jt.done)return d(q,Ge),he;if(null===Ge){for(;!jt.done;Tt++,jt=W.next())null!==(jt=kt(q,jt.value,ue))&&(B=v(jt,B,Tt),null===Rt?he=jt:Rt.sibling=jt,Rt=jt);return he}for(Ge=h(q,Ge);!jt.done;Tt++,jt=W.next())null!==(jt=rt(Ge,q,Tt,jt.value,ue))&&(a&&null!==jt.alternate&&Ge.delete(null===jt.key?Tt:jt.key),B=v(jt,B,Tt),null===Rt?he=jt:Rt.sibling=jt,Rt=jt);return a&&Ge.forEach(function($_){return u(q,$_)}),he}(q,B,W,ue);if(Rt&&dp(q,W),typeof W>"u"&&!he)switch(q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(O(152,Ni(q.type)||"Component"))}return d(q,B)}}var ya=C_(!0),fp=C_(!1),Pl={},wi=gt(Pl),Rl=gt(Pl),kl=gt(Pl);function Hi(a){if(a===Pl)throw Error(O(174));return a}function pp(a,u){switch(tr(kl,u),tr(Rl,a),tr(wi,Pl),a=u.nodeType){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:ed(null,"");break;default:u=ed(u=(a=8===a?u.parentNode:u).namespaceURI||null,a=a.tagName)}kn(wi),tr(wi,u)}function so(){kn(wi),kn(Rl),kn(kl)}function Id(a){Hi(kl.current);var u=Hi(wi.current),d=ed(u,a.type);u!==d&&(tr(Rl,a),tr(wi,d))}function Ol(a){Rl.current===a&&(kn(wi),kn(Rl))}var nr=gt(0);function Qu(a){for(var u=a;null!==u;){if(13===u.tag){var d=u.memoizedState;if(null!==d&&(null===(d=d.dehydrated)||"$?"===d.data||"$!"===d.data))return u}else if(19===u.tag&&void 0!==u.memoizedProps.revealOrder){if(0!=(64&u.flags))return u}else if(null!==u.child){u.child.return=u,u=u.child;continue}if(u===a)break;for(;null===u.sibling;){if(null===u.return||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var xo=null,Rs=null,Cr=!1;function Zg(a,u){var d=ci(5,null,null,0);d.elementType="DELETED",d.type="DELETED",d.stateNode=u,d.return=a,d.flags=8,null!==a.lastEffect?(a.lastEffect.nextEffect=d,a.lastEffect=d):a.firstEffect=a.lastEffect=d}function Nl(a,u){switch(a.tag){case 5:return null!==(u=1!==u.nodeType||a.type.toLowerCase()!==u.nodeName.toLowerCase()?null:u)&&(a.stateNode=u,!0);case 6:return null!==(u=""===a.pendingProps||3!==u.nodeType?null:u)&&(a.stateNode=u,!0);default:return!1}}function Yu(a){if(Cr){var u=Rs;if(u){var d=u;if(!Nl(a,u)){if(!(u=Vu(d.nextSibling))||!Nl(a,u))return a.flags=-1025&a.flags|2,Cr=!1,void(xo=a);Zg(xo,d)}xo=a,Rs=Vu(u.firstChild)}else a.flags=-1025&a.flags|2,Cr=!1,xo=a}}function Pd(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xo=a}function va(a){if(a!==xo)return!1;if(!Cr)return Pd(a),Cr=!0,!1;var u=a.type;if(5!==a.tag||"head"!==u&&"body"!==u&&!ju(u,a.memoizedProps))for(u=Rs;u;)Zg(a,u),u=Vu(u.nextSibling);if(Pd(a),13===a.tag){if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(O(317));e:{for(a=a.nextSibling,u=0;a;){if(8===a.nodeType){var d=a.data;if("/$"===d){if(0===u){Rs=Vu(a.nextSibling);break e}u--}else"$"!==d&&"$!"!==d&&"$?"!==d||u++}a=a.nextSibling}Rs=null}}else Rs=xo?Vu(a.stateNode.nextSibling):null;return!0}function Fl(){Rs=xo=null,Cr=!1}var Ll=[];function Rd(){for(var a=0;a<Ll.length;a++)Ll[a]._workInProgressVersionPrimary=null;Ll.length=0}var $l=De.ReactCurrentDispatcher,Di=De.ReactCurrentBatchConfig,jl=0,rr=null,Sr=null,ir=null,kd=!1,Vl=!1;function Xr(){throw Error(O(321))}function ks(a,u){if(null===u)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!eo(a[d],u[d]))return!1;return!0}function hp(a,u,d,h,m,v){if(jl=v,rr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$l.current=null===a||null===a.memoizedState?vp:Ju,a=d(h,m),Vl){v=0;do{if(Vl=!1,!(25>v))throw Error(O(301));v+=1,ir=Sr=null,u.updateQueue=null,$l.current=Bb,a=d(h,m)}while(Vl)}if($l.current=Kn,u=null!==Sr&&null!==Sr.next,jl=0,ir=Sr=rr=null,kd=!1,u)throw Error(O(300));return a}function qn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ir?rr.memoizedState=ir=a:ir=ir.next=a,ir}function ts(){if(null===Sr){var a=rr.alternate;a=null!==a?a.memoizedState:null}else a=Sr.next;var u=null===ir?rr.memoizedState:ir.next;if(null!==u)ir=u,Sr=a;else{if(null===a)throw Error(O(310));a={memoizedState:(Sr=a).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===ir?rr.memoizedState=ir=a:ir=ir.next=a}return ir}function Mo(a,u){return"function"==typeof u?u(a):u}function Bl(a){var u=ts(),d=u.queue;if(null===d)throw Error(O(311));d.lastRenderedReducer=a;var h=Sr,m=h.baseQueue,v=d.pending;if(null!==v){if(null!==m){var S=m.next;m.next=v.next,v.next=S}h.baseQueue=m=v,d.pending=null}if(null!==m){h=h.baseState;var x=S=v=null,V=m=m.next;do{var re=V.lane;if((jl&re)===re)null!==x&&(x=x.next={lane:0,action:V.action,eagerReducer:V.eagerReducer,eagerState:V.eagerState,next:null}),h=V.eagerReducer===a?V.eagerState:a(h,V.action);else{var Fe={lane:re,action:V.action,eagerReducer:V.eagerReducer,eagerState:V.eagerState,next:null};null===x?(S=x=Fe,v=h):x=x.next=Fe,rr.lanes|=re,ic|=re}V=V.next}while(null!==V&&V!==m);null===x?v=h:x.next=S,eo(h,u.memoizedState)||(Bn=!0),u.memoizedState=h,u.baseState=v,u.baseQueue=x,d.lastRenderedState=h}return[u.memoizedState,d.dispatch]}function ns(a){var u=ts(),d=u.queue;if(null===d)throw Error(O(311));d.lastRenderedReducer=a;var h=d.dispatch,m=d.pending,v=u.memoizedState;if(null!==m){d.pending=null;var S=m=m.next;do{v=a(v,S.action),S=S.next}while(S!==m);eo(v,u.memoizedState)||(Bn=!0),u.memoizedState=v,null===u.baseQueue&&(u.baseState=v),d.lastRenderedState=v}return[v,h]}function _a(a,u,d){var h=u._getVersion;h=h(u._source);var m=u._workInProgressVersionPrimary;if(null!==m?a=m===h:(a=(jl&(a=a.mutableReadLanes))===a)&&(u._workInProgressVersionPrimary=h,Ll.push(u)),a)return d(u._source);throw Ll.push(u),Error(O(350))}function Ca(a,u,d,h){var m=Gr;if(null===m)throw Error(O(349));var v=u._getVersion,S=v(u._source),x=$l.current,V=x.useState(function(){return _a(m,u,d)}),re=V[1],Fe=V[0];V=ir;var kt=a.memoizedState,Ce=kt.refs,rt=Ce.getSnapshot,At=kt.source;kt=kt.subscribe;var yt=rr;return a.memoizedState={refs:Ce,source:u,subscribe:h},x.useEffect(function(){Ce.getSnapshot=d,Ce.setSnapshot=re;var q=v(u._source);if(!eo(S,q)){q=d(u._source),eo(Fe,q)||(re(q),q=Ao(yt),m.mutableReadLanes|=q&m.pendingLanes),m.entangledLanes|=q=m.mutableReadLanes;for(var B=m.entanglements,W=q;0<W;){var ue=31-qo(W),he=1<<ue;B[ue]|=q,W&=~he}}},[d,u,h]),x.useEffect(function(){return h(u._source,function(){var q=Ce.getSnapshot,B=Ce.setSnapshot;try{B(q(u._source));var W=Ao(yt);m.mutableReadLanes|=W&m.pendingLanes}catch(ue){B(function(){throw ue})}})},[u,h]),eo(rt,d)&&eo(At,u)&&eo(kt,h)||((a={pending:null,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:Fe}).dispatch=re=em.bind(null,rr,a),V.queue=a,V.baseQueue=null,Fe=_a(m,u,d),V.memoizedState=V.baseState=Fe),Fe}function Sa(a,u,d){return Ca(ts(),a,u,d)}function Ul(a){var u=qn();return"function"==typeof a&&(a=a()),u.memoizedState=u.baseState=a,a=(a=u.queue={pending:null,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:a}).dispatch=em.bind(null,rr,a),[u.memoizedState,a]}function Hl(a,u,d,h){return a={tag:a,create:u,destroy:d,deps:h,next:null},null===(u=rr.updateQueue)?(rr.updateQueue=u={lastEffect:null},u.lastEffect=a.next=a):null===(d=u.lastEffect)?u.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,u.lastEffect=a),a}function Ea(a){return qn().memoizedState={current:a}}function gp(){return ts().memoizedState}function mp(a,u,d,h){var m=qn();rr.flags|=a,m.memoizedState=Hl(1|u,d,void 0,void 0===h?null:h)}function ct(a,u,d,h){var m=ts();h=void 0===h?null:h;var v=void 0;if(null!==Sr){var S=Sr.memoizedState;if(v=S.destroy,null!==h&&ks(h,S.deps))return void Hl(u,d,v,h)}rr.flags|=a,m.memoizedState=Hl(1|u,d,v,h)}function S_(a,u){return mp(516,4,a,u)}function yp(a,u){return ct(516,4,a,u)}function E_(a,u){return ct(4,2,a,u)}function b_(a,u){return"function"==typeof u?(a=a(),u(a),function(){u(null)}):null!=u?(a=a(),u.current=a,function(){u.current=null}):void 0}function w_(a,u,d){return d=null!=d?d.concat([a]):null,ct(4,2,b_.bind(null,u,a),d)}function Xg(){}function D_(a,u){var d=ts();u=void 0===u?null:u;var h=d.memoizedState;return null!==h&&null!==u&&ks(u,h[1])?h[0]:(d.memoizedState=[a,u],a)}function zl(a,u){var d=ts();u=void 0===u?null:u;var h=d.memoizedState;return null!==h&&null!==u&&ks(u,h[1])?h[0]:(a=a(),d.memoizedState=[a,u],a)}function Vb(a,u){var d=Ms();As(98>d?98:d,function(){a(!0)}),As(97<d?97:d,function(){var h=Di.transition;Di.transition=1;try{a(!1),u()}finally{Di.transition=h}})}function em(a,u,d){var h=ui(),m=Ao(a),v={lane:m,action:d,eagerReducer:null,eagerState:null,next:null},S=u.pending;if(null===S?v.next=v:(v.next=S.next,S.next=v),u.pending=v,S=a.alternate,a===rr||null!==S&&S===rr)Vl=kd=!0;else{if(0===a.lanes&&(null===S||0===S.lanes)&&null!==(S=u.lastRenderedReducer))try{var x=u.lastRenderedState,V=S(x,d);if(v.eagerReducer=S,v.eagerState=V,eo(V,x))return}catch{}is(a,m,h)}}var Kn={readContext:Ui,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useOpaqueIdentifier:Xr,unstable_isNewReconciler:!1},vp={readContext:Ui,useCallback:function(a,u){return qn().memoizedState=[a,void 0===u?null:u],a},useContext:Ui,useEffect:S_,useImperativeHandle:function(a,u,d){return d=null!=d?d.concat([a]):null,mp(4,2,b_.bind(null,u,a),d)},useLayoutEffect:function(a,u){return mp(4,2,a,u)},useMemo:function(a,u){var d=qn();return u=void 0===u?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var h=qn();return u=void 0!==d?d(u):u,h.memoizedState=h.baseState=u,a=(a=h.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:u}).dispatch=em.bind(null,rr,a),[h.memoizedState,a]},useRef:Ea,useState:Ul,useDebugValue:Xg,useDeferredValue:function(a){var u=Ul(a),d=u[0],h=u[1];return S_(function(){var m=Di.transition;Di.transition=1;try{h(a)}finally{Di.transition=m}},[a]),d},useTransition:function(){var a=Ul(!1),u=a[0];return Ea(a=Vb.bind(null,a[1])),[a,u]},useMutableSource:function(a,u,d){var h=qn();return h.memoizedState={refs:{getSnapshot:u,setSnapshot:null},source:a,subscribe:d},Ca(h,a,u,d)},useOpaqueIdentifier:function(){if(Cr){var a=!1,u=function $b(a){return{$$typeof:ae,toString:a,valueOf:a}}(function(){throw a||(a=!0,d("r:"+(op++).toString(36))),Error(O(355))}),d=Ul(u)[1];return 0==(2&rr.mode)&&(rr.flags|=516,Hl(5,function(){d("r:"+(op++).toString(36))},void 0,null)),u}return Ul(u="r:"+(op++).toString(36)),u},unstable_isNewReconciler:!1},Ju={readContext:Ui,useCallback:D_,useContext:Ui,useEffect:yp,useImperativeHandle:w_,useLayoutEffect:E_,useMemo:zl,useReducer:Bl,useRef:gp,useState:function(){return Bl(Mo)},useDebugValue:Xg,useDeferredValue:function(a){var u=Bl(Mo),d=u[0],h=u[1];return yp(function(){var m=Di.transition;Di.transition=1;try{h(a)}finally{Di.transition=m}},[a]),d},useTransition:function(){var a=Bl(Mo)[0];return[gp().current,a]},useMutableSource:Sa,useOpaqueIdentifier:function(){return Bl(Mo)[0]},unstable_isNewReconciler:!1},Bb={readContext:Ui,useCallback:D_,useContext:Ui,useEffect:yp,useImperativeHandle:w_,useLayoutEffect:E_,useMemo:zl,useReducer:ns,useRef:gp,useState:function(){return ns(Mo)},useDebugValue:Xg,useDeferredValue:function(a){var u=ns(Mo),d=u[0],h=u[1];return yp(function(){var m=Di.transition;Di.transition=1;try{h(a)}finally{Di.transition=m}},[a]),d},useTransition:function(){var a=ns(Mo)[0];return[gp().current,a]},useMutableSource:Sa,useOpaqueIdentifier:function(){return ns(Mo)[0]},unstable_isNewReconciler:!1},T_=De.ReactCurrentOwner,Bn=!1;function Qn(a,u,d,h){u.child=null===a?fp(u,null,d,h):ya(u,a.child,d,h)}function _p(a,u,d,h,m){d=d.render;var v=u.ref;return Al(u,m),h=hp(a,u,d,h,v,m),null===a||Bn?(u.flags|=1,Qn(a,u,h,m),u.child):(u.updateQueue=a.updateQueue,u.flags&=-517,a.lanes&=~m,rs(a,u,m))}function Zu(a,u,d,h,m,v){if(null===a){var S=d.type;return"function"!=typeof S||qp(S)||void 0!==S.defaultProps||null!==d.compare||void 0!==d.defaultProps?((a=js(d.type,null,h,u,u.mode,v)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=S,Gl(a,u,S,h,m,v))}return S=a.child,0==(m&v)&&(d=null!==(d=d.compare)?d:Nu)(m=S.memoizedProps,h)&&a.ref===u.ref?rs(a,u,v):(u.flags|=1,(a=$s(S,h)).ref=u.ref,a.return=u,u.child=a)}function Gl(a,u,d,h,m,v){if(null!==a&&Nu(a.memoizedProps,h)&&a.ref===u.ref){if(Bn=!1,0==(v&m))return u.lanes=a.lanes,rs(a,u,v);0!=(16384&a.flags)&&(Bn=!0)}return Cp(a,u,d,h,v)}function Od(a,u,d){var h=u.pendingProps,m=h.children,v=null!==a?a.memoizedState:null;if("hidden"===h.mode||"unstable-defer-without-hiding"===h.mode)if(0==(4&u.mode))u.memoizedState={baseLanes:0},Hd(0,d);else{if(0==(1073741824&d))return a=null!==v?v.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a},Hd(0,a),null;u.memoizedState={baseLanes:0},Hd(0,null!==v?v.baseLanes:d)}else null!==v?(h=v.baseLanes|d,u.memoizedState=null):h=d,Hd(0,h);return Qn(a,u,m,d),u.child}function tm(a,u){var d=u.ref;(null===a&&null!==d||null!==a&&a.ref!==d)&&(u.flags|=128)}function Cp(a,u,d,h,m){var v=li(d)?xs:Hr.current;return v=Tl(u,v),Al(u,m),d=hp(a,u,d,h,v,m),null===a||Bn?(u.flags|=1,Qn(a,u,d,m),u.child):(u.updateQueue=a.updateQueue,u.flags&=-517,a.lanes&=~m,rs(a,u,m))}function x_(a,u,d,h,m){if(li(d)){var v=!0;Wn(u)}else v=!1;if(Al(u,m),null===u.stateNode)null!==a&&(a.alternate=null,u.alternate=null,u.flags|=2),Jg(u,d,h),qu(u,d,h,m),h=!0;else if(null===a){var S=u.stateNode,x=u.memoizedProps;S.props=x;var V=S.context,re=d.contextType;re="object"==typeof re&&null!==re?Ui(re):Tl(u,re=li(d)?xs:Hr.current);var Fe=d.getDerivedStateFromProps,kt="function"==typeof Fe||"function"==typeof S.getSnapshotBeforeUpdate;kt||"function"!=typeof S.UNSAFE_componentWillReceiveProps&&"function"!=typeof S.componentWillReceiveProps||(x!==h||V!==re)&&Il(u,S,h,re),Is=!1;var Ce=u.memoizedState;S.state=Ce,ma(u,h,S,m),V=u.memoizedState,x!==h||Ce!==V||ai.current||Is?("function"==typeof Fe&&(oo(u,d,Fe,h),V=u.memoizedState),(x=Is||Yg(u,d,x,h,Ce,V,re))?(kt||"function"!=typeof S.UNSAFE_componentWillMount&&"function"!=typeof S.componentWillMount||("function"==typeof S.componentWillMount&&S.componentWillMount(),"function"==typeof S.UNSAFE_componentWillMount&&S.UNSAFE_componentWillMount()),"function"==typeof S.componentDidMount&&(u.flags|=4)):("function"==typeof S.componentDidMount&&(u.flags|=4),u.memoizedProps=h,u.memoizedState=V),S.props=h,S.state=V,S.context=re,h=x):("function"==typeof S.componentDidMount&&(u.flags|=4),h=!1)}else{S=u.stateNode,Kg(a,u),x=u.memoizedProps,re=u.type===u.elementType?x:Bi(u.type,x),S.props=re,kt=u.pendingProps,Ce=S.context,V="object"==typeof(V=d.contextType)&&null!==V?Ui(V):Tl(u,V=li(d)?xs:Hr.current);var rt=d.getDerivedStateFromProps;(Fe="function"==typeof rt||"function"==typeof S.getSnapshotBeforeUpdate)||"function"!=typeof S.UNSAFE_componentWillReceiveProps&&"function"!=typeof S.componentWillReceiveProps||(x!==kt||Ce!==V)&&Il(u,S,h,V),Is=!1,S.state=Ce=u.memoizedState,ma(u,h,S,m);var At=u.memoizedState;x!==kt||Ce!==At||ai.current||Is?("function"==typeof rt&&(oo(u,d,rt,h),At=u.memoizedState),(re=Is||Yg(u,d,re,h,Ce,At,V))?(Fe||"function"!=typeof S.UNSAFE_componentWillUpdate&&"function"!=typeof S.componentWillUpdate||("function"==typeof S.componentWillUpdate&&S.componentWillUpdate(h,At,V),"function"==typeof S.UNSAFE_componentWillUpdate&&S.UNSAFE_componentWillUpdate(h,At,V)),"function"==typeof S.componentDidUpdate&&(u.flags|=4),"function"==typeof S.getSnapshotBeforeUpdate&&(u.flags|=256)):("function"!=typeof S.componentDidUpdate||x===a.memoizedProps&&Ce===a.memoizedState||(u.flags|=4),"function"!=typeof S.getSnapshotBeforeUpdate||x===a.memoizedProps&&Ce===a.memoizedState||(u.flags|=256),u.memoizedProps=h,u.memoizedState=At),S.props=h,S.state=At,S.context=V,h=re):("function"!=typeof S.componentDidUpdate||x===a.memoizedProps&&Ce===a.memoizedState||(u.flags|=4),"function"!=typeof S.getSnapshotBeforeUpdate||x===a.memoizedProps&&Ce===a.memoizedState||(u.flags|=256),h=!1)}return nm(a,u,d,h,v,m)}function nm(a,u,d,h,m,v){tm(a,u);var S=0!=(64&u.flags);if(!h&&!S)return m&&dr(u,d,!1),rs(a,u,v);h=u.stateNode,T_.current=u;var x=S&&"function"!=typeof d.getDerivedStateFromError?null:h.render();return u.flags|=1,null!==a&&S?(u.child=ya(u,a.child,null,v),u.child=ya(u,null,x,v)):Qn(a,u,x,v),u.memoizedState=h.state,m&&dr(u,d,!0),u.child}function Sp(a){var u=a.stateNode;u.pendingContext?cn(0,u.pendingContext,u.pendingContext!==u.context):u.context&&cn(0,u.context,!1),pp(a,u.containerInfo)}var om,Fd,Xu,zr={dehydrated:null,retryLane:0};function Nd(a,u,d){var S,h=u.pendingProps,m=nr.current,v=!1;return(S=0!=(64&u.flags))||(S=(null===a||null!==a.memoizedState)&&0!=(2&m)),S?(v=!0,u.flags&=-65):null!==a&&null===a.memoizedState||void 0===h.fallback||!0===h.unstable_avoidThisFallback||(m|=1),tr(nr,1&m),null===a?(void 0!==h.fallback&&Yu(u),a=h.children,m=h.fallback,v?(a=ba(u,a,m,d),u.child.memoizedState={baseLanes:d},u.memoizedState=zr,a):"number"==typeof h.unstable_expectedLoadTime?(a=ba(u,a,m,d),u.child.memoizedState={baseLanes:d},u.memoizedState=zr,u.lanes=33554432,a):((d=Kp({mode:"visible",children:a},u.mode,d,null)).return=u,u.child=d)):v?(h=function Ep(a,u,d,h,m){var v=u.mode,S=a.child;a=S.sibling;var x={mode:"hidden",children:d};return 0==(2&v)&&u.child!==S?((d=u.child).childLanes=0,d.pendingProps=x,null!==(S=d.lastEffect)?(u.firstEffect=d.firstEffect,u.lastEffect=S,S.nextEffect=null):u.firstEffect=u.lastEffect=null):d=$s(S,x),null!==a?h=$s(a,h):(h=Jl(h,v,m,null)).flags|=2,h.return=u,d.return=u,d.sibling=h,u.child=d,h}(a,u,h.children,h.fallback,d),(v=u.child).memoizedState=null===(m=a.child.memoizedState)?{baseLanes:d}:{baseLanes:m.baseLanes|d},v.childLanes=a.childLanes&~d,u.memoizedState=zr,h):(d=function M_(a,u,d,h){var m=a.child;return a=m.sibling,d=$s(m,{mode:"visible",children:d}),0==(2&u.mode)&&(d.lanes=h),d.return=u,d.sibling=null,null!==a&&(a.nextEffect=null,a.flags=8,u.firstEffect=u.lastEffect=a),u.child=d}(a,u,h.children,d),u.memoizedState=null,d)}function ba(a,u,d,h){var m=a.mode,v=a.child;return u={mode:"hidden",children:u},0==(2&m)&&null!==v?(v.childLanes=0,v.pendingProps=u):v=Kp(u,m,0,null),d=Jl(d,m,h,null),v.return=a,d.return=a,v.sibling=d,a.child=v,d}function rm(a,u){a.lanes|=u;var d=a.alternate;null!==d&&(d.lanes|=u),Gu(a.return,u)}function bp(a,u,d,h,m,v){var S=a.memoizedState;null===S?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:m,lastEffect:v}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=d,S.tailMode=m,S.lastEffect=v)}function im(a,u,d){var h=u.pendingProps,m=h.revealOrder,v=h.tail;if(Qn(a,u,h.children,d),0!=(2&(h=nr.current)))h=1&h|2,u.flags|=64;else{if(null!==a&&0!=(64&a.flags))e:for(a=u.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&rm(a,d);else if(19===a.tag)rm(a,d);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;null===a.sibling;){if(null===a.return||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}if(tr(nr,h),0==(2&u.mode))u.memoizedState=null;else switch(m){case"forwards":for(d=u.child,m=null;null!==d;)null!==(a=d.alternate)&&null===Qu(a)&&(m=d),d=d.sibling;null===(d=m)?(m=u.child,u.child=null):(m=d.sibling,d.sibling=null),bp(u,!1,m,d,v,u.lastEffect);break;case"backwards":for(d=null,m=u.child,u.child=null;null!==m;){if(null!==(a=m.alternate)&&null===Qu(a)){u.child=m;break}a=m.sibling,m.sibling=d,d=m,m=a}bp(u,!0,d,null,v,u.lastEffect);break;case"together":bp(u,!1,null,null,void 0,u.lastEffect);break;default:u.memoizedState=null}return u.child}function rs(a,u,d){if(null!==a&&(u.dependencies=a.dependencies),ic|=u.lanes,0!=(d&u.childLanes)){if(null!==a&&u.child!==a.child)throw Error(O(153));if(null!==u.child){for(d=$s(a=u.child,a.pendingProps),u.child=d,d.return=u;null!==a.sibling;)(d=d.sibling=$s(a=a.sibling,a.pendingProps)).return=u;d.sibling=null}return u.child}return null}function Ld(a,u){if(!Cr)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;null!==u;)null!==u.alternate&&(d=u),u=u.sibling;null===d?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;null!==d;)null!==d.alternate&&(h=d),d=d.sibling;null===h?u||null===a.tail?a.tail=null:a.tail.sibling=null:h.sibling=null}}function ec(a,u,d){var h=u.pendingProps;switch(u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return li(u.type)&&pe(),null;case 3:return so(),kn(ai),kn(Hr),Rd(),(h=u.stateNode).pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(null===a||null===a.child)&&(va(u)?u.flags|=4:h.hydrate||(u.flags|=256)),null;case 5:Ol(u);var m=Hi(kl.current);if(d=u.type,null!==a&&null!=u.stateNode)Fd(a,u,d,h),a.ref!==u.ref&&(u.flags|=128);else{if(!h){if(null===u.stateNode)throw Error(O(166));return null}if(a=Hi(wi.current),va(u)){d=u.type;var v=u.memoizedProps;switch((h=u.stateNode)[ur]=u,h[Ed]=v,d){case"dialog":Fn("cancel",h),Fn("close",h);break;case"iframe":case"object":case"embed":Fn("load",h);break;case"video":case"audio":for(a=0;a<vd.length;a++)Fn(vd[a],h);break;case"source":Fn("error",h);break;case"img":case"image":case"link":Fn("error",h),Fn("load",h);break;case"details":Fn("toggle",h);break;case"input":gu(h,v),Fn("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Fn("invalid",h);break;case"textarea":Vf(h,v),Fn("invalid",h)}for(var S in ll(d,v),a=null,v)v.hasOwnProperty(S)&&(m=v[S],"children"===S?"string"==typeof m?h.textContent!==m&&(a=["children",m]):"number"==typeof m&&h.textContent!==""+m&&(a=["children",""+m]):de.hasOwnProperty(S)&&null!=m&&"onScroll"===S&&Fn("scroll",h));switch(d){case"input":yo(h),vs(h,v,!0);break;case"textarea":yo(h),Jc(h);break;case"select":case"option":break;default:"function"==typeof v.onClick&&(h.onclick=Sd)}u.updateQueue=h=a,null!==h&&(u.flags|=4)}else{switch(S=9===m.nodeType?m:m.ownerDocument,a===Zc_html&&(a=Xc(d)),a===Zc_html?"script"===d?((a=S.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):"string"==typeof h.is?a=S.createElement(d,{is:h.is}):(a=S.createElement(d),"select"===d&&(S=a,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):a=S.createElementNS(a,d),a[ur]=u,a[Ed]=h,om(a,u),u.stateNode=a,S=ul(d,h),d){case"dialog":Fn("cancel",a),Fn("close",a),m=h;break;case"iframe":case"object":case"embed":Fn("load",a),m=h;break;case"video":case"audio":for(m=0;m<vd.length;m++)Fn(vd[m],a);m=h;break;case"source":Fn("error",a),m=h;break;case"img":case"image":case"link":Fn("error",a),Fn("load",a),m=h;break;case"details":Fn("toggle",a),m=h;break;case"input":gu(a,h),m=ys(a,h),Fn("invalid",a);break;case"option":m=yu(a,h);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},m=U({},h,{value:void 0}),Fn("invalid",a);break;case"textarea":Vf(a,h),m=Yc(a,h),Fn("invalid",a);break;default:m=h}ll(d,m);var x=m;for(v in x)if(x.hasOwnProperty(v)){var V=x[v];"style"===v?al(a,V):"dangerouslySetInnerHTML"===v?null!=(V=V?V.__html:void 0)&&td(a,V):"children"===v?"string"==typeof V?("textarea"!==d||""!==V)&&ol(a,V):"number"==typeof V&&ol(a,""+V):"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&"autoFocus"!==v&&(de.hasOwnProperty(v)?null!=V&&"onScroll"===v&&Fn("scroll",a):null!=V&&te(a,v,V,S))}switch(d){case"input":yo(a),vs(a,h,!1);break;case"textarea":yo(a),Jc(a);break;case"option":null!=h.value&&a.setAttribute("value",""+Ie(h.value));break;case"select":a.multiple=!!h.multiple,null!=(v=h.value)?Fi(a,!!h.multiple,v,!1):null!=h.defaultValue&&Fi(a,!!h.multiple,h.defaultValue,!0);break;default:"function"==typeof m.onClick&&(a.onclick=Sd)}bi(d,h)&&(u.flags|=4)}null!==u.ref&&(u.flags|=128)}return null;case 6:if(a&&null!=u.stateNode)Xu(0,u,a.memoizedProps,h);else{if("string"!=typeof h&&null===u.stateNode)throw Error(O(166));d=Hi(kl.current),Hi(wi.current),va(u)?(d=u.memoizedProps,(h=u.stateNode)[ur]=u,h.nodeValue!==d&&(u.flags|=4)):((h=(9===d.nodeType?d:d.ownerDocument).createTextNode(h))[ur]=u,u.stateNode=h)}return null;case 13:return kn(nr),h=u.memoizedState,0!=(64&u.flags)?(u.lanes=d,u):(h=null!==h,d=!1,null===a?void 0!==u.memoizedProps.fallback&&va(u):d=null!==a.memoizedState,h&&!d&&0!=(2&u.mode)&&(null===a&&!0!==u.memoizedProps.unstable_avoidThisFallback||0!=(1&nr.current)?0===Lr&&(Lr=3):((0===Lr||3===Lr)&&(Lr=4),null===Gr||0==(134217727&ic)&&0==(134217727&oc)||Ql(Gr,Wr))),(h||d)&&(u.flags|=4),null);case 4:return so(),null===a&&bs(u.stateNode.containerInfo),null;case 10:return On(u),null;case 19:if(kn(nr),null===(h=u.memoizedState))return null;if(v=0!=(64&u.flags),null===(S=h.rendering))if(v)Ld(h,!1);else{if(0!==Lr||null!==a&&0!=(64&a.flags))for(a=u.child;null!==a;){if(null!==(S=Qu(a))){for(u.flags|=64,Ld(h,!1),null!==(v=S.updateQueue)&&(u.updateQueue=v,u.flags|=4),null===h.lastEffect&&(u.firstEffect=null),u.lastEffect=h.lastEffect,h=d,d=u.child;null!==d;)a=h,(v=d).flags&=2,v.nextEffect=null,v.firstEffect=null,v.lastEffect=null,null===(S=v.alternate)?(v.childLanes=0,v.lanes=a,v.child=null,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,v.dependencies=null===(a=S.dependencies)?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return tr(nr,1&nr.current|2),u.child}a=a.sibling}null!==h.tail&&Fr()>Kl&&(u.flags|=64,v=!0,Ld(h,!1),u.lanes=33554432)}else{if(!v)if(null!==(a=Qu(S))){if(u.flags|=64,v=!0,null!==(d=a.updateQueue)&&(u.updateQueue=d,u.flags|=4),Ld(h,!0),null===h.tail&&"hidden"===h.tailMode&&!S.alternate&&!Cr)return null!==(u=u.lastEffect=h.lastEffect)&&(u.nextEffect=null),null}else 2*Fr()-h.renderingStartTime>Kl&&1073741824!==d&&(u.flags|=64,v=!0,Ld(h,!1),u.lanes=33554432);h.isBackwards?(S.sibling=u.child,u.child=S):(null!==(d=h.last)?d.sibling=S:u.child=S,h.last=S)}return null!==h.tail?(h.rendering=d=h.tail,h.tail=d.sibling,h.lastEffect=u.lastEffect,h.renderingStartTime=Fr(),d.sibling=null,u=nr.current,tr(nr,v?1&u|2:1&u),d):null;case 23:case 24:return Vp(),null!==a&&null!==a.memoizedState!=(null!==u.memoizedState)&&"unstable-defer-without-hiding"!==h.mode&&(u.flags|=4),null}throw Error(O(156,u.tag))}function Dp(a){switch(a.tag){case 1:li(a.type)&&pe();var u=a.flags;return 4096&u?(a.flags=-4097&u|64,a):null;case 3:if(so(),kn(ai),kn(Hr),Rd(),0!=(64&(u=a.flags)))throw Error(O(285));return a.flags=-4097&u|64,a;case 5:return Ol(a),null;case 13:return kn(nr),4096&(u=a.flags)?(a.flags=-4097&u|64,a):null;case 19:return kn(nr),null;case 4:return so(),null;case 10:return On(a),null;case 23:case 24:return Vp(),null;default:return null}}function Wl(a,u){try{var d="",h=u;do{d+=Dn(h),h=h.return}while(h);var m=d}catch(v){m="\nError generating stack: "+v.message+"\n"+v.stack}return{value:a,source:u,stack:m}}function Tp(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}om=function(a,u){for(var d=u.child;null!==d;){if(5===d.tag||6===d.tag)a.appendChild(d.stateNode);else if(4!==d.tag&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===u)break;for(;null===d.sibling;){if(null===d.return||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Fd=function(a,u,d,h){var m=a.memoizedProps;if(m!==h){a=u.stateNode,Hi(wi.current);var S,v=null;switch(d){case"input":m=ys(a,m),h=ys(a,h),v=[];break;case"option":m=yu(a,m),h=yu(a,h),v=[];break;case"select":m=U({},m,{value:void 0}),h=U({},h,{value:void 0}),v=[];break;case"textarea":m=Yc(a,m),h=Yc(a,h),v=[];break;default:"function"!=typeof m.onClick&&"function"==typeof h.onClick&&(a.onclick=Sd)}for(re in ll(d,h),d=null,m)if(!h.hasOwnProperty(re)&&m.hasOwnProperty(re)&&null!=m[re])if("style"===re){var x=m[re];for(S in x)x.hasOwnProperty(S)&&(d||(d={}),d[S]="")}else"dangerouslySetInnerHTML"!==re&&"children"!==re&&"suppressContentEditableWarning"!==re&&"suppressHydrationWarning"!==re&&"autoFocus"!==re&&(de.hasOwnProperty(re)?v||(v=[]):(v=v||[]).push(re,null));for(re in h){var V=h[re];if(x=m?.[re],h.hasOwnProperty(re)&&V!==x&&(null!=V||null!=x))if("style"===re)if(x){for(S in x)!x.hasOwnProperty(S)||V&&V.hasOwnProperty(S)||(d||(d={}),d[S]="");for(S in V)V.hasOwnProperty(S)&&x[S]!==V[S]&&(d||(d={}),d[S]=V[S])}else d||(v||(v=[]),v.push(re,d)),d=V;else"dangerouslySetInnerHTML"===re?(x=x?x.__html:void 0,null!=(V=V?V.__html:void 0)&&x!==V&&(v=v||[]).push(re,V)):"children"===re?"string"!=typeof V&&"number"!=typeof V||(v=v||[]).push(re,""+V):"suppressContentEditableWarning"!==re&&"suppressHydrationWarning"!==re&&(de.hasOwnProperty(re)?(null!=V&&"onScroll"===re&&Fn("scroll",a),v||x===V||(v=[])):"object"==typeof V&&null!==V&&V.$$typeof===ae?V.toString():(v=v||[]).push(re,V))}d&&(v=v||[]).push("style",d);var re=v;(u.updateQueue=re)&&(u.flags|=4)}},Xu=function(a,u,d,h){d!==h&&(u.flags|=4)};var A_="function"==typeof WeakMap?WeakMap:Map;function sm(a,u,d){(d=ro(-1,d)).tag=3,d.payload={element:null};var h=u.value;return d.callback=function(){sc||(sc=!0,lm=h),Tp(0,u)},d}function xp(a,u,d){(d=ro(-1,d)).tag=3;var h=a.type.getDerivedStateFromError;if("function"==typeof h){var m=u.value;d.payload=function(){return Tp(0,u),h(m)}}var v=a.stateNode;return null!==v&&"function"==typeof v.componentDidCatch&&(d.callback=function(){"function"!=typeof h&&(null===ao?ao=new Set([this]):ao.add(this),Tp(0,u));var S=u.stack;this.componentDidCatch(u.value,{componentStack:null!==S?S:""})}),d}var tc="function"==typeof WeakSet?WeakSet:Set;function wa(a){var u=a.ref;if(null!==u)if("function"==typeof u)try{u(null)}catch(d){Ls(a,d)}else u.current=null}function I_(a,u){switch(u.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&u.flags&&null!==a){var d=a.memoizedProps,h=a.memoizedState;u=(a=u.stateNode).getSnapshotBeforeUpdate(u.elementType===u.type?d:Bi(u.type,d),h),a.__reactInternalSnapshotBeforeUpdate=u}return;case 3:return void(256&u.flags&&ip(u.stateNode.containerInfo))}throw Error(O(163))}function Oe(a,u,d){switch(d.tag){case 0:case 11:case 15:case 22:if(null!==(u=null!==(u=d.updateQueue)?u.lastEffect:null)){a=u=u.next;do{if(3==(3&a.tag)){var h=a.create;a.destroy=h()}a=a.next}while(a!==u)}if(null!==(u=null!==(u=d.updateQueue)?u.lastEffect:null)){a=u=u.next;do{var m=a;h=m.next,0!=(4&(m=m.tag))&&0!=(1&m)&&(zp(d,a),k_(d,a)),a=h}while(a!==u)}return;case 1:return a=d.stateNode,4&d.flags&&(null===u?a.componentDidMount():(h=d.elementType===d.type?u.memoizedProps:Bi(d.type,u.memoizedProps),a.componentDidUpdate(h,u.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),void(null!==(u=d.updateQueue)&&cp(d,u,a));case 3:if(null!==(u=d.updateQueue)){if(a=null,null!==d.child)switch(d.child.tag){case 5:case 1:a=d.child.stateNode}cp(d,u,a)}return;case 5:return a=d.stateNode,void(null===u&&4&d.flags&&bi(d.type,d.memoizedProps)&&a.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===d.memoizedState&&(d=d.alternate,null!==d&&(d=d.memoizedState,null!==d&&(d=d.dehydrated,null!==d&&ad(d)))))}throw Error(O(163))}function Mp(a,u){for(var d=a;;){if(5===d.tag){var h=d.stateNode;if(u)"function"==typeof(h=h.style).setProperty?h.setProperty("display","none","important"):h.display="none";else{h=d.stateNode;var m=d.memoizedProps.style;m=null!=m&&m.hasOwnProperty("display")?m.display:null,h.style.display=Bf("display",m)}}else if(6===d.tag)d.stateNode.nodeValue=u?"":d.memoizedProps;else if((23!==d.tag&&24!==d.tag||null===d.memoizedState||d===a)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===a)break;for(;null===d.sibling;){if(null===d.return||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function Un(a,u){if(to&&"function"==typeof to.onCommitFiberUnmount)try{to.onCommitFiberUnmount(Dd,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(a=u.updateQueue)&&null!==(a=a.lastEffect)){var d=a=a.next;do{var h=d,m=h.destroy;if(h=h.tag,void 0!==m)if(0!=(4&h))zp(u,d);else{h=u;try{m()}catch(v){Ls(h,v)}}d=d.next}while(d!==a)}break;case 1:if(wa(u),"function"==typeof(a=u.stateNode).componentWillUnmount)try{a.props=u.memoizedProps,a.state=u.memoizedState,a.componentWillUnmount()}catch(v){Ls(u,v)}break;case 5:wa(u);break;case 4:jd(a,u)}}function $d(a){a.alternate=null,a.child=null,a.dependencies=null,a.firstEffect=null,a.lastEffect=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.return=null,a.updateQueue=null}function ql(a){return 5===a.tag||3===a.tag||4===a.tag}function am(a){e:{for(var u=a.return;null!==u;){if(ql(u))break e;u=u.return}throw Error(O(160))}var d=u;switch(u=d.stateNode,d.tag){case 5:var h=!1;break;case 3:case 4:u=u.containerInfo,h=!0;break;default:throw Error(O(161))}16&d.flags&&(ol(u,""),d.flags&=-17);e:t:for(d=a;;){for(;null===d.sibling;){if(null===d.return||ql(d.return)){d=null;break e}d=d.return}for(d.sibling.return=d.return,d=d.sibling;5!==d.tag&&6!==d.tag&&18!==d.tag;){if(2&d.flags||null===d.child||4===d.tag)continue t;d.child.return=d,d=d.child}if(!(2&d.flags)){d=d.stateNode;break e}}h?Ap(a,d,u):Ip(a,d,u)}function Ap(a,u,d){var h=a.tag,m=5===h||6===h;if(m)a=m?a.stateNode:a.stateNode.instance,u?8===d.nodeType?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(8===d.nodeType?(u=d.parentNode).insertBefore(a,d):(u=d).appendChild(a),null!=(d=d._reactRootContainer)||null!==u.onclick||(u.onclick=Sd));else if(4!==h&&null!==(a=a.child))for(Ap(a,u,d),a=a.sibling;null!==a;)Ap(a,u,d),a=a.sibling}function Ip(a,u,d){var h=a.tag,m=5===h||6===h;if(m)a=m?a.stateNode:a.stateNode.instance,u?d.insertBefore(a,u):d.appendChild(a);else if(4!==h&&null!==(a=a.child))for(Ip(a,u,d),a=a.sibling;null!==a;)Ip(a,u,d),a=a.sibling}function jd(a,u){for(var m,v,d=u,h=!1;;){if(!h){h=d.return;e:for(;;){if(null===h)throw Error(O(160));switch(m=h.stateNode,h.tag){case 5:v=!1;break e;case 3:case 4:m=m.containerInfo,v=!0;break e}h=h.return}h=!0}if(5===d.tag||6===d.tag){e:for(var S=a,x=d,V=x;;)if(Un(S,V),null!==V.child&&4!==V.tag)V.child.return=V,V=V.child;else{if(V===x)break e;for(;null===V.sibling;){if(null===V.return||V.return===x)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}v?(x=d.stateNode,8===(S=m).nodeType?S.parentNode.removeChild(x):S.removeChild(x)):m.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){m=d.stateNode.containerInfo,v=!0,d.child.return=d,d=d.child;continue}}else if(Un(a,d),null!==d.child){d.child.return=d,d=d.child;continue}if(d===u)break;for(;null===d.sibling;){if(null===d.return||d.return===u)return;4===(d=d.return).tag&&(h=!1)}d.sibling.return=d.return,d=d.sibling}}function Da(a,u){switch(u.tag){case 0:case 11:case 14:case 15:case 22:var d=u.updateQueue;if(null!==(d=null!==d?d.lastEffect:null)){var h=d=d.next;do{3==(3&h.tag)&&(a=h.destroy,h.destroy=void 0,void 0!==a&&a()),h=h.next}while(h!==d)}return;case 1:case 12:case 17:return;case 5:if(null!=(d=u.stateNode)){h=u.memoizedProps;var m=null!==a?a.memoizedProps:h;a=u.type;var v=u.updateQueue;if(u.updateQueue=null,null!==v){for(d[Ed]=h,"input"===a&&"radio"===h.type&&null!=h.name&&qc(d,h),ul(a,m),u=ul(a,h),m=0;m<v.length;m+=2){var S=v[m],x=v[m+1];"style"===S?al(d,x):"dangerouslySetInnerHTML"===S?td(d,x):"children"===S?ol(d,x):te(d,S,x,u)}switch(a){case"input":Kc(d,h);break;case"textarea":vo(d,h);break;case"select":a=d._wrapperState.wasMultiple,d._wrapperState.wasMultiple=!!h.multiple,null!=(v=h.value)?Fi(d,!!h.multiple,v,!1):a!==!!h.multiple&&(null!=h.defaultValue?Fi(d,!!h.multiple,h.defaultValue,!0):Fi(d,!!h.multiple,h.multiple?[]:"",!1))}}}return;case 6:if(null===u.stateNode)throw Error(O(162));return void(u.stateNode.nodeValue=u.memoizedProps);case 3:return void((d=u.stateNode).hydrate&&(d.hydrate=!1,ad(d.containerInfo)));case 13:return null!==u.memoizedState&&(Np=Fr(),Mp(u.child,!0)),void Pp(u);case 19:return void Pp(u);case 23:case 24:return void Mp(u,null!==u.memoizedState)}throw Error(O(163))}function Pp(a){var u=a.updateQueue;if(null!==u){a.updateQueue=null;var d=a.stateNode;null===d&&(d=a.stateNode=new tc),u.forEach(function(h){var m=N_.bind(null,a,h);d.has(h)||(d.add(h),h.then(m,m))})}}function nc(a,u){return null!==a&&(null===(a=a.memoizedState)||null!==a.dehydrated)&&null!==(u=u.memoizedState)&&null===u.dehydrated}var P_=Math.ceil,rc=De.ReactCurrentDispatcher,Ta=De.ReactCurrentOwner,wt=0,Gr=null,Er=null,Wr=0,zi=0,xa=gt(0),Lr=0,Rp=null,Ma=0,ic=0,oc=0,kp=0,Op=null,Np=0,Kl=1/0;function Aa(){Kl=Fr()+500}var hm,ze=null,sc=!1,lm=null,ao=null,Ia=!1,ac=null,lc=90,uc=[],um=[],Os=null,Pa=0,cm=null,Fp=-1,Ns=0,Lp=0,Vd=null,Bd=!1;function ui(){return 0!=(48&wt)?Fr():-1!==Fp?Fp:Fp=Fr()}function Ao(a){if(0==(2&(a=a.mode)))return 1;if(0==(4&a))return 99===Ms()?1:2;if(0===Ns&&(Ns=Ma),0!==qg.transition){0!==Lp&&(Lp=null!==Op?Op.pendingLanes:0),a=Ns;var u=4186112&~Lp;return 0==(u&=-u)&&0==(u=(a=4186112&~a)&-a)&&(u=8192),u}return a=Ms(),a=zf(0!=(4&wt)&&98===a?12:a=function Nb(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(a),Ns)}function is(a,u,d){if(50<Pa)throw Pa=0,cm=null,Error(O(185));if(null===(a=cc(a,u)))return null;ud(a,u,d),a===Gr&&(oc|=u,4===Lr&&Ql(a,Wr));var h=Ms();1===u?0!=(8&wt)&&0==(48&wt)?$p(a):(Ti(a,d),0===wt&&(Aa(),no())):(0==(4&wt)||98!==h&&99!==h||(null===Os?Os=new Set([a]):Os.add(a)),Ti(a,d)),Op=a}function cc(a,u){a.lanes|=u;var d=a.alternate;for(null!==d&&(d.lanes|=u),d=a,a=a.return;null!==a;)a.childLanes|=u,null!==(d=a.alternate)&&(d.childLanes|=u),d=a,a=a.return;return 3===d.tag?d.stateNode:null}function Ti(a,u){for(var d=a.callbackNode,h=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes;0<S;){var x=31-qo(S),V=1<<x,re=v[x];-1===re?0!=(V&h)&&0==(V&m)||(re=u,un(V),v[x]=10<=Zt?re+250:6<=Zt?re+5e3:-1):re<=u&&(a.expiredLanes|=V),S&=~V}if(h=ld(a,a===Gr?Wr:0),u=Zt,0===h)null!==d&&(d!==ap&&Hu(d),a.callbackNode=null,a.callbackPriority=0);else{if(null!==d){if(a.callbackPriority===u)return;d!==ap&&Hu(d)}15===u?(d=$p.bind(null,a),null===es?(es=[d],Td=Uu(xr,lp)):es.push(d),d=ap):14===u?d=ga(99,$p.bind(null,a)):(d=function Fb(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(O(358,a))}}(u),d=ga(d,ei.bind(null,a))),a.callbackPriority=u,a.callbackNode=d}}function ei(a){if(Fp=-1,Lp=Ns=0,0!=(48&wt))throw Error(O(327));var u=a.callbackNode;if(Fs()&&a.callbackNode!==u)return null;var d=ld(a,a===Gr?Wr:0);if(0===d)return null;var h=d,m=wt;wt|=16;var v=dm();for((Gr!==a||Wr!==h)&&(Aa(),Yl(a,h));;)try{Up();break}catch(x){Bp(a,x)}if(To(),rc.current=v,wt=m,null!==Er?h=0:(Gr=null,Wr=0,h=Lr),0!=(Ma&oc))Yl(a,0);else if(0!==h){if(2===h&&(wt|=64,a.hydrate&&(a.hydrate=!1,ip(a.containerInfo)),0!==(d=nt(a))&&(h=dc(a,d))),1===h)throw u=Rp,Yl(a,0),Ql(a,d),Ti(a,Fr()),u;switch(a.finishedWork=a.current.alternate,a.finishedLanes=d,h){case 0:case 1:throw Error(O(345));case 2:case 5:Yn(a);break;case 3:if(Ql(a,d),(62914560&d)===d&&10<(h=Np+500-Fr())){if(0!==ld(a,0))break;if(((m=a.suspendedLanes)&d)!==d){ui(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=Bg(Yn.bind(null,a),h);break}Yn(a);break;case 4:if(Ql(a,d),(4186112&d)===d)break;for(h=a.eventTimes,m=-1;0<d;){var S=31-qo(d);v=1<<S,(S=h[S])>m&&(m=S),d&=~v}if(d=m,10<(d=(120>(d=Fr()-d)?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*P_(d/1960))-d)){a.timeoutHandle=Bg(Yn.bind(null,a),d);break}Yn(a);break;default:throw Error(O(329))}}return Ti(a,Fr()),a.callbackNode===u?ei.bind(null,a):null}function Ql(a,u){for(u&=~kp,a.suspendedLanes|=u&=~oc,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-qo(u),h=1<<d;a[d]=-1,u&=~h}}function $p(a){if(0!=(48&wt))throw Error(O(327));if(Fs(),a===Gr&&0!=(a.expiredLanes&Wr)){var u=Wr,d=dc(a,u);0!=(Ma&oc)&&(d=dc(a,u=ld(a,u)))}else d=dc(a,u=ld(a,0));if(0!==a.tag&&2===d&&(wt|=64,a.hydrate&&(a.hydrate=!1,ip(a.containerInfo)),0!==(u=nt(a))&&(d=dc(a,u))),1===d)throw d=Rp,Yl(a,0),Ql(a,u),Ti(a,Fr()),d;return a.finishedWork=a.current.alternate,a.finishedLanes=u,Yn(a),Ti(a,Fr()),null}function jp(a,u){var d=wt;wt|=1;try{return a(u)}finally{0===(wt=d)&&(Aa(),no())}}function Ud(a,u){var d=wt;wt&=-2,wt|=8;try{return a(u)}finally{0===(wt=d)&&(Aa(),no())}}function Hd(a,u){tr(xa,zi),zi|=u,Ma|=u}function Vp(){zi=xa.current,kn(xa)}function Yl(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(-1!==d&&(a.timeoutHandle=-1,rp(d)),null!==Er)for(d=Er.return;null!==d;){var h=d;switch(h.tag){case 1:null!=(h=h.type.childContextTypes)&&pe();break;case 3:so(),kn(ai),kn(Hr),Rd();break;case 5:Ol(h);break;case 4:so();break;case 13:case 19:kn(nr);break;case 10:On(h);break;case 23:case 24:Vp()}d=d.return}Gr=a,Er=$s(a.current,null),Wr=zi=Ma=u,Lr=0,Rp=null,kp=oc=ic=0}function Bp(a,u){for(;;){var d=Er;try{if(To(),$l.current=Kn,kd){for(var h=rr.memoizedState;null!==h;){var m=h.queue;null!==m&&(m.pending=null),h=h.next}kd=!1}if(jl=0,ir=Sr=rr=null,Vl=!1,Ta.current=null,null===d||null===d.return){Lr=1,Rp=u,Er=null;break}e:{var v=a,S=d.return,x=d,V=u;if(u=Wr,x.flags|=2048,x.firstEffect=x.lastEffect=null,null!==V&&"object"==typeof V&&"function"==typeof V.then){var re=V;if(0==(2&x.mode)){var Fe=x.alternate;Fe?(x.updateQueue=Fe.updateQueue,x.memoizedState=Fe.memoizedState,x.lanes=Fe.lanes):(x.updateQueue=null,x.memoizedState=null)}var kt=0!=(1&nr.current),Ce=S;do{var rt;if(rt=13===Ce.tag){var At=Ce.memoizedState;if(null!==At)rt=null!==At.dehydrated;else{var yt=Ce.memoizedProps;rt=void 0!==yt.fallback&&(!0!==yt.unstable_avoidThisFallback||!kt)}}if(rt){var q=Ce.updateQueue;if(null===q){var B=new Set;B.add(re),Ce.updateQueue=B}else q.add(re);if(0==(2&Ce.mode)){if(Ce.flags|=64,x.flags|=16384,x.flags&=-2981,1===x.tag)if(null===x.alternate)x.tag=17;else{var W=ro(-1,1);W.tag=2,io(x,W)}x.lanes|=1;break e}V=void 0,x=u;var ue=v.pingCache;if(null===ue?(ue=v.pingCache=new A_).set(re,V=new Set):void 0===(V=ue.get(re))&&ue.set(re,V=new Set),!V.has(x)){V.add(x);var he=pm.bind(null,v,re,x);re.then(he,he)}Ce.flags|=4096,Ce.lanes=u;break e}Ce=Ce.return}while(null!==Ce);V=Error((Ni(x.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Lr&&(Lr=2),V=Wl(V,x),Ce=S;do{switch(Ce.tag){case 3:v=V,Ce.flags|=4096,Ce.lanes|=u&=-u,Wu(Ce,sm(0,v,u));break e;case 1:v=V;var Tt=Ce.stateNode;if(0==(64&Ce.flags)&&("function"==typeof Ce.type.getDerivedStateFromError||null!==Tt&&"function"==typeof Tt.componentDidCatch&&(null===ao||!ao.has(Tt)))){Ce.flags|=4096,Ce.lanes|=u&=-u,Wu(Ce,xp(Ce,v,u));break e}}Ce=Ce.return}while(null!==Ce)}zd(d)}catch(jt){u=jt,Er===d&&null!==d&&(Er=d=d.return);continue}break}}function dm(){var a=rc.current;return rc.current=Kn,null===a?Kn:a}function dc(a,u){var d=wt;wt|=16;var h=dm();for(Gr===a&&Wr===u||Yl(a,u);;)try{ti();break}catch(m){Bp(a,m)}if(To(),wt=d,rc.current=h,null!==Er)throw Error(O(261));return Gr=null,Wr=0,Lr}function ti(){for(;null!==Er;)Hp(Er)}function Up(){for(;null!==Er&&!jb();)Hp(Er)}function Hp(a){var u=hm(a.alternate,a,zi);a.memoizedProps=a.pendingProps,null===u?zd(a):Er=u,Ta.current=null}function zd(a){var u=a;do{var d=u.alternate;if(a=u.return,0==(2048&u.flags)){if(null!==(d=ec(d,u,zi)))return void(Er=d);if(24!==(d=u).tag&&23!==d.tag||null===d.memoizedState||0!=(1073741824&zi)||0==(4&d.mode)){for(var h=0,m=d.child;null!==m;)h|=m.lanes|m.childLanes,m=m.sibling;d.childLanes=h}null!==a&&0==(2048&a.flags)&&(null===a.firstEffect&&(a.firstEffect=u.firstEffect),null!==u.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=u.firstEffect),a.lastEffect=u.lastEffect),1<u.flags&&(null!==a.lastEffect?a.lastEffect.nextEffect=u:a.firstEffect=u,a.lastEffect=u))}else{if(null!==(d=Dp(u)))return d.flags&=2047,void(Er=d);null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}if(null!==(u=u.sibling))return void(Er=u);Er=u=a}while(null!==u);0===Lr&&(Lr=5)}function Yn(a){var u=Ms();return As(99,fc.bind(null,a,u)),null}function fc(a,u){do{Fs()}while(null!==ac);if(0!=(48&wt))throw Error(O(327));var d=a.finishedWork;if(null===d)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(O(177));a.callbackNode=null;var h=d.lanes|d.childLanes,m=h,v=a.pendingLanes&~m;a.pendingLanes=m,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=m,a.mutableReadLanes&=m,a.entangledLanes&=m,m=a.entanglements;for(var S=a.eventTimes,x=a.expirationTimes;0<v;){var V=31-qo(v),re=1<<V;m[V]=0,S[V]=-1,x[V]=-1,v&=~re}if(null!==Os&&0==(24&h)&&Os.has(a)&&Os.delete(a),a===Gr&&(Er=Gr=null,Wr=0),1<d.flags?null!==d.lastEffect?(d.lastEffect.nextEffect=d,h=d.firstEffect):h=d:h=d.firstEffect,null!==h){if(m=wt,wt|=32,Ta.current=null,$u=xu,Fg(S=g_())){if("selectionStart"in S)x={start:S.selectionStart,end:S.selectionEnd};else if((re=(x=(x=S.ownerDocument)&&x.defaultView||window).getSelection&&x.getSelection())&&0!==re.rangeCount){x=re.anchorNode,v=re.anchorOffset,V=re.focusNode,re=re.focusOffset;var Fe=0,kt=-1,Ce=-1,rt=0,At=0,yt=S,q=null;t:for(;;){for(var B;yt!==x||0!==v&&3!==yt.nodeType||(kt=Fe+v),yt!==V||0!==re&&3!==yt.nodeType||(Ce=Fe+re),3===yt.nodeType&&(Fe+=yt.nodeValue.length),null!==(B=yt.firstChild);)q=yt,yt=B;for(;;){if(yt===S)break t;if(q===x&&++rt===v&&(kt=Fe),q===V&&++At===re&&(Ce=Fe),null!==(B=yt.nextSibling))break;q=(yt=q).parentNode}yt=B}x=-1===kt||-1===Ce?null:{start:kt,end:Ce}}else x=null;x=x||{start:0,end:0}}else x=null;np={focusedElem:S,selectionRange:x},xu=!1,Vd=null,Bd=!1,ze=h;do{try{fm()}catch(jt){if(null===ze)throw Error(O(330));Ls(ze,jt),ze=ze.nextEffect}}while(null!==ze);Vd=null,ze=h;do{try{for(S=a;null!==ze;){var W=ze.flags;if(16&W&&ol(ze.stateNode,""),128&W){var ue=ze.alternate;if(null!==ue){var he=ue.ref;null!==he&&("function"==typeof he?he(null):he.current=null)}}switch(1038&W){case 2:am(ze),ze.flags&=-3;break;case 6:am(ze),ze.flags&=-3,Da(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025,Da(ze.alternate,ze);break;case 4:Da(ze.alternate,ze);break;case 8:jd(S,x=ze);var Rt=x.alternate;$d(x),null!==Rt&&$d(Rt)}ze=ze.nextEffect}}catch(jt){if(null===ze)throw Error(O(330));Ls(ze,jt),ze=ze.nextEffect}}while(null!==ze);if(he=np,ue=g_(),S=he.selectionRange,ue!==(W=he.focusedElem)&&W&&W.ownerDocument&&h_(W.ownerDocument.documentElement,W)){for((null!==S&&Fg(W)&&(ue=S.start,void 0===(he=S.end)&&(he=ue),"selectionStart"in W?(W.selectionStart=ue,W.selectionEnd=Math.min(he,W.value.length)):(he=(ue=W.ownerDocument||document)&&ue.defaultView||window).getSelection&&(he=he.getSelection(),x=W.textContent.length,Rt=Math.min(S.start,x),S=void 0===S.end?Rt:Math.min(S.end,x),!he.extend&&Rt>S&&(x=S,S=Rt,Rt=x),x=p_(W,Rt),v=p_(W,S),x&&v&&(1!==he.rangeCount||he.anchorNode!==x.node||he.anchorOffset!==x.offset||he.focusNode!==v.node||he.focusOffset!==v.offset)&&((ue=ue.createRange()).setStart(x.node,x.offset),he.removeAllRanges(),Rt>S?(he.addRange(ue),he.extend(v.node,v.offset)):(ue.setEnd(v.node,v.offset),he.addRange(ue))))),ue=[],he=W);he=he.parentNode;)1===he.nodeType&&ue.push({element:he,left:he.scrollLeft,top:he.scrollTop});for("function"==typeof W.focus&&W.focus(),W=0;W<ue.length;W++)(he=ue[W]).element.scrollLeft=he.left,he.element.scrollTop=he.top}xu=!!$u,np=$u=null,a.current=d,ze=h;do{try{for(W=a;null!==ze;){var Ge=ze.flags;if(36&Ge&&Oe(W,ze.alternate,ze),128&Ge){ue=void 0;var Tt=ze.ref;if(null!==Tt)ue=ze.stateNode,"function"==typeof Tt?Tt(ue):Tt.current=ue}ze=ze.nextEffect}}catch(jt){if(null===ze)throw Error(O(330));Ls(ze,jt),ze=ze.nextEffect}}while(null!==ze);ze=null,Gg(),wt=m}else a.current=d;if(Ia)Ia=!1,ac=a,lc=u;else for(ze=h;null!==ze;)u=ze.nextEffect,ze.nextEffect=null,8&ze.flags&&((Ge=ze).sibling=null,Ge.stateNode=null),ze=u;if(0===(h=a.pendingLanes)&&(ao=null),1===h?a===cm?Pa++:(Pa=0,cm=a):Pa=0,d=d.stateNode,to&&"function"==typeof to.onCommitFiberRoot)try{to.onCommitFiberRoot(Dd,d,void 0,64==(64&d.current.flags))}catch{}if(Ti(a,Fr()),sc)throw sc=!1,a=lm,lm=null,a;return 0!=(8&wt)||no(),null}function fm(){for(;null!==ze;){var a=ze.alternate;Bd||null===Vd||(0!=(8&ze.flags)?sd(ze,Vd)&&(Bd=!0):13===ze.tag&&nc(a,ze)&&sd(ze,Vd)&&(Bd=!0));var u=ze.flags;0!=(256&u)&&I_(a,ze),0==(512&u)||Ia||(Ia=!0,ga(97,function(){return Fs(),null})),ze=ze.nextEffect}}function Fs(){if(90!==lc){var a=97<lc?97:lc;return lc=90,As(a,O_)}return!1}function k_(a,u){uc.push(u,a),Ia||(Ia=!0,ga(97,function(){return Fs(),null}))}function zp(a,u){um.push(u,a),Ia||(Ia=!0,ga(97,function(){return Fs(),null}))}function O_(){if(null===ac)return!1;var a=ac;if(ac=null,0!=(48&wt))throw Error(O(331));var u=wt;wt|=32;var d=um;um=[];for(var h=0;h<d.length;h+=2){var m=d[h],v=d[h+1],S=m.destroy;if(m.destroy=void 0,"function"==typeof S)try{S()}catch(V){if(null===v)throw Error(O(330));Ls(v,V)}}for(d=uc,uc=[],h=0;h<d.length;h+=2){m=d[h],v=d[h+1];try{var x=m.create;m.destroy=x()}catch(V){if(null===v)throw Error(O(330));Ls(v,V)}}for(x=a.current.firstEffect;null!==x;)a=x.nextEffect,x.nextEffect=null,8&x.flags&&(x.sibling=null,x.stateNode=null),x=a;return wt=u,no(),!0}function Gp(a,u,d){io(a,u=sm(0,u=Wl(d,u),1)),u=ui(),null!==(a=cc(a,1))&&(ud(a,1,u),Ti(a,u))}function Ls(a,u){if(3===a.tag)Gp(a,a,u);else for(var d=a.return;null!==d;){if(3===d.tag){Gp(d,a,u);break}if(1===d.tag){var h=d.stateNode;if("function"==typeof d.type.getDerivedStateFromError||"function"==typeof h.componentDidCatch&&(null===ao||!ao.has(h))){var m=xp(d,a=Wl(u,a),1);if(io(d,m),m=ui(),null!==(d=cc(d,1)))ud(d,1,m),Ti(d,m);else if("function"==typeof h.componentDidCatch&&(null===ao||!ao.has(h)))try{h.componentDidCatch(u,a)}catch{}break}}d=d.return}}function pm(a,u,d){var h=a.pingCache;null!==h&&h.delete(u),u=ui(),a.pingedLanes|=a.suspendedLanes&d,Gr===a&&(Wr&d)===d&&(4===Lr||3===Lr&&(62914560&Wr)===Wr&&500>Fr()-Np?Yl(a,0):kp|=d),Ti(a,u)}function N_(a,u){var d=a.stateNode;null!==d&&d.delete(u),0==(u=0)&&(0==(2&(u=a.mode))?u=1:0==(4&u)?u=99===Ms()?1:2:(0===Ns&&(Ns=Ma),0===(u=yr(62914560&~Ns))&&(u=4194304))),d=ui(),null!==(a=cc(a,u))&&(ud(a,u,d),Ti(a,d))}function Wp(a,u,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(a,u,d,h){return new Wp(a,u,d,h)}function qp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function $s(a,u){var d=a.alternate;return null===d?((d=ci(a.tag,u,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null),d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,d.dependencies=null===(u=a.dependencies)?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function js(a,u,d,h,m,v){var S=2;if(h=a,"function"==typeof a)qp(a)&&(S=1);else if("string"==typeof a)S=5;else e:switch(a){case We:return Jl(d.children,m,v,u);case Ae:S=8,m|=16;break;case Le:S=8,m|=1;break;case xe:return(a=ci(12,d,u,8|m)).elementType=xe,a.type=xe,a.lanes=v,a;case Wt:return(a=ci(13,d,u,m)).type=Wt,a.elementType=Wt,a.lanes=v,a;case $t:return(a=ci(19,d,u,m)).elementType=$t,a.lanes=v,a;case ve:return Kp(d,m,v,u);case tt:return(a=ci(24,d,u,m)).elementType=tt,a.lanes=v,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case lt:S=10;break e;case Ct:S=9;break e;case dt:S=11;break e;case on:S=14;break e;case Z:S=16,h=null;break e;case ie:S=22;break e}throw Error(O(130,null==a?a:typeof a,""))}return(u=ci(S,d,u,m)).elementType=a,u.type=h,u.lanes=v,u}function Jl(a,u,d,h){return(a=ci(7,a,h,u)).lanes=d,a}function Kp(a,u,d,h){return(a=ci(23,a,h,u)).elementType=ve,a.lanes=d,a}function pc(a,u,d){return(a=ci(6,a,null,u)).lanes=d,a}function hc(a,u,d){return(u=ci(4,null!==a.children?a.children:[],a.key,u)).lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function mm(a,u,d){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=d,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.mutableSourceEagerHydrationData=null}function Ub(a,u,d){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ke,key:null==h?null:""+h,children:a,containerInfo:u,implementation:d}}function os(a,u,d,h){var m=u.current,v=ui(),S=Ao(m);e:if(d){t:{if(Ho(d=d._reactInternals)!==d||1!==d.tag)throw Error(O(170));var x=d;do{switch(x.tag){case 3:x=x.stateNode.context;break t;case 1:if(li(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break t}}x=x.return}while(null!==x);throw Error(O(171))}if(1===d.tag){var V=d.type;if(li(V)){d=cr(d,V,x);break e}}d=x}else d=Ts;return null===u.context?u.context=d:u.pendingContext=d,(u=ro(v,S)).payload={element:a},null!==(h=void 0===h?null:h)&&(u.callback=h),io(m,u),is(m,S,v),S}function gc(a){return(a=a.current).child?a.child.stateNode:null}function Qp(a,u){if(null!==(a=a.memoizedState)&&null!==a.dehydrated){var d=a.retryLane;a.retryLane=0!==d&&d<u?d:u}}function Yp(a,u){Qp(a,u),(a=a.alternate)&&Qp(a,u)}function Zp(a,u,d){var h=null!=d&&null!=d.hydrationOptions&&d.hydrationOptions.mutableSources||null;if(d=new mm(a,u,null!=d&&!0===d.hydrate),u=ci(3,null,null,2===u?7:1===u?3:0),d.current=u,u.stateNode=d,up(u),a[ws]=d.current,bs(8===a.nodeType?a.parentNode:a),h)for(a=0;a<h.length;a++){var m=(u=h[a])._getVersion;m=m(u._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[u,m]:d.mutableSourceEagerHydrationData.push(u,m)}this._internalRoot=d}function mc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Gd(a,u,d,h,m){var v=d._reactRootContainer;if(v){var S=v._internalRoot;if("function"==typeof m){var x=m;m=function(){var re=gc(S);x.call(re)}}os(u,S,a,m)}else{if(v=d._reactRootContainer=function F_(a,u){if(u||(u=!(!(u=a?9===a.nodeType?a.documentElement:a.firstChild:null)||1!==u.nodeType||!u.hasAttribute("data-reactroot"))),!u)for(var d;d=a.lastChild;)a.removeChild(d);return new Zp(a,0,u?{hydrate:!0}:void 0)}(d,h),S=v._internalRoot,"function"==typeof m){var V=m;m=function(){var re=gc(S);V.call(re)}}Ud(function(){os(u,S,a,m)})}return gc(S)}function ym(a,u){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!mc(u))throw Error(O(200));return Ub(a,u,null,d)}hm=function(a,u,d){var h=u.lanes;if(null!==a)if(a.memoizedProps!==u.pendingProps||ai.current)Bn=!0;else{if(0==(d&h)){switch(Bn=!1,u.tag){case 3:Sp(u),Fl();break;case 5:Id(u);break;case 1:li(u.type)&&Wn(u);break;case 4:pp(u,u.stateNode.containerInfo);break;case 10:h=u.memoizedProps.value;var m=u.type._context;tr(xl,m._currentValue),m._currentValue=h;break;case 13:if(null!==u.memoizedState)return 0!=(d&u.child.childLanes)?Nd(a,u,d):(tr(nr,1&nr.current),null!==(u=rs(a,u,d))?u.sibling:null);tr(nr,1&nr.current);break;case 19:if(h=0!=(d&u.childLanes),0!=(64&a.flags)){if(h)return im(a,u,d);u.flags|=64}if(null!==(m=u.memoizedState)&&(m.rendering=null,m.tail=null,m.lastEffect=null),tr(nr,nr.current),h)break;return null;case 23:case 24:return u.lanes=0,Od(a,u,d)}return rs(a,u,d)}Bn=0!=(16384&a.flags)}else Bn=!1;switch(u.lanes=0,u.tag){case 2:if(h=u.type,null!==a&&(a.alternate=null,u.alternate=null,u.flags|=2),a=u.pendingProps,m=Tl(u,Hr.current),Al(u,d),m=hp(null,u,h,a,m,d),u.flags|=1,"object"==typeof m&&null!==m&&"function"==typeof m.render&&void 0===m.$$typeof){if(u.tag=1,u.memoizedState=null,u.updateQueue=null,li(h)){var v=!0;Wn(u)}else v=!1;u.memoizedState=null!=m.state?m.state:null,up(u);var S=h.getDerivedStateFromProps;"function"==typeof S&&oo(u,h,S,a),m.updater=Ps,u.stateNode=m,m._reactInternals=u,qu(u,h,a,d),u=nm(null,u,h,!0,v,d)}else u.tag=0,Qn(null,u,m,d),u=u.child;return u;case 16:m=u.elementType;e:{switch(null!==a&&(a.alternate=null,u.alternate=null,u.flags|=2),a=u.pendingProps,m=(v=m._init)(m._payload),u.type=m,v=u.tag=function gm(a){if("function"==typeof a)return qp(a)?1:0;if(null!=a){if((a=a.$$typeof)===dt)return 11;if(a===on)return 14}return 2}(m),a=Bi(m,a),v){case 0:u=Cp(null,u,m,a,d);break e;case 1:u=x_(null,u,m,a,d);break e;case 11:u=_p(null,u,m,a,d);break e;case 14:u=Zu(null,u,m,Bi(m.type,a),h,d);break e}throw Error(O(306,m,""))}return u;case 0:return m=u.pendingProps,Cp(a,u,h=u.type,m=u.elementType===h?m:Bi(h,m),d);case 1:return m=u.pendingProps,x_(a,u,h=u.type,m=u.elementType===h?m:Bi(h,m),d);case 3:if(Sp(u),h=u.updateQueue,null===a||null===h)throw Error(O(282));if(h=u.pendingProps,m=null!==(m=u.memoizedState)?m.element:null,Kg(a,u),ma(u,h,null,d),(h=u.memoizedState.element)===m)Fl(),u=rs(a,u,d);else{if((v=(m=u.stateNode).hydrate)&&(Rs=Vu(u.stateNode.containerInfo.firstChild),xo=u,v=Cr=!0),v){if(null!=(a=m.mutableSourceEagerHydrationData))for(m=0;m<a.length;m+=2)(v=a[m])._workInProgressVersionPrimary=a[m+1],Ll.push(v);for(d=fp(u,null,h,d),u.child=d;d;)d.flags=-3&d.flags|1024,d=d.sibling}else Qn(a,u,h,d),Fl();u=u.child}return u;case 5:return Id(u),null===a&&Yu(u),v=null!==a?a.memoizedProps:null,S=(m=u.pendingProps).children,ju(h=u.type,m)?S=null:null!==v&&ju(h,v)&&(u.flags|=16),tm(a,u),Qn(a,u,S,d),u.child;case 6:return null===a&&Yu(u),null;case 13:return Nd(a,u,d);case 4:return pp(u,u.stateNode.containerInfo),h=u.pendingProps,null===a?u.child=ya(u,null,h,d):Qn(a,u,h,d),u.child;case 11:return m=u.pendingProps,_p(a,u,h=u.type,m=u.elementType===h?m:Bi(h,m),d);case 7:return Qn(a,u,u.pendingProps,d),u.child;case 8:case 12:return Qn(a,u,u.pendingProps.children,d),u.child;case 10:e:{h=u.type._context,S=u.memoizedProps,v=(m=u.pendingProps).value;var x=u.type._context;if(tr(xl,x._currentValue),x._currentValue=v,null!==S)if(0==(v=eo(x=S.value,v)?0:0|("function"==typeof h._calculateChangedBits?h._calculateChangedBits(x,v):1073741823))){if(S.children===m.children&&!ai.current){u=rs(a,u,d);break e}}else for(null!==(x=u.child)&&(x.return=u);null!==x;){var V=x.dependencies;if(null!==V){S=x.child;for(var re=V.firstContext;null!==re;){if(re.context===h&&0!=(re.observedBits&v)){1===x.tag&&((re=ro(-1,d&-d)).tag=2,io(x,re)),x.lanes|=d,null!==(re=x.alternate)&&(re.lanes|=d),Gu(x.return,d),V.lanes|=d;break}re=re.next}}else S=10===x.tag&&x.type===u.type?null:x.child;if(null!==S)S.return=x;else for(S=x;null!==S;){if(S===u){S=null;break}if(null!==(x=S.sibling)){x.return=S.return,S=x;break}S=S.return}x=S}Qn(a,u,m.children,d),u=u.child}return u;case 9:return m=u.type,h=(v=u.pendingProps).children,Al(u,d),h=h(m=Ui(m,v.unstable_observedBits)),u.flags|=1,Qn(a,u,h,d),u.child;case 14:return v=Bi(m=u.type,u.pendingProps),Zu(a,u,m,v=Bi(m.type,v),h,d);case 15:return Gl(a,u,u.type,u.pendingProps,h,d);case 17:return m=u.pendingProps,m=u.elementType===(h=u.type)?m:Bi(h,m),null!==a&&(a.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,li(h)?(a=!0,Wn(u)):a=!1,Al(u,d),Jg(u,h,m),qu(u,h,m,d),nm(null,u,h,!0,a,d);case 19:return im(a,u,d);case 23:case 24:return Od(a,u,d)}throw Error(O(156,u.tag))},Zp.prototype.render=function(a){os(a,this._internalRoot,null,null)},Zp.prototype.unmount=function(){var a=this._internalRoot,u=a.containerInfo;os(null,a,null,function(){u[ws]=null})},fl=function(a){13===a.tag&&(is(a,4,ui()),Yp(a,4))},pl=function(a){13===a.tag&&(is(a,67108864,ui()),Yp(a,67108864))},Cs=function(a){if(13===a.tag){var u=ui(),d=Ao(a);is(a,d,u),Yp(a,d)}},Te=function(a,u){return u()},vu=function(a,u,d){switch(u){case"input":if(Kc(a,d),u=d.name,"radio"===d.type&&null!=u){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var h=d[u];if(h!==a&&h.form===a.form){var m=bd(h);if(!m)throw Error(O(90));rl(h),Kc(h,m)}}}break;case"textarea":vo(a,d);break;case"select":null!=(u=d.value)&&Fi(a,!!d.multiple,u,!1)}},Su=jp,rd=function(a,u,d,h,m){var v=wt;wt|=4;try{return As(98,a.bind(null,u,d,h,m))}finally{0===(wt=v)&&(Aa(),no())}},Eu=function(){0==(49&wt)&&(function R_(){if(null!==Os){var a=Os;Os=null,a.forEach(function(u){u.expiredLanes|=24&u.pendingLanes,Ti(u,Fr())})}no()}(),Fs())},id=function(a,u){var d=wt;wt|=2;try{return a(u)}finally{0===(wt=d)&&(Aa(),no())}};var L_={Events:[Bu,Zo,bd,Cu,Br,Fs,{current:!1}]},Zl={findFiberByHostInstance:_r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Xp={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return null===(a=Hf(a))?null:a.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||function Jp(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Dd=yc.inject(Xp),to=yc}catch{}}F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_,F.createPortal=ym,F.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var u=a._reactInternals;if(void 0===u)throw"function"==typeof a.render?Error(O(188)):Error(O(268,Object.keys(a)));return null===(a=Hf(u))?null:a.stateNode},F.flushSync=function(a,u){var d=wt;if(0!=(48&d))return a(u);wt|=1;try{if(a)return As(99,a.bind(null,u))}finally{wt=d,no()}},F.hydrate=function(a,u,d){if(!mc(u))throw Error(O(200));return Gd(null,a,u,!0,d)},F.render=function(a,u,d){if(!mc(u))throw Error(O(200));return Gd(null,a,u,!1,d)},F.unmountComponentAtNode=function(a){if(!mc(a))throw Error(O(40));return!!a._reactRootContainer&&(Ud(function(){Gd(null,null,a,!1,function(){a._reactRootContainer=null,a[ws]=null})}),!0)},F.unstable_batchedUpdates=jp,F.unstable_createPortal=function(a,u){return ym(a,u,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},F.unstable_renderSubtreeIntoContainer=function(a,u,d,h){if(!mc(d))throw Error(O(200));if(null==a||void 0===a._reactInternals)throw Error(O(38));return Gd(a,u,d,!1,h)},F.version="17.0.2"},291:(Ye,F,w)=>{"use strict";(function T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T)}catch(U){console.error(U)}})(),Ye.exports=w(509)},851:(Ye,F,w)=>{"use strict";var T=w(943),U=60103,P=60106;F.Fragment=60107,F.StrictMode=60108,F.Profiler=60114;var O=60109,b=60110,de=60112;F.Suspense=60113;var Se=60115,D=60116;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;U=C("react.element"),P=C("react.portal"),F.Fragment=C("react.fragment"),F.StrictMode=C("react.strict_mode"),F.Profiler=C("react.profiler"),O=C("react.provider"),b=C("react.context"),de=C("react.forward_ref"),F.Suspense=C("react.suspense"),Se=C("react.memo"),D=C("react.lazy")}var L="function"==typeof Symbol&&Symbol.iterator;function z(Z){for(var ie="https://reactjs.org/docs/error-decoder.html?invariant="+Z,ae=1;ae<arguments.length;ae++)ie+="&args[]="+encodeURIComponent(arguments[ae]);return"Minified React error #"+Z+"; visit "+ie+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G={};function ye(Z,ie,ae){this.props=Z,this.context=ie,this.refs=G,this.updater=ae||K}function ot(){}function R(Z,ie,ae){this.props=Z,this.context=ie,this.refs=G,this.updater=ae||K}ye.prototype.isReactComponent={},ye.prototype.setState=function(Z,ie){if("object"!=typeof Z&&"function"!=typeof Z&&null!=Z)throw Error(z(85));this.updater.enqueueSetState(this,Z,ie,"setState")},ye.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")},ot.prototype=ye.prototype;var k=R.prototype=new ot;k.constructor=R,T(k,ye.prototype),k.isPureReactComponent=!0;var ne={current:null},X=Object.prototype.hasOwnProperty,te={key:!0,ref:!0,__self:!0,__source:!0};function De(Z,ie,ae){var Ae,ve={},tt=null,Je=null;if(null!=ie)for(Ae in void 0!==ie.ref&&(Je=ie.ref),void 0!==ie.key&&(tt=""+ie.key),ie)X.call(ie,Ae)&&!te.hasOwnProperty(Ae)&&(ve[Ae]=ie[Ae]);var en=arguments.length-2;if(1===en)ve.children=ae;else if(1<en){for(var Mt=Array(en),Ft=0;Ft<en;Ft++)Mt[Ft]=arguments[Ft+2];ve.children=Mt}if(Z&&Z.defaultProps)for(Ae in en=Z.defaultProps)void 0===ve[Ae]&&(ve[Ae]=en[Ae]);return{$$typeof:U,type:Z,key:tt,ref:Je,props:ve,_owner:ne.current}}function ke(Z){return"object"==typeof Z&&null!==Z&&Z.$$typeof===U}var Le=/\/+/g;function xe(Z,ie){return"object"==typeof Z&&null!==Z&&null!=Z.key?function We(Z){var ie={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(ae){return ie[ae]})}(""+Z.key):ie.toString(36)}function lt(Z,ie,ae,Ae,ve){var tt=typeof Z;("undefined"===tt||"boolean"===tt)&&(Z=null);var Je=!1;if(null===Z)Je=!0;else switch(tt){case"string":case"number":Je=!0;break;case"object":switch(Z.$$typeof){case U:case P:Je=!0}}if(Je)return ve=ve(Je=Z),Z=""===Ae?"."+xe(Je,0):Ae,Array.isArray(ve)?(ae="",null!=Z&&(ae=Z.replace(Le,"$&/")+"/"),lt(ve,ie,ae,"",function(Ft){return Ft})):null!=ve&&(ke(ve)&&(ve=function me(Z,ie){return{$$typeof:U,type:Z.type,key:ie,ref:Z.ref,props:Z.props,_owner:Z._owner}}(ve,ae+(!ve.key||Je&&Je.key===ve.key?"":(""+ve.key).replace(Le,"$&/")+"/")+Z)),ie.push(ve)),1;if(Je=0,Ae=""===Ae?".":Ae+":",Array.isArray(Z))for(var en=0;en<Z.length;en++){var Mt=Ae+xe(tt=Z[en],en);Je+=lt(tt,ie,ae,Mt,ve)}else if(Mt=function ee(Z){return null===Z||"object"!=typeof Z?null:"function"==typeof(Z=L&&Z[L]||Z["@@iterator"])?Z:null}(Z),"function"==typeof Mt)for(Z=Mt.call(Z),en=0;!(tt=Z.next()).done;)Je+=lt(tt=tt.value,ie,ae,Mt=Ae+xe(tt,en++),ve);else if("object"===tt)throw ie=""+Z,Error(z(31,"[object Object]"===ie?"object with keys {"+Object.keys(Z).join(", ")+"}":ie));return Je}function Ct(Z,ie,ae){if(null==Z)return Z;var Ae=[],ve=0;return lt(Z,Ae,"","",function(tt){return ie.call(ae,tt,ve++)}),Ae}function dt(Z){if(-1===Z._status){var ie=Z._result;ie=ie(),Z._status=0,Z._result=ie,ie.then(function(ae){0===Z._status&&(ae=ae.default,Z._status=1,Z._result=ae)},function(ae){0===Z._status&&(Z._status=2,Z._result=ae)})}if(1===Z._status)return Z._result;throw Z._result}var Wt={current:null};function $t(){var Z=Wt.current;if(null===Z)throw Error(z(321));return Z}var on={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ne,IsSomeRendererActing:{current:!1},assign:T};F.Children={map:Ct,forEach:function(Z,ie,ae){Ct(Z,function(){ie.apply(this,arguments)},ae)},count:function(Z){var ie=0;return Ct(Z,function(){ie++}),ie},toArray:function(Z){return Ct(Z,function(ie){return ie})||[]},only:function(Z){if(!ke(Z))throw Error(z(143));return Z}},F.Component=ye,F.PureComponent=R,F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=on,F.cloneElement=function(Z,ie,ae){if(null==Z)throw Error(z(267,Z));var Ae=T({},Z.props),ve=Z.key,tt=Z.ref,Je=Z._owner;if(null!=ie){if(void 0!==ie.ref&&(tt=ie.ref,Je=ne.current),void 0!==ie.key&&(ve=""+ie.key),Z.type&&Z.type.defaultProps)var en=Z.type.defaultProps;for(Mt in ie)X.call(ie,Mt)&&!te.hasOwnProperty(Mt)&&(Ae[Mt]=void 0===ie[Mt]&&void 0!==en?en[Mt]:ie[Mt])}var Mt=arguments.length-2;if(1===Mt)Ae.children=ae;else if(1<Mt){en=Array(Mt);for(var Ft=0;Ft<Mt;Ft++)en[Ft]=arguments[Ft+2];Ae.children=en}return{$$typeof:U,type:Z.type,key:ve,ref:tt,props:Ae,_owner:Je}},F.createContext=function(Z,ie){return void 0===ie&&(ie=null),(Z={$$typeof:b,_calculateChangedBits:ie,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:O,_context:Z},Z.Consumer=Z},F.createElement=De,F.createFactory=function(Z){var ie=De.bind(null,Z);return ie.type=Z,ie},F.createRef=function(){return{current:null}},F.forwardRef=function(Z){return{$$typeof:de,render:Z}},F.isValidElement=ke,F.lazy=function(Z){return{$$typeof:D,_payload:{_status:-1,_result:Z},_init:dt}},F.memo=function(Z,ie){return{$$typeof:Se,type:Z,compare:void 0===ie?null:ie}},F.useCallback=function(Z,ie){return $t().useCallback(Z,ie)},F.useContext=function(Z,ie){return $t().useContext(Z,ie)},F.useDebugValue=function(){},F.useEffect=function(Z,ie){return $t().useEffect(Z,ie)},F.useImperativeHandle=function(Z,ie,ae){return $t().useImperativeHandle(Z,ie,ae)},F.useLayoutEffect=function(Z,ie){return $t().useLayoutEffect(Z,ie)},F.useMemo=function(Z,ie){return $t().useMemo(Z,ie)},F.useReducer=function(Z,ie,ae){return $t().useReducer(Z,ie,ae)},F.useRef=function(Z){return $t().useRef(Z)},F.useState=function(Z){return $t().useState(Z)},F.version="17.0.2"},284:(Ye,F,w)=>{"use strict";Ye.exports=w(851)},334:(Ye,F,w)=>{"use strict";var T=w(463);function P(C,L,ee,z,K){var G=T.writeRtpDescription(C.kind,L);if(G+=T.writeIceParameters(C.iceGatherer.getLocalParameters()),G+=T.writeDtlsParameters(C.dtlsTransport.getLocalParameters(),"offer"===ee?"actpass":K||"active"),G+="a=mid:"+C.mid+"\r\n",G+=C.rtpSender&&C.rtpReceiver?"a=sendrecv\r\n":C.rtpSender?"a=sendonly\r\n":C.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",C.rtpSender){var ye=C.rtpSender._initialTrackId||C.rtpSender.track.id;C.rtpSender._initialTrackId=ye;var ot="msid:"+(z?z.id:"-")+" "+ye+"\r\n";G+="a="+ot,G+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" "+ot,C.sendEncodingParameters[0].rtx&&(G+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" "+ot,G+="a=ssrc-group:FID "+C.sendEncodingParameters[0].ssrc+" "+C.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return G+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" cname:"+T.localCName+"\r\n",C.rtpSender&&C.sendEncodingParameters[0].rtx&&(G+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" cname:"+T.localCName+"\r\n"),G}function b(C,L){var ee={codecs:[],headerExtensions:[],fecMechanisms:[]},z=function(G,ye){G=parseInt(G,10);for(var ot=0;ot<ye.length;ot++)if(ye[ot].payloadType===G||ye[ot].preferredPayloadType===G)return ye[ot]},K=function(G,ye,ot,R){var k=z(G.parameters.apt,ot),ne=z(ye.parameters.apt,R);return k&&ne&&k.name.toLowerCase()===ne.name.toLowerCase()};return C.codecs.forEach(function(G){for(var ye=0;ye<L.codecs.length;ye++){var ot=L.codecs[ye];if(G.name.toLowerCase()===ot.name.toLowerCase()&&G.clockRate===ot.clockRate){if("rtx"===G.name.toLowerCase()&&G.parameters&&ot.parameters.apt&&!K(G,ot,C.codecs,L.codecs))continue;(ot=JSON.parse(JSON.stringify(ot))).numChannels=Math.min(G.numChannels,ot.numChannels),ee.codecs.push(ot),ot.rtcpFeedback=ot.rtcpFeedback.filter(function(R){for(var k=0;k<G.rtcpFeedback.length;k++)if(G.rtcpFeedback[k].type===R.type&&G.rtcpFeedback[k].parameter===R.parameter)return!0;return!1});break}}}),C.headerExtensions.forEach(function(G){for(var ye=0;ye<L.headerExtensions.length;ye++){var ot=L.headerExtensions[ye];if(G.uri===ot.uri){ee.headerExtensions.push(ot);break}}}),ee}function de(C,L,ee){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[L][C].indexOf(ee)}function Se(C,L){var ee=C.getRemoteCandidates().find(function(z){return L.foundation===z.foundation&&L.ip===z.ip&&L.port===z.port&&L.priority===z.priority&&L.protocol===z.protocol&&L.type===z.type});return ee||C.addRemoteCandidate(L),!ee}function D(C,L){var ee=new Error(L);return ee.name=C,ee.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[C],ee}Ye.exports=function(C,L){function ee(R,k){k.addTrack(R),k.dispatchEvent(new C.MediaStreamTrackEvent("addtrack",{track:R}))}function K(R,k,ne,X){var te=new Event("track");te.track=k,te.receiver=ne,te.transceiver={receiver:ne},te.streams=X,C.setTimeout(function(){R._dispatchEvent("track",te)})}var G=function(R){var k=this,ne=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(te){k[te]=ne[te].bind(ne)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",R=JSON.parse(JSON.stringify(R||{})),this.usingBundle="max-bundle"===R.bundlePolicy,"negotiate"===R.rtcpMuxPolicy)throw D("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(R.rtcpMuxPolicy||(R.rtcpMuxPolicy="require"),R.iceTransportPolicy){case"all":case"relay":break;default:R.iceTransportPolicy="all"}switch(R.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:R.bundlePolicy="balanced"}if(R.iceServers=function O(C,L){var ee=!1;return(C=JSON.parse(JSON.stringify(C))).filter(function(z){if(z&&(z.urls||z.url)){var K=z.urls||z.url;z.url&&!z.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var G="string"==typeof K;return G&&(K=[K]),K=K.filter(function(ye){return 0!==ye.indexOf("turn:")||-1===ye.indexOf("transport=udp")||-1!==ye.indexOf("turn:[")||ee?0===ye.indexOf("stun:")&&L>=14393&&-1===ye.indexOf("?transport=udp"):(ee=!0,!0)}),delete z.url,z.urls=G?K[0]:K,!!K.length}})}(R.iceServers||[],L),this._iceGatherers=[],R.iceCandidatePoolSize)for(var X=R.iceCandidatePoolSize;X>0;X--)this._iceGatherers.push(new C.RTCIceGatherer({iceServers:R.iceServers,gatherPolicy:R.iceTransportPolicy}));else R.iceCandidatePoolSize=0;this._config=R,this.transceivers=[],this._sdpSessionId=T.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(G.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(G.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),G.prototype.onicecandidate=null,G.prototype.onaddstream=null,G.prototype.ontrack=null,G.prototype.onremovestream=null,G.prototype.onsignalingstatechange=null,G.prototype.oniceconnectionstatechange=null,G.prototype.onconnectionstatechange=null,G.prototype.onicegatheringstatechange=null,G.prototype.onnegotiationneeded=null,G.prototype.ondatachannel=null,G.prototype._dispatchEvent=function(R,k){this._isClosed||(this.dispatchEvent(k),"function"==typeof this["on"+R]&&this["on"+R](k))},G.prototype._emitGatheringStateChange=function(){var R=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",R)},G.prototype.getConfiguration=function(){return this._config},G.prototype.getLocalStreams=function(){return this.localStreams},G.prototype.getRemoteStreams=function(){return this.remoteStreams},G.prototype._createTransceiver=function(R,k){var X={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:R,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)X.iceTransport=this.transceivers[0].iceTransport,X.dtlsTransport=this.transceivers[0].dtlsTransport;else{var te=this._createIceAndDtlsTransports();X.iceTransport=te.iceTransport,X.dtlsTransport=te.dtlsTransport}return k||this.transceivers.push(X),X},G.prototype.addTrack=function(R,k){if(this._isClosed)throw D("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(De){return De.track===R}))throw D("InvalidAccessError","Track already exists.");for(var X,te=0;te<this.transceivers.length;te++)!this.transceivers[te].track&&this.transceivers[te].kind===R.kind&&(X=this.transceivers[te]);return X||(X=this._createTransceiver(R.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(k)&&this.localStreams.push(k),X.track=R,X.stream=k,X.rtpSender=new C.RTCRtpSender(R,X.dtlsTransport),X.rtpSender},G.prototype.addStream=function(R){var k=this;if(L>=15025)R.getTracks().forEach(function(X){k.addTrack(X,R)});else{var ne=R.clone();R.getTracks().forEach(function(X,te){var De=ne.getTracks()[te];X.addEventListener("enabled",function(me){De.enabled=me.enabled})}),ne.getTracks().forEach(function(X){k.addTrack(X,ne)})}},G.prototype.removeTrack=function(R){if(this._isClosed)throw D("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(R instanceof C.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var k=this.transceivers.find(function(te){return te.rtpSender===R});if(!k)throw D("InvalidAccessError","Sender was not created by this connection.");var ne=k.stream;k.rtpSender.stop(),k.rtpSender=null,k.track=null,k.stream=null,-1===this.transceivers.map(function(te){return te.stream}).indexOf(ne)&&this.localStreams.indexOf(ne)>-1&&this.localStreams.splice(this.localStreams.indexOf(ne),1),this._maybeFireNegotiationNeeded()},G.prototype.removeStream=function(R){var k=this;R.getTracks().forEach(function(ne){var X=k.getSenders().find(function(te){return te.track===ne});X&&k.removeTrack(X)})},G.prototype.getSenders=function(){return this.transceivers.filter(function(R){return!!R.rtpSender}).map(function(R){return R.rtpSender})},G.prototype.getReceivers=function(){return this.transceivers.filter(function(R){return!!R.rtpReceiver}).map(function(R){return R.rtpReceiver})},G.prototype._createIceGatherer=function(R,k){var ne=this;if(k&&R>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var X=new C.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(X,"state",{value:"new",writable:!0}),this.transceivers[R].bufferedCandidateEvents=[],this.transceivers[R].bufferCandidates=function(te){var De=!te.candidate||0===Object.keys(te.candidate).length;X.state=De?"completed":"gathering",null!==ne.transceivers[R].bufferedCandidateEvents&&ne.transceivers[R].bufferedCandidateEvents.push(te)},X.addEventListener("localcandidate",this.transceivers[R].bufferCandidates),X},G.prototype._gather=function(R,k){var ne=this,X=this.transceivers[k].iceGatherer;if(!X.onlocalcandidate){var te=this.transceivers[k].bufferedCandidateEvents;this.transceivers[k].bufferedCandidateEvents=null,X.removeEventListener("localcandidate",this.transceivers[k].bufferCandidates),X.onlocalcandidate=function(De){if(!(ne.usingBundle&&k>0)){var me=new Event("icecandidate");me.candidate={sdpMid:R,sdpMLineIndex:k};var ke=De.candidate,We=!ke||0===Object.keys(ke).length;if(We)("new"===X.state||"gathering"===X.state)&&(X.state="completed");else{"new"===X.state&&(X.state="gathering"),ke.component=1,ke.ufrag=X.getLocalParameters().usernameFragment;var Le=T.writeCandidate(ke);me.candidate=Object.assign(me.candidate,T.parseCandidate(Le)),me.candidate.candidate=Le,me.candidate.toJSON=function(){return{candidate:me.candidate.candidate,sdpMid:me.candidate.sdpMid,sdpMLineIndex:me.candidate.sdpMLineIndex,usernameFragment:me.candidate.usernameFragment}}}var xe=T.getMediaSections(ne._localDescription.sdp);xe[me.candidate.sdpMLineIndex]+=We?"a=end-of-candidates\r\n":"a="+me.candidate.candidate+"\r\n",ne._localDescription.sdp=T.getDescription(ne._localDescription.sdp)+xe.join("");var lt=ne.transceivers.every(function(Ct){return Ct.iceGatherer&&"completed"===Ct.iceGatherer.state});"gathering"!==ne.iceGatheringState&&(ne.iceGatheringState="gathering",ne._emitGatheringStateChange()),We||ne._dispatchEvent("icecandidate",me),lt&&(ne._dispatchEvent("icecandidate",new Event("icecandidate")),ne.iceGatheringState="complete",ne._emitGatheringStateChange())}},C.setTimeout(function(){te.forEach(function(De){X.onlocalcandidate(De)})},0)}},G.prototype._createIceAndDtlsTransports=function(){var R=this,k=new C.RTCIceTransport(null);k.onicestatechange=function(){R._updateIceConnectionState(),R._updateConnectionState()};var ne=new C.RTCDtlsTransport(k);return ne.ondtlsstatechange=function(){R._updateConnectionState()},ne.onerror=function(){Object.defineProperty(ne,"state",{value:"failed",writable:!0}),R._updateConnectionState()},{iceTransport:k,dtlsTransport:ne}},G.prototype._disposeIceAndDtlsTransports=function(R){var k=this.transceivers[R].iceGatherer;k&&(delete k.onlocalcandidate,delete this.transceivers[R].iceGatherer);var ne=this.transceivers[R].iceTransport;ne&&(delete ne.onicestatechange,delete this.transceivers[R].iceTransport);var X=this.transceivers[R].dtlsTransport;X&&(delete X.ondtlsstatechange,delete X.onerror,delete this.transceivers[R].dtlsTransport)},G.prototype._transceive=function(R,k,ne){var X=b(R.localCapabilities,R.remoteCapabilities);k&&R.rtpSender&&(X.encodings=R.sendEncodingParameters,X.rtcp={cname:T.localCName,compound:R.rtcpParameters.compound},R.recvEncodingParameters.length&&(X.rtcp.ssrc=R.recvEncodingParameters[0].ssrc),R.rtpSender.send(X)),ne&&R.rtpReceiver&&X.codecs.length>0&&("video"===R.kind&&R.recvEncodingParameters&&L<15019&&R.recvEncodingParameters.forEach(function(te){delete te.rtx}),X.encodings=R.recvEncodingParameters.length?R.recvEncodingParameters:[{}],X.rtcp={compound:R.rtcpParameters.compound},R.rtcpParameters.cname&&(X.rtcp.cname=R.rtcpParameters.cname),R.sendEncodingParameters.length&&(X.rtcp.ssrc=R.sendEncodingParameters[0].ssrc),R.rtpReceiver.receive(X))},G.prototype.setLocalDescription=function(R){var ne,X,k=this;if(-1===["offer","answer"].indexOf(R.type))return Promise.reject(D("TypeError",'Unsupported type "'+R.type+'"'));if(!de("setLocalDescription",R.type,k.signalingState)||k._isClosed)return Promise.reject(D("InvalidStateError","Can not set local "+R.type+" in state "+k.signalingState));if("offer"===R.type)ne=T.splitSections(R.sdp),X=ne.shift(),ne.forEach(function(De,me){var ke=T.parseRtpParameters(De);k.transceivers[me].localCapabilities=ke}),k.transceivers.forEach(function(De,me){k._gather(De.mid,me)});else if("answer"===R.type){ne=T.splitSections(k._remoteDescription.sdp),X=ne.shift();var te=T.matchPrefix(X,"a=ice-lite").length>0;ne.forEach(function(De,me){var ke=k.transceivers[me],We=ke.iceGatherer,Le=ke.iceTransport,xe=ke.dtlsTransport,lt=ke.localCapabilities,Ct=ke.remoteCapabilities;if(!(T.isRejected(De)&&0===T.matchPrefix(De,"a=bundle-only").length||ke.rejected)){var Wt=T.getIceParameters(De,X),$t=T.getDtlsParameters(De,X);te&&($t.role="server"),(!k.usingBundle||0===me)&&(k._gather(ke.mid,me),"new"===Le.state&&Le.start(We,Wt,te?"controlling":"controlled"),"new"===xe.state&&xe.start($t));var on=b(lt,Ct);k._transceive(ke,on.codecs.length>0,!1)}})}return k._localDescription={type:R.type,sdp:R.sdp},k._updateSignalingState("offer"===R.type?"have-local-offer":"stable"),Promise.resolve()},G.prototype.setRemoteDescription=function(R){var k=this;if(-1===["offer","answer"].indexOf(R.type))return Promise.reject(D("TypeError",'Unsupported type "'+R.type+'"'));if(!de("setRemoteDescription",R.type,k.signalingState)||k._isClosed)return Promise.reject(D("InvalidStateError","Can not set remote "+R.type+" in state "+k.signalingState));var ne={};k.remoteStreams.forEach(function(Le){ne[Le.id]=Le});var X=[],te=T.splitSections(R.sdp),De=te.shift(),me=T.matchPrefix(De,"a=ice-lite").length>0,ke=T.matchPrefix(De,"a=group:BUNDLE ").length>0;k.usingBundle=ke;var We=T.matchPrefix(De,"a=ice-options:")[0];return k.canTrickleIceCandidates=!!We&&We.substr(14).split(" ").indexOf("trickle")>=0,te.forEach(function(Le,xe){var lt=T.splitLines(Le),Ct=T.getKind(Le),dt=T.isRejected(Le)&&0===T.matchPrefix(Le,"a=bundle-only").length,Wt=lt[0].substr(2).split(" ")[2],$t=T.getDirection(Le,De),on=T.parseMsid(Le),Z=T.getMid(Le)||T.generateIdentifier();if(dt||"application"===Ct&&("DTLS/SCTP"===Wt||"UDP/DTLS/SCTP"===Wt))k.transceivers[xe]={mid:Z,kind:Ct,protocol:Wt,rejected:!0};else{!dt&&k.transceivers[xe]&&k.transceivers[xe].rejected&&(k.transceivers[xe]=k._createTransceiver(Ct,!0));var ie,ae,Ae,ve,tt,Je,en,Mt,Ft,Oi,tn,wr=T.parseRtpParameters(Le);dt||(Oi=T.getIceParameters(Le,De),(tn=T.getDtlsParameters(Le,De)).role="client"),en=T.parseRtpEncodingParameters(Le);var Dn=T.parseRtcpParameters(Le),Ni=T.matchPrefix(Le,"a=end-of-candidates",De).length>0,Ie=T.matchPrefix(Le,"a=candidate:").map(function(Xn){return T.parseCandidate(Xn)}).filter(function(Xn){return 1===Xn.component});if(("offer"===R.type||"answer"===R.type)&&!dt&&ke&&xe>0&&k.transceivers[xe]&&(k._disposeIceAndDtlsTransports(xe),k.transceivers[xe].iceGatherer=k.transceivers[0].iceGatherer,k.transceivers[xe].iceTransport=k.transceivers[0].iceTransport,k.transceivers[xe].dtlsTransport=k.transceivers[0].dtlsTransport,k.transceivers[xe].rtpSender&&k.transceivers[xe].rtpSender.setTransport(k.transceivers[0].dtlsTransport),k.transceivers[xe].rtpReceiver&&k.transceivers[xe].rtpReceiver.setTransport(k.transceivers[0].dtlsTransport)),"offer"!==R.type||dt)"answer"!==R.type||dt||(ae=(ie=k.transceivers[xe]).iceGatherer,Ae=ie.iceTransport,ve=ie.dtlsTransport,tt=ie.rtpReceiver,Je=ie.sendEncodingParameters,Mt=ie.localCapabilities,k.transceivers[xe].recvEncodingParameters=en,k.transceivers[xe].remoteCapabilities=wr,k.transceivers[xe].rtcpParameters=Dn,Ie.length&&"new"===Ae.state&&(!me&&!Ni||ke&&0!==xe?Ie.forEach(function(Xn){Se(ie.iceTransport,Xn)}):Ae.setRemoteCandidates(Ie)),(!ke||0===xe)&&("new"===Ae.state&&Ae.start(ae,Oi,"controlling"),"new"===ve.state&&ve.start(tn)),!b(ie.localCapabilities,ie.remoteCapabilities).codecs.filter(function(Xn){return"rtx"===Xn.name.toLowerCase()}).length&&ie.sendEncodingParameters[0].rtx&&delete ie.sendEncodingParameters[0].rtx,k._transceive(ie,"sendrecv"===$t||"recvonly"===$t,"sendrecv"===$t||"sendonly"===$t),!tt||"sendrecv"!==$t&&"sendonly"!==$t?delete ie.rtpReceiver:(Ft=tt.track,on?(ne[on.stream]||(ne[on.stream]=new C.MediaStream),ee(Ft,ne[on.stream]),X.push([Ft,tt,ne[on.stream]])):(ne.default||(ne.default=new C.MediaStream),ee(Ft,ne.default),X.push([Ft,tt,ne.default]))));else{(ie=k.transceivers[xe]||k._createTransceiver(Ct)).mid=Z,ie.iceGatherer||(ie.iceGatherer=k._createIceGatherer(xe,ke)),Ie.length&&"new"===ie.iceTransport.state&&(!Ni||ke&&0!==xe?Ie.forEach(function(Xn){Se(ie.iceTransport,Xn)}):ie.iceTransport.setRemoteCandidates(Ie)),Mt=C.RTCRtpReceiver.getCapabilities(Ct),L<15019&&(Mt.codecs=Mt.codecs.filter(function(Xn){return"rtx"!==Xn.name})),Je=ie.sendEncodingParameters||[{ssrc:1001*(2*xe+2)}];var mo,Yi=!1;"sendrecv"===$t||"sendonly"===$t?(Yi=!ie.rtpReceiver,tt=ie.rtpReceiver||new C.RTCRtpReceiver(ie.dtlsTransport,Ct),Yi&&(Ft=tt.track,on&&"-"===on.stream||(on?(ne[on.stream]||(ne[on.stream]=new C.MediaStream,Object.defineProperty(ne[on.stream],"id",{get:function(){return on.stream}})),Object.defineProperty(Ft,"id",{get:function(){return on.track}}),mo=ne[on.stream]):(ne.default||(ne.default=new C.MediaStream),mo=ne.default)),mo&&(ee(Ft,mo),ie.associatedRemoteMediaStreams.push(mo)),X.push([Ft,tt,mo]))):ie.rtpReceiver&&ie.rtpReceiver.track&&(ie.associatedRemoteMediaStreams.forEach(function(Xn){var ys=Xn.getTracks().find(function(gu){return gu.id===ie.rtpReceiver.track.id});ys&&function z(R,k){k.removeTrack(R),k.dispatchEvent(new C.MediaStreamTrackEvent("removetrack",{track:R}))}(ys,Xn)}),ie.associatedRemoteMediaStreams=[]),ie.localCapabilities=Mt,ie.remoteCapabilities=wr,ie.rtpReceiver=tt,ie.rtcpParameters=Dn,ie.sendEncodingParameters=Je,ie.recvEncodingParameters=en,k._transceive(k.transceivers[xe],!1,Yi)}}}),void 0===k._dtlsRole&&(k._dtlsRole="offer"===R.type?"active":"passive"),k._remoteDescription={type:R.type,sdp:R.sdp},k._updateSignalingState("offer"===R.type?"have-remote-offer":"stable"),Object.keys(ne).forEach(function(Le){var xe=ne[Le];if(xe.getTracks().length){if(-1===k.remoteStreams.indexOf(xe)){k.remoteStreams.push(xe);var lt=new Event("addstream");lt.stream=xe,C.setTimeout(function(){k._dispatchEvent("addstream",lt)})}X.forEach(function(Ct){xe.id===Ct[2].id&&K(k,Ct[0],Ct[1],[xe])})}}),X.forEach(function(Le){Le[2]||K(k,Le[0],Le[1],[])}),C.setTimeout(function(){!k||!k.transceivers||k.transceivers.forEach(function(Le){Le.iceTransport&&"new"===Le.iceTransport.state&&Le.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Le.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},G.prototype.close=function(){this.transceivers.forEach(function(R){R.iceTransport&&R.iceTransport.stop(),R.dtlsTransport&&R.dtlsTransport.stop(),R.rtpSender&&R.rtpSender.stop(),R.rtpReceiver&&R.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},G.prototype._updateSignalingState=function(R){this.signalingState=R;var k=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",k)},G.prototype._maybeFireNegotiationNeeded=function(){var R=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,C.setTimeout(function(){if(R.needNegotiation){R.needNegotiation=!1;var k=new Event("negotiationneeded");R._dispatchEvent("negotiationneeded",k)}},0))},G.prototype._updateIceConnectionState=function(){var R,k={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(X){X.iceTransport&&!X.rejected&&k[X.iceTransport.state]++}),R="new",k.failed>0?R="failed":k.checking>0?R="checking":k.disconnected>0?R="disconnected":k.new>0?R="new":k.connected>0?R="connected":k.completed>0&&(R="completed"),R!==this.iceConnectionState){this.iceConnectionState=R;var ne=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",ne)}},G.prototype._updateConnectionState=function(){var R,k={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(X){X.iceTransport&&X.dtlsTransport&&!X.rejected&&(k[X.iceTransport.state]++,k[X.dtlsTransport.state]++)}),k.connected+=k.completed,R="new",k.failed>0?R="failed":k.connecting>0?R="connecting":k.disconnected>0?R="disconnected":k.new>0?R="new":k.connected>0&&(R="connected"),R!==this.connectionState){this.connectionState=R;var ne=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",ne)}},G.prototype.createOffer=function(){var R=this;if(R._isClosed)return Promise.reject(D("InvalidStateError","Can not call createOffer after close"));var k=R.transceivers.filter(function(me){return"audio"===me.kind}).length,ne=R.transceivers.filter(function(me){return"video"===me.kind}).length,X=arguments[0];if(X){if(X.mandatory||X.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==X.offerToReceiveAudio&&(k=!0===X.offerToReceiveAudio?1:!1===X.offerToReceiveAudio?0:X.offerToReceiveAudio),void 0!==X.offerToReceiveVideo&&(ne=!0===X.offerToReceiveVideo?1:!1===X.offerToReceiveVideo?0:X.offerToReceiveVideo)}for(R.transceivers.forEach(function(me){"audio"===me.kind?--k<0&&(me.wantReceive=!1):"video"===me.kind&&--ne<0&&(me.wantReceive=!1)});k>0||ne>0;)k>0&&(R._createTransceiver("audio"),k--),ne>0&&(R._createTransceiver("video"),ne--);var te=T.writeSessionBoilerplate(R._sdpSessionId,R._sdpSessionVersion++);R.transceivers.forEach(function(me,ke){var We=me.track,Le=me.kind,xe=me.mid||T.generateIdentifier();me.mid=xe,me.iceGatherer||(me.iceGatherer=R._createIceGatherer(ke,R.usingBundle));var lt=C.RTCRtpSender.getCapabilities(Le);L<15019&&(lt.codecs=lt.codecs.filter(function(dt){return"rtx"!==dt.name})),lt.codecs.forEach(function(dt){"H264"===dt.name&&void 0===dt.parameters["level-asymmetry-allowed"]&&(dt.parameters["level-asymmetry-allowed"]="1"),me.remoteCapabilities&&me.remoteCapabilities.codecs&&me.remoteCapabilities.codecs.forEach(function(Wt){dt.name.toLowerCase()===Wt.name.toLowerCase()&&dt.clockRate===Wt.clockRate&&(dt.preferredPayloadType=Wt.payloadType)})}),lt.headerExtensions.forEach(function(dt){(me.remoteCapabilities&&me.remoteCapabilities.headerExtensions||[]).forEach(function($t){dt.uri===$t.uri&&(dt.id=$t.id)})});var Ct=me.sendEncodingParameters||[{ssrc:1001*(2*ke+1)}];We&&L>=15019&&"video"===Le&&!Ct[0].rtx&&(Ct[0].rtx={ssrc:Ct[0].ssrc+1}),me.wantReceive&&(me.rtpReceiver=new C.RTCRtpReceiver(me.dtlsTransport,Le)),me.localCapabilities=lt,me.sendEncodingParameters=Ct}),"max-compat"!==R._config.bundlePolicy&&(te+="a=group:BUNDLE "+R.transceivers.map(function(me){return me.mid}).join(" ")+"\r\n"),te+="a=ice-options:trickle\r\n",R.transceivers.forEach(function(me,ke){te+=P(me,me.localCapabilities,"offer",me.stream,R._dtlsRole),te+="a=rtcp-rsize\r\n",me.iceGatherer&&"new"!==R.iceGatheringState&&(0===ke||!R.usingBundle)&&(me.iceGatherer.getLocalCandidates().forEach(function(We){We.component=1,te+="a="+T.writeCandidate(We)+"\r\n"}),"completed"===me.iceGatherer.state&&(te+="a=end-of-candidates\r\n"))});var De=new C.RTCSessionDescription({type:"offer",sdp:te});return Promise.resolve(De)},G.prototype.createAnswer=function(){var R=this;if(R._isClosed)return Promise.reject(D("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==R.signalingState&&"have-local-pranswer"!==R.signalingState)return Promise.reject(D("InvalidStateError","Can not call createAnswer in signalingState "+R.signalingState));var k=T.writeSessionBoilerplate(R._sdpSessionId,R._sdpSessionVersion++);R.usingBundle&&(k+="a=group:BUNDLE "+R.transceivers.map(function(te){return te.mid}).join(" ")+"\r\n"),k+="a=ice-options:trickle\r\n";var ne=T.getMediaSections(R._remoteDescription.sdp).length;R.transceivers.forEach(function(te,De){if(!(De+1>ne)){if(te.rejected)return"application"===te.kind?k+="DTLS/SCTP"===te.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+te.protocol+" webrtc-datachannel\r\n":"audio"===te.kind?k+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===te.kind&&(k+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(k+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+te.mid+"\r\n");var me;te.stream&&("audio"===te.kind?me=te.stream.getAudioTracks()[0]:"video"===te.kind&&(me=te.stream.getVideoTracks()[0]),me&&L>=15019&&"video"===te.kind&&!te.sendEncodingParameters[0].rtx&&(te.sendEncodingParameters[0].rtx={ssrc:te.sendEncodingParameters[0].ssrc+1}));var ke=b(te.localCapabilities,te.remoteCapabilities);!ke.codecs.filter(function(Le){return"rtx"===Le.name.toLowerCase()}).length&&te.sendEncodingParameters[0].rtx&&delete te.sendEncodingParameters[0].rtx,k+=P(te,ke,"answer",te.stream,R._dtlsRole),te.rtcpParameters&&te.rtcpParameters.reducedSize&&(k+="a=rtcp-rsize\r\n")}});var X=new C.RTCSessionDescription({type:"answer",sdp:k});return Promise.resolve(X)},G.prototype.addIceCandidate=function(R){var ne,k=this;return R&&void 0===R.sdpMLineIndex&&!R.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(X,te){if(!k._remoteDescription)return te(D("InvalidStateError","Can not add ICE candidate without a remote description"));if(R&&""!==R.candidate){var me=R.sdpMLineIndex;if(R.sdpMid)for(var ke=0;ke<k.transceivers.length;ke++)if(k.transceivers[ke].mid===R.sdpMid){me=ke;break}var We=k.transceivers[me];if(!We)return te(D("OperationError","Can not add ICE candidate"));if(We.rejected)return X();var Le=Object.keys(R.candidate).length>0?T.parseCandidate(R.candidate):{};if("tcp"===Le.protocol&&(0===Le.port||9===Le.port)||Le.component&&1!==Le.component)return X();if((0===me||me>0&&We.iceTransport!==k.transceivers[0].iceTransport)&&!Se(We.iceTransport,Le))return te(D("OperationError","Can not add ICE candidate"));var xe=R.candidate.trim();0===xe.indexOf("a=")&&(xe=xe.substr(2)),(ne=T.getMediaSections(k._remoteDescription.sdp))[me]+="a="+(Le.type?xe:"end-of-candidates")+"\r\n",k._remoteDescription.sdp=T.getDescription(k._remoteDescription.sdp)+ne.join("")}else for(var De=0;De<k.transceivers.length&&(k.transceivers[De].rejected||(k.transceivers[De].iceTransport.addRemoteCandidate({}),(ne=T.getMediaSections(k._remoteDescription.sdp))[De]+="a=end-of-candidates\r\n",k._remoteDescription.sdp=T.getDescription(k._remoteDescription.sdp)+ne.join(""),!k.usingBundle));De++);X()})},G.prototype.getStats=function(R){if(R&&R instanceof C.MediaStreamTrack){var k=null;if(this.transceivers.forEach(function(X){X.rtpSender&&X.rtpSender.track===R?k=X.rtpSender:X.rtpReceiver&&X.rtpReceiver.track===R&&(k=X.rtpReceiver)}),!k)throw D("InvalidAccessError","Invalid selector.");return k.getStats()}var ne=[];return this.transceivers.forEach(function(X){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(te){X[te]&&ne.push(X[te].getStats())})}),Promise.all(ne).then(function(X){var te=new Map;return X.forEach(function(De){De.forEach(function(me){te.set(me.id,me)})}),te})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(R){var k=C[R];if(k&&k.prototype&&k.prototype.getStats){var ne=k.prototype.getStats;k.prototype.getStats=function(){return ne.apply(this).then(function(X){var te=new Map;return Object.keys(X).forEach(function(De){X[De].type=function U(C){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[C.type]||C.type}(X[De]),te.set(De,X[De])}),te})}}});var ot=["createOffer","createAnswer"];return ot.forEach(function(R){var k=G.prototype[R];G.prototype[R]=function(){var ne=arguments;return"function"==typeof ne[0]||"function"==typeof ne[1]?k.apply(this,[arguments[2]]).then(function(X){"function"==typeof ne[0]&&ne[0].apply(null,[X])},function(X){"function"==typeof ne[1]&&ne[1].apply(null,[X])}):k.apply(this,arguments)}}),(ot=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(R){var k=G.prototype[R];G.prototype[R]=function(){var ne=arguments;return"function"==typeof ne[1]||"function"==typeof ne[2]?k.apply(this,arguments).then(function(){"function"==typeof ne[1]&&ne[1].apply(null)},function(X){"function"==typeof ne[2]&&ne[2].apply(null,[X])}):k.apply(this,arguments)}}),["getStats"].forEach(function(R){var k=G.prototype[R];G.prototype[R]=function(){var ne=arguments;return"function"==typeof ne[1]?k.apply(this,arguments).then(function(){"function"==typeof ne[1]&&ne[1].apply(null)}):k.apply(this,arguments)}}),G}},191:(Ye,F)=>{"use strict";var w,T,U,P;if("object"==typeof performance&&"function"==typeof performance.now){var O=performance;F.unstable_now=function(){return O.now()}}else{var b=Date,de=b.now();F.unstable_now=function(){return b.now()-de}}if(typeof window>"u"||"function"!=typeof MessageChannel){var Se=null,D=null,C=function(){if(null!==Se)try{var ae=F.unstable_now();Se(!0,ae),Se=null}catch(Ae){throw setTimeout(C,0),Ae}};w=function(ae){null!==Se?setTimeout(w,0,ae):(Se=ae,setTimeout(C,0))},T=function(ae,Ae){D=setTimeout(ae,Ae)},U=function(){clearTimeout(D)},F.unstable_shouldYield=function(){return!1},P=F.unstable_forceFrameRate=function(){}}else{var L=window.setTimeout,ee=window.clearTimeout;if(typeof console<"u"){var z=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof z&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var K=!1,G=null,ye=-1,ot=5,R=0;F.unstable_shouldYield=function(){return F.unstable_now()>=R},P=function(){},F.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<ae?Math.floor(1e3/ae):5};var k=new MessageChannel,ne=k.port2;k.port1.onmessage=function(){if(null!==G){var ae=F.unstable_now();R=ae+ot;try{G(!0,ae)?ne.postMessage(null):(K=!1,G=null)}catch(Ae){throw ne.postMessage(null),Ae}}else K=!1},w=function(ae){G=ae,K||(K=!0,ne.postMessage(null))},T=function(ae,Ae){ye=L(function(){ae(F.unstable_now())},Ae)},U=function(){ee(ye),ye=-1}}function X(ae,Ae){var ve=ae.length;ae.push(Ae);e:for(;;){var tt=ve-1>>>1,Je=ae[tt];if(!(void 0!==Je&&0<me(Je,Ae)))break e;ae[tt]=Ae,ae[ve]=Je,ve=tt}}function te(ae){return void 0===(ae=ae[0])?null:ae}function De(ae){var Ae=ae[0];if(void 0!==Ae){var ve=ae.pop();if(ve!==Ae){ae[0]=ve;e:for(var tt=0,Je=ae.length;tt<Je;){var en=2*(tt+1)-1,Mt=ae[en],Ft=en+1,wr=ae[Ft];if(void 0!==Mt&&0>me(Mt,ve))void 0!==wr&&0>me(wr,Mt)?(ae[tt]=wr,ae[Ft]=ve,tt=Ft):(ae[tt]=Mt,ae[en]=ve,tt=en);else{if(!(void 0!==wr&&0>me(wr,ve)))break e;ae[tt]=wr,ae[Ft]=ve,tt=Ft}}}return Ae}return null}function me(ae,Ae){var ve=ae.sortIndex-Ae.sortIndex;return 0!==ve?ve:ae.id-Ae.id}var ke=[],We=[],Le=1,xe=null,lt=3,Ct=!1,dt=!1,Wt=!1;function $t(ae){for(var Ae=te(We);null!==Ae;){if(null===Ae.callback)De(We);else{if(!(Ae.startTime<=ae))break;De(We),Ae.sortIndex=Ae.expirationTime,X(ke,Ae)}Ae=te(We)}}function on(ae){if(Wt=!1,$t(ae),!dt)if(null!==te(ke))dt=!0,w(Z);else{var Ae=te(We);null!==Ae&&T(on,Ae.startTime-ae)}}function Z(ae,Ae){dt=!1,Wt&&(Wt=!1,U()),Ct=!0;var ve=lt;try{for($t(Ae),xe=te(ke);null!==xe&&(!(xe.expirationTime>Ae)||ae&&!F.unstable_shouldYield());){var tt=xe.callback;if("function"==typeof tt){xe.callback=null,lt=xe.priorityLevel;var Je=tt(xe.expirationTime<=Ae);Ae=F.unstable_now(),"function"==typeof Je?xe.callback=Je:xe===te(ke)&&De(ke),$t(Ae)}else De(ke);xe=te(ke)}if(null!==xe)var en=!0;else{var Mt=te(We);null!==Mt&&T(on,Mt.startTime-Ae),en=!1}return en}finally{xe=null,lt=ve,Ct=!1}}var ie=P;F.unstable_IdlePriority=5,F.unstable_ImmediatePriority=1,F.unstable_LowPriority=4,F.unstable_NormalPriority=3,F.unstable_Profiling=null,F.unstable_UserBlockingPriority=2,F.unstable_cancelCallback=function(ae){ae.callback=null},F.unstable_continueExecution=function(){dt||Ct||(dt=!0,w(Z))},F.unstable_getCurrentPriorityLevel=function(){return lt},F.unstable_getFirstCallbackNode=function(){return te(ke)},F.unstable_next=function(ae){switch(lt){case 1:case 2:case 3:var Ae=3;break;default:Ae=lt}var ve=lt;lt=Ae;try{return ae()}finally{lt=ve}},F.unstable_pauseExecution=function(){},F.unstable_requestPaint=ie,F.unstable_runWithPriority=function(ae,Ae){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ve=lt;lt=ae;try{return Ae()}finally{lt=ve}},F.unstable_scheduleCallback=function(ae,Ae,ve){var tt=F.unstable_now();switch(ve="object"==typeof ve&&null!==ve&&"number"==typeof(ve=ve.delay)&&0<ve?tt+ve:tt,ae){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return ae={id:Le++,callback:Ae,priorityLevel:ae,startTime:ve,expirationTime:Je=ve+Je,sortIndex:-1},ve>tt?(ae.sortIndex=ve,X(We,ae),null===te(ke)&&ae===te(We)&&(Wt?U():Wt=!0,T(on,ve-tt))):(ae.sortIndex=Je,X(ke,ae),dt||Ct||(dt=!0,w(Z))),ae},F.unstable_wrapCallback=function(ae){var Ae=lt;return function(){var ve=lt;lt=Ae;try{return ae.apply(this,arguments)}finally{lt=ve}}}},854:(Ye,F,w)=>{"use strict";Ye.exports=w(191)},463:Ye=>{"use strict";var F={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};F.localCName=F.generateIdentifier(),F.splitLines=function(w){return w.trim().split("\n").map(function(T){return T.trim()})},F.splitSections=function(w){return w.split("\nm=").map(function(U,P){return(P>0?"m="+U:U).trim()+"\r\n"})},F.getDescription=function(w){var T=F.splitSections(w);return T&&T[0]},F.getMediaSections=function(w){var T=F.splitSections(w);return T.shift(),T},F.matchPrefix=function(w,T){return F.splitLines(w).filter(function(U){return 0===U.indexOf(T)})},F.parseCandidate=function(w){for(var T,U={foundation:(T=0===w.indexOf("a=candidate:")?w.substring(12).split(" "):w.substring(10).split(" "))[0],component:parseInt(T[1],10),protocol:T[2].toLowerCase(),priority:parseInt(T[3],10),ip:T[4],address:T[4],port:parseInt(T[5],10),type:T[7]},P=8;P<T.length;P+=2)switch(T[P]){case"raddr":U.relatedAddress=T[P+1];break;case"rport":U.relatedPort=parseInt(T[P+1],10);break;case"tcptype":U.tcpType=T[P+1];break;case"ufrag":U.ufrag=T[P+1],U.usernameFragment=T[P+1];break;default:U[T[P]]=T[P+1]}return U},F.writeCandidate=function(w){var T=[];T.push(w.foundation),T.push(w.component),T.push(w.protocol.toUpperCase()),T.push(w.priority),T.push(w.address||w.ip),T.push(w.port);var U=w.type;return T.push("typ"),T.push(U),"host"!==U&&w.relatedAddress&&w.relatedPort&&(T.push("raddr"),T.push(w.relatedAddress),T.push("rport"),T.push(w.relatedPort)),w.tcpType&&"tcp"===w.protocol.toLowerCase()&&(T.push("tcptype"),T.push(w.tcpType)),(w.usernameFragment||w.ufrag)&&(T.push("ufrag"),T.push(w.usernameFragment||w.ufrag)),"candidate:"+T.join(" ")},F.parseIceOptions=function(w){return w.substr(14).split(" ")},F.parseRtpMap=function(w){var T=w.substr(9).split(" "),U={payloadType:parseInt(T.shift(),10)};return T=T[0].split("/"),U.name=T[0],U.clockRate=parseInt(T[1],10),U.channels=3===T.length?parseInt(T[2],10):1,U.numChannels=U.channels,U},F.writeRtpMap=function(w){var T=w.payloadType;void 0!==w.preferredPayloadType&&(T=w.preferredPayloadType);var U=w.channels||w.numChannels||1;return"a=rtpmap:"+T+" "+w.name+"/"+w.clockRate+(1!==U?"/"+U:"")+"\r\n"},F.parseExtmap=function(w){var T=w.substr(9).split(" ");return{id:parseInt(T[0],10),direction:T[0].indexOf("/")>0?T[0].split("/")[1]:"sendrecv",uri:T[1]}},F.writeExtmap=function(w){return"a=extmap:"+(w.id||w.preferredId)+(w.direction&&"sendrecv"!==w.direction?"/"+w.direction:"")+" "+w.uri+"\r\n"},F.parseFmtp=function(w){for(var U,T={},P=w.substr(w.indexOf(" ")+1).split(";"),O=0;O<P.length;O++)T[(U=P[O].trim().split("="))[0].trim()]=U[1];return T},F.writeFmtp=function(w){var T="",U=w.payloadType;if(void 0!==w.preferredPayloadType&&(U=w.preferredPayloadType),w.parameters&&Object.keys(w.parameters).length){var P=[];Object.keys(w.parameters).forEach(function(O){P.push(w.parameters[O]?O+"="+w.parameters[O]:O)}),T+="a=fmtp:"+U+" "+P.join(";")+"\r\n"}return T},F.parseRtcpFb=function(w){var T=w.substr(w.indexOf(" ")+1).split(" ");return{type:T.shift(),parameter:T.join(" ")}},F.writeRtcpFb=function(w){var T="",U=w.payloadType;return void 0!==w.preferredPayloadType&&(U=w.preferredPayloadType),w.rtcpFeedback&&w.rtcpFeedback.length&&w.rtcpFeedback.forEach(function(P){T+="a=rtcp-fb:"+U+" "+P.type+(P.parameter&&P.parameter.length?" "+P.parameter:"")+"\r\n"}),T},F.parseSsrcMedia=function(w){var T=w.indexOf(" "),U={ssrc:parseInt(w.substr(7,T-7),10)},P=w.indexOf(":",T);return P>-1?(U.attribute=w.substr(T+1,P-T-1),U.value=w.substr(P+1)):U.attribute=w.substr(T+1),U},F.parseSsrcGroup=function(w){var T=w.substr(13).split(" ");return{semantics:T.shift(),ssrcs:T.map(function(U){return parseInt(U,10)})}},F.getMid=function(w){var T=F.matchPrefix(w,"a=mid:")[0];if(T)return T.substr(6)},F.parseFingerprint=function(w){var T=w.substr(14).split(" ");return{algorithm:T[0].toLowerCase(),value:T[1]}},F.getDtlsParameters=function(w,T){return{role:"auto",fingerprints:F.matchPrefix(w+T,"a=fingerprint:").map(F.parseFingerprint)}},F.writeDtlsParameters=function(w,T){var U="a=setup:"+T+"\r\n";return w.fingerprints.forEach(function(P){U+="a=fingerprint:"+P.algorithm+" "+P.value+"\r\n"}),U},F.parseCryptoLine=function(w){var T=w.substr(9).split(" ");return{tag:parseInt(T[0],10),cryptoSuite:T[1],keyParams:T[2],sessionParams:T.slice(3)}},F.writeCryptoLine=function(w){return"a=crypto:"+w.tag+" "+w.cryptoSuite+" "+("object"==typeof w.keyParams?F.writeCryptoKeyParams(w.keyParams):w.keyParams)+(w.sessionParams?" "+w.sessionParams.join(" "):"")+"\r\n"},F.parseCryptoKeyParams=function(w){if(0!==w.indexOf("inline:"))return null;var T=w.substr(7).split("|");return{keyMethod:"inline",keySalt:T[0],lifeTime:T[1],mkiValue:T[2]?T[2].split(":")[0]:void 0,mkiLength:T[2]?T[2].split(":")[1]:void 0}},F.writeCryptoKeyParams=function(w){return w.keyMethod+":"+w.keySalt+(w.lifeTime?"|"+w.lifeTime:"")+(w.mkiValue&&w.mkiLength?"|"+w.mkiValue+":"+w.mkiLength:"")},F.getCryptoParameters=function(w,T){return F.matchPrefix(w+T,"a=crypto:").map(F.parseCryptoLine)},F.getIceParameters=function(w,T){var U=F.matchPrefix(w+T,"a=ice-ufrag:")[0],P=F.matchPrefix(w+T,"a=ice-pwd:")[0];return U&&P?{usernameFragment:U.substr(12),password:P.substr(10)}:null},F.writeIceParameters=function(w){return"a=ice-ufrag:"+w.usernameFragment+"\r\na=ice-pwd:"+w.password+"\r\n"},F.parseRtpParameters=function(w){for(var T={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},P=F.splitLines(w)[0].split(" "),O=3;O<P.length;O++){var b=P[O],de=F.matchPrefix(w,"a=rtpmap:"+b+" ")[0];if(de){var Se=F.parseRtpMap(de),D=F.matchPrefix(w,"a=fmtp:"+b+" ");switch(Se.parameters=D.length?F.parseFmtp(D[0]):{},Se.rtcpFeedback=F.matchPrefix(w,"a=rtcp-fb:"+b+" ").map(F.parseRtcpFb),T.codecs.push(Se),Se.name.toUpperCase()){case"RED":case"ULPFEC":T.fecMechanisms.push(Se.name.toUpperCase())}}}return F.matchPrefix(w,"a=extmap:").forEach(function(C){T.headerExtensions.push(F.parseExtmap(C))}),T},F.writeRtpDescription=function(w,T){var U="";U+="m="+w+" ",U+=T.codecs.length>0?"9":"0",U+=" UDP/TLS/RTP/SAVPF ",U+=T.codecs.map(function(O){return void 0!==O.preferredPayloadType?O.preferredPayloadType:O.payloadType}).join(" ")+"\r\n",U+="c=IN IP4 0.0.0.0\r\n",U+="a=rtcp:9 IN IP4 0.0.0.0\r\n",T.codecs.forEach(function(O){U+=F.writeRtpMap(O),U+=F.writeFmtp(O),U+=F.writeRtcpFb(O)});var P=0;return T.codecs.forEach(function(O){O.maxptime>P&&(P=O.maxptime)}),P>0&&(U+="a=maxptime:"+P+"\r\n"),U+="a=rtcp-mux\r\n",T.headerExtensions&&T.headerExtensions.forEach(function(O){U+=F.writeExtmap(O)}),U},F.parseRtpEncodingParameters=function(w){var Se,T=[],U=F.parseRtpParameters(w),P=-1!==U.fecMechanisms.indexOf("RED"),O=-1!==U.fecMechanisms.indexOf("ULPFEC"),b=F.matchPrefix(w,"a=ssrc:").map(function(L){return F.parseSsrcMedia(L)}).filter(function(L){return"cname"===L.attribute}),de=b.length>0&&b[0].ssrc,D=F.matchPrefix(w,"a=ssrc-group:FID").map(function(L){return L.substr(17).split(" ").map(function(z){return parseInt(z,10)})});D.length>0&&D[0].length>1&&D[0][0]===de&&(Se=D[0][1]),U.codecs.forEach(function(L){if("RTX"===L.name.toUpperCase()&&L.parameters.apt){var ee={ssrc:de,codecPayloadType:parseInt(L.parameters.apt,10)};de&&Se&&(ee.rtx={ssrc:Se}),T.push(ee),P&&((ee=JSON.parse(JSON.stringify(ee))).fec={ssrc:de,mechanism:O?"red+ulpfec":"red"},T.push(ee))}}),0===T.length&&de&&T.push({ssrc:de});var C=F.matchPrefix(w,"b=");return C.length&&(C=0===C[0].indexOf("b=TIAS:")?parseInt(C[0].substr(7),10):0===C[0].indexOf("b=AS:")?1e3*parseInt(C[0].substr(5),10)*.95-16e3:void 0,T.forEach(function(L){L.maxBitrate=C})),T},F.parseRtcpParameters=function(w){var T={},U=F.matchPrefix(w,"a=ssrc:").map(function(b){return F.parseSsrcMedia(b)}).filter(function(b){return"cname"===b.attribute})[0];U&&(T.cname=U.value,T.ssrc=U.ssrc);var P=F.matchPrefix(w,"a=rtcp-rsize");T.reducedSize=P.length>0,T.compound=0===P.length;var O=F.matchPrefix(w,"a=rtcp-mux");return T.mux=O.length>0,T},F.parseMsid=function(w){var T,U=F.matchPrefix(w,"a=msid:");if(1===U.length)return{stream:(T=U[0].substr(7).split(" "))[0],track:T[1]};var P=F.matchPrefix(w,"a=ssrc:").map(function(O){return F.parseSsrcMedia(O)}).filter(function(O){return"msid"===O.attribute});return P.length>0?{stream:(T=P[0].value.split(" "))[0],track:T[1]}:void 0},F.parseSctpDescription=function(w){var P,T=F.parseMLine(w),U=F.matchPrefix(w,"a=max-message-size:");U.length>0&&(P=parseInt(U[0].substr(19),10)),isNaN(P)&&(P=65536);var O=F.matchPrefix(w,"a=sctp-port:");if(O.length>0)return{port:parseInt(O[0].substr(12),10),protocol:T.fmt,maxMessageSize:P};if(F.matchPrefix(w,"a=sctpmap:").length>0){var de=F.matchPrefix(w,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(de[0],10),protocol:de[1],maxMessageSize:P}}},F.writeSctpDescription=function(w,T){var U=[];return U="DTLS/SCTP"!==w.protocol?["m="+w.kind+" 9 "+w.protocol+" "+T.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+T.port+"\r\n"]:["m="+w.kind+" 9 "+w.protocol+" "+T.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+T.port+" "+T.protocol+" 65535\r\n"],void 0!==T.maxMessageSize&&U.push("a=max-message-size:"+T.maxMessageSize+"\r\n"),U.join("")},F.generateSessionId=function(){return Math.random().toString().substr(2,21)},F.writeSessionBoilerplate=function(w,T,U){var O=void 0!==T?T:2;return"v=0\r\no="+(U||"thisisadapterortc")+" "+(w||F.generateSessionId())+" "+O+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},F.writeMediaSection=function(w,T,U,P){var O=F.writeRtpDescription(w.kind,T);if(O+=F.writeIceParameters(w.iceGatherer.getLocalParameters()),O+=F.writeDtlsParameters(w.dtlsTransport.getLocalParameters(),"offer"===U?"actpass":"active"),O+="a=mid:"+w.mid+"\r\n",O+=w.direction?"a="+w.direction+"\r\n":w.rtpSender&&w.rtpReceiver?"a=sendrecv\r\n":w.rtpSender?"a=sendonly\r\n":w.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",w.rtpSender){var b="msid:"+P.id+" "+w.rtpSender.track.id+"\r\n";O+="a="+b,O+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" "+b,w.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" "+b,O+="a=ssrc-group:FID "+w.sendEncodingParameters[0].ssrc+" "+w.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return O+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" cname:"+F.localCName+"\r\n",w.rtpSender&&w.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" cname:"+F.localCName+"\r\n"),O},F.getDirection=function(w,T){for(var U=F.splitLines(w),P=0;P<U.length;P++)switch(U[P]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return U[P].substr(2)}return T?F.getDirection(T):"sendrecv"},F.getKind=function(w){return F.splitLines(w)[0].split(" ")[0].substr(2)},F.isRejected=function(w){return"0"===w.split(" ",2)[1]},F.parseMLine=function(w){var U=F.splitLines(w)[0].substr(2).split(" ");return{kind:U[0],port:parseInt(U[1],10),protocol:U[2],fmt:U.slice(3).join(" ")}},F.parseOLine=function(w){var U=F.matchPrefix(w,"o=")[0].substr(2).split(" ");return{username:U[0],sessionId:U[1],sessionVersion:parseInt(U[2],10),netType:U[3],addressType:U[4],address:U[5]}},F.isValidSDP=function(w){if("string"!=typeof w||0===w.length)return!1;for(var T=F.splitLines(w),U=0;U<T.length;U++)if(T[U].length<2||"="!==T[U].charAt(1))return!1;return!0},Ye.exports=F},340:(Ye,F,w)=>{var T=w(471),U=w(992),P=w(657),O=w(583),b=w(929),de=w(83),Se=w(818);Se.alea=T,Se.xor128=U,Se.xorwow=P,Se.xorshift7=O,Se.xor4096=b,Se.tychei=de,Ye.exports=Se},471:function(Ye,F,w){var T;!function(U,P,O){function b(C){var L=this,ee=function D(){var C=4022871197;return function(ee){ee=String(ee);for(var z=0;z<ee.length;z++){var K=.02519603282416938*(C+=ee.charCodeAt(z));K-=C=K>>>0,C=(K*=C)>>>0,C+=4294967296*(K-=C)}return 2.3283064365386963e-10*(C>>>0)}}();L.next=function(){var z=2091639*L.s0+2.3283064365386963e-10*L.c;return L.s0=L.s1,L.s1=L.s2,L.s2=z-(L.c=0|z)},L.c=1,L.s0=ee(" "),L.s1=ee(" "),L.s2=ee(" "),L.s0-=ee(C),L.s0<0&&(L.s0+=1),L.s1-=ee(C),L.s1<0&&(L.s1+=1),L.s2-=ee(C),L.s2<0&&(L.s2+=1),ee=null}function de(C,L){return L.c=C.c,L.s0=C.s0,L.s1=C.s1,L.s2=C.s2,L}function Se(C,L){var ee=new b(C),z=L&&L.state,K=ee.next;return K.int32=function(){return 4294967296*ee.next()|0},K.double=function(){return K()+11102230246251565e-32*(2097152*K()|0)},K.quick=K,z&&("object"==typeof z&&de(z,ee),K.state=function(){return de(ee,{})}),K}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.alea=Se}(0,Ye=w.nmd(Ye))},83:function(Ye,F,w){var T;!function(U,P,O){function b(D){var C=this,L="";C.next=function(){var z=C.b,K=C.c,G=C.d,ye=C.a;return z=z<<25^z>>>7^K,K=K-G|0,G=G<<24^G>>>8^ye,ye=ye-z|0,C.b=z=z<<20^z>>>12^K,C.c=K=K-G|0,C.d=G<<16^K>>>16^ye,C.a=ye-z|0},C.a=0,C.b=0,C.c=-1640531527,C.d=1367130551,D===Math.floor(D)?(C.a=D/4294967296|0,C.b=0|D):L+=D;for(var ee=0;ee<L.length+20;ee++)C.b^=0|L.charCodeAt(ee),C.next()}function de(D,C){return C.a=D.a,C.b=D.b,C.c=D.c,C.d=D.d,C}function Se(D,C){var L=new b(D),ee=C&&C.state,z=function(){return(L.next()>>>0)/4294967296};return z.double=function(){do{var ye=((L.next()>>>11)+(L.next()>>>0)/4294967296)/(1<<21)}while(0===ye);return ye},z.int32=L.next,z.quick=z,ee&&("object"==typeof ee&&de(ee,L),z.state=function(){return de(L,{})}),z}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.tychei=Se}(0,Ye=w.nmd(Ye))},992:function(Ye,F,w){var T;!function(U,P,O){function b(D){var C=this,L="";C.x=0,C.y=0,C.z=0,C.w=0,C.next=function(){var z=C.x^C.x<<11;return C.x=C.y,C.y=C.z,C.z=C.w,C.w^=C.w>>>19^z^z>>>8},D===(0|D)?C.x=D:L+=D;for(var ee=0;ee<L.length+64;ee++)C.x^=0|L.charCodeAt(ee),C.next()}function de(D,C){return C.x=D.x,C.y=D.y,C.z=D.z,C.w=D.w,C}function Se(D,C){var L=new b(D),ee=C&&C.state,z=function(){return(L.next()>>>0)/4294967296};return z.double=function(){do{var ye=((L.next()>>>11)+(L.next()>>>0)/4294967296)/(1<<21)}while(0===ye);return ye},z.int32=L.next,z.quick=z,ee&&("object"==typeof ee&&de(ee,L),z.state=function(){return de(L,{})}),z}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.xor128=Se}(0,Ye=w.nmd(Ye))},929:function(Ye,F,w){var T;!function(U,P,O){function b(D){var C=this;C.next=function(){var G,ye,ee=C.w,z=C.X,K=C.i;return C.w=ee=ee+1640531527|0,ye=z[K+34&127],G=z[K=K+1&127],ye^=ye<<13,G^=G<<17,ye=z[K]=(ye^=ye>>>15)^(G^=G>>>12),C.i=K,ye+(ee^ee>>>16)|0},function L(ee,z){var K,G,ye,ot,R,k=[],ne=128;for(z===(0|z)?(G=z,z=null):(z+="\0",G=0,ne=Math.max(ne,z.length)),ye=0,ot=-32;ot<ne;++ot)z&&(G^=z.charCodeAt((ot+32)%z.length)),0===ot&&(R=G),G^=G<<10,G^=G>>>15,G^=G<<4,G^=G>>>13,ot>=0&&(ye=0==(K=k[127&ot]^=G+(R=R+1640531527|0))?ye+1:0);for(ye>=128&&(k[127&(z&&z.length||0)]=-1),ye=127,ot=512;ot>0;--ot)G=k[ye+34&127],K=k[ye=ye+1&127],G^=G<<13,K^=K<<17,k[ye]=(G^=G>>>15)^(K^=K>>>12);ee.w=R,ee.X=k,ee.i=ye}(C,D)}function de(D,C){return C.i=D.i,C.w=D.w,C.X=D.X.slice(),C}function Se(D,C){null==D&&(D=+new Date);var L=new b(D),ee=C&&C.state,z=function(){return(L.next()>>>0)/4294967296};return z.double=function(){do{var ye=((L.next()>>>11)+(L.next()>>>0)/4294967296)/(1<<21)}while(0===ye);return ye},z.int32=L.next,z.quick=z,ee&&(ee.X&&de(ee,L),z.state=function(){return de(L,{})}),z}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.xor4096=Se}(0,Ye=w.nmd(Ye))},583:function(Ye,F,w){var T;!function(U,P,O){function b(D){var C=this;C.next=function(){var K,G,ee=C.x,z=C.i;return K=ee[z],G=(K^=K>>>7)^K<<24,G^=(K=ee[z+1&7])^K>>>10,G^=(K=ee[z+3&7])^K>>>3,G^=(K=ee[z+4&7])^K<<7,K=ee[z+7&7],ee[z]=G^=(K^=K<<13)^K<<9,C.i=z+1&7,G},function L(ee,z){var K,ye=[];if(z===(0|z))ye[0]=z;else for(z=""+z,K=0;K<z.length;++K)ye[7&K]=ye[7&K]<<15^z.charCodeAt(K)+ye[K+1&7]<<13;for(;ye.length<8;)ye.push(0);for(K=0;K<8&&0===ye[K];++K);for(8==K&&(ye[7]=-1),ee.x=ye,ee.i=0,K=256;K>0;--K)ee.next()}(C,D)}function de(D,C){return C.x=D.x.slice(),C.i=D.i,C}function Se(D,C){null==D&&(D=+new Date);var L=new b(D),ee=C&&C.state,z=function(){return(L.next()>>>0)/4294967296};return z.double=function(){do{var ye=((L.next()>>>11)+(L.next()>>>0)/4294967296)/(1<<21)}while(0===ye);return ye},z.int32=L.next,z.quick=z,ee&&(ee.x&&de(ee,L),z.state=function(){return de(L,{})}),z}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.xorshift7=Se}(0,Ye=w.nmd(Ye))},657:function(Ye,F,w){var T;!function(U,P,O){function b(D){var C=this,L="";C.next=function(){var z=C.x^C.x>>>2;return C.x=C.y,C.y=C.z,C.z=C.w,C.w=C.v,(C.d=C.d+362437|0)+(C.v=C.v^C.v<<4^z^z<<1)|0},C.x=0,C.y=0,C.z=0,C.w=0,C.v=0,D===(0|D)?C.x=D:L+=D;for(var ee=0;ee<L.length+64;ee++)C.x^=0|L.charCodeAt(ee),ee==L.length&&(C.d=C.x<<10^C.x>>>4),C.next()}function de(D,C){return C.x=D.x,C.y=D.y,C.z=D.z,C.w=D.w,C.v=D.v,C.d=D.d,C}function Se(D,C){var L=new b(D),ee=C&&C.state,z=function(){return(L.next()>>>0)/4294967296};return z.double=function(){do{var ye=((L.next()>>>11)+(L.next()>>>0)/4294967296)/(1<<21)}while(0===ye);return ye},z.int32=L.next,z.quick=z,ee&&("object"==typeof ee&&de(ee,L),z.state=function(){return de(L,{})}),z}P&&P.exports?P.exports=Se:w.amdD&&w.amdO?void 0!==(T=function(){return Se}.call(F,w,F,P))&&(P.exports=T):this.xorwow=Se}(0,Ye=w.nmd(Ye))},818:function(Ye,F,w){var T;!function(U,P,O){var K,b=256,C=O.pow(b,6),L=O.pow(2,52),ee=2*L,z=255;function G(te,De,me){var ke=[],We=k(R((De=1==De?{entropy:!0}:De||{}).entropy?[te,X(P)]:te??function ne(){try{var te;return K&&(te=K.randomBytes)?te=te(b):(te=new Uint8Array(b),(U.crypto||U.msCrypto).getRandomValues(te)),X(te)}catch{var De=U.navigator,me=De&&De.plugins;return[+new Date,U,me,U.screen,X(P)]}}(),3),ke),Le=new ye(ke),xe=function(){for(var lt=Le.g(6),Ct=C,dt=0;lt<L;)lt=(lt+dt)*b,Ct*=b,dt=Le.g(1);for(;lt>=ee;)lt/=2,Ct/=2,dt>>>=1;return(lt+dt)/Ct};return xe.int32=function(){return 0|Le.g(4)},xe.quick=function(){return Le.g(4)/4294967296},xe.double=xe,k(X(Le.S),P),(De.pass||me||function(lt,Ct,dt,Wt){return Wt&&(Wt.S&&ot(Wt,Le),lt.state=function(){return ot(Le,{})}),dt?(O.random=lt,Ct):lt})(xe,We,"global"in De?De.global:this==O,De.state)}function ye(te){var De,me=te.length,ke=this,We=0,Le=ke.i=ke.j=0,xe=ke.S=[];for(me||(te=[me++]);We<b;)xe[We]=We++;for(We=0;We<b;We++)xe[We]=xe[Le=z&Le+te[We%me]+(De=xe[We])],xe[Le]=De;(ke.g=function(lt){for(var Ct,dt=0,Wt=ke.i,$t=ke.j,on=ke.S;lt--;)Ct=on[Wt=z&Wt+1],dt=dt*b+on[z&(on[Wt]=on[$t=z&$t+Ct])+(on[$t]=Ct)];return ke.i=Wt,ke.j=$t,dt})(b)}function ot(te,De){return De.i=te.i,De.j=te.j,De.S=te.S.slice(),De}function R(te,De){var We,me=[],ke=typeof te;if(De&&"object"==ke)for(We in te)try{me.push(R(te[We],De-1))}catch{}return me.length?me:"string"==ke?te:te+"\0"}function k(te,De){for(var ke,me=te+"",We=0;We<me.length;)De[z&We]=z&(ke^=19*De[z&We])+me.charCodeAt(We++);return X(De)}function X(te){return String.fromCharCode.apply(0,te)}if(k(O.random(),P),Ye.exports){Ye.exports=G;try{K=w(42)}catch{}}else void 0!==(T=function(){return G}.call(F,w,F,Ye))&&(Ye.exports=T)}(typeof self<"u"?self:this,[],Math)},351:Ye=>{Ye.exports=function(){"use strict";function w(P,O,b,de){var Se=Error.call(this,P);return Object.setPrototypeOf&&Object.setPrototypeOf(Se,w.prototype),Se.expected=O,Se.found=b,Se.location=de,Se.name="SyntaxError",Se}function T(P,O,b){return b=b||" ",P.length>O?P:P+(b+=b.repeat(O-=P.length)).slice(0,O)}return function F(P,O){function b(){this.constructor=P}b.prototype=O.prototype,P.prototype=new b}(w,Error),w.prototype.format=function(P){var O="Error: "+this.message;if(this.location){var de,b=null;for(de=0;de<P.length;de++)if(P[de].source===this.location.source){b=P[de].text.split(/\r\n|\n|\r/g);break}var Se=this.location.start,D=this.location.source+":"+Se.line+":"+Se.column;if(b){var C=this.location.end,L=T("",Se.line.toString().length," "),ee=b[Se.line-1],K=(Se.line===C.line?C.column:ee.length+1)-Se.column||1;O+="\n --\x3e "+D+"\n"+L+" |\n"+Se.line+" | "+ee+"\n"+L+" | "+T("",Se.column-1," ")+T("",K,"^")}else O+="\n at "+D}return O},w.buildMessage=function(P,O){var b={literal:function(z){return'"'+Se(z.text)+'"'},class:function(z){var K=z.parts.map(function(G){return Array.isArray(G)?D(G[0])+"-"+D(G[1]):D(G)});return"["+(z.inverted?"^":"")+K.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(z){return z.description}};function de(z){return z.charCodeAt(0).toString(16).toUpperCase()}function Se(z){return z.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(K){return"\\x0"+de(K)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(K){return"\\x"+de(K)})}function D(z){return z.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(K){return"\\x0"+de(K)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(K){return"\\x"+de(K)})}function C(z){return b[z.type](z)}return"Expected "+function L(z){var G,ye,K=z.map(C);if(K.sort(),K.length>0){for(G=1,ye=1;G<K.length;G++)K[G-1]!==K[G]&&(K[ye]=K[G],ye++);K.length=ye}switch(K.length){case 1:return K[0];case 2:return K[0]+" or "+K[1];default:return K.slice(0,-1).join(", ")+", or "+K[K.length-1]}}(P)+" but "+function ee(z){return z?'"'+Se(z)+'"':"end of input"}(O)+" found."},{SyntaxError:w,parse:function U(P,O){var Co,b={},de=(O=void 0!==O?O:{}).grammarSource,Se={JSON:_i},D=_i,L=")",z="game.",K="(",G=",",on=/^[^"\\]/,Z=/^[^'\\]/,ie=/^['"\\\/bfnrt]/,ae=/^[0-9a-fA-F]/,Ae=/^[1-9]/,ve=/^[0-9]/,tt=/^[ \t\n\r]/,Je=/^[0-9a-zA-Z$_]/,en=Mn("of(",!1),Mt=Mn(")",!1),Ft=Mn("=>",!1),wr=Mn("game.",!1),Oi=Mn("(",!1),tn=Mn(",",!1),Dn=Mn("{",!1),Ni=Mn("}",!1),Ie=Mn(":",!1),Yi=Mn("[",!1),mo=Mn("]",!1),yo=Mn('"',!1),rl=So(['"',"\\"],!0,!1),Xn=Mn("'",!1),ys=So(["'","\\"],!0,!1),gu=Mn("\\",!1),qc=So(["'",'"',"\\","/","b","f","n","r","t"],!1,!1),Kc=Mn("\\u",!1),vs=So([["0","9"],["a","f"],["A","F"]],!1,!1),mu=Mn("-",!1),Qc=Mn("0",!1),yu=So([["1","9"]],!1,!1),Fi=So([["0","9"]],!1,!1),Yc=Mn(".",!1),Vf=Mn("e",!1),vo=Mn("E",!1),Jc=Mn("+",!1),Zc=Mn("true",!1),Xc=Mn("false",!1),ed=Mn("null",!1),il=function fl(A){return{type:"other",description:A}}("whitespace"),td=So([" ","\t","\n","\r"],!1,!1),ol=So([["0","9"],["a","z"],["A","Z"],"$","_"],!1,!1),I=0,mt=0,Qr=[{line:1,column:1}],lr=0,_s=[],$e=0;if("startRule"in O){if(!(O.startRule in Se))throw new Error("Can't start parsing from rule \""+O.startRule+'".');D=Se[O.startRule]}function Mn(A,Y){return{type:"literal",text:A,ignoreCase:Y}}function So(A,Y,_e){return{type:"class",parts:A,inverted:Y,ignoreCase:_e}}function pl(A){var _e,Y=Qr[A];if(Y)return Y;for(_e=A-1;!Qr[_e];)_e--;for(Y={line:(Y=Qr[_e]).line,column:Y.column};_e<A;)10===P.charCodeAt(_e)?(Y.line++,Y.column=1):Y.column++,_e++;return Qr[A]=Y,Y}function Te(A){I<lr||(I>lr&&(lr=I,_s=[]),_s.push(A))}function _i(){var A,_e;return A=I,ut(),(_e=Lt())!==b?(ut(),mt=A,A=_e):(I=A,A=b),A}function Lt(){var A;return(A=function oa(){var A,Y,_e,J;return A=I,P.substr(I,5)===z?(Y=z,I+=5):(Y=b,0===$e&&Te(wr)),Y!==b&&(_e=Wo())!==b&&(J=function pt(){var A,Y,_e,J,be,Pe,ht,Vt;if(A=I,40===P.charCodeAt(I)?(Y=K,I++):(Y=b,0===$e&&Te(Oi)),Y!==b?(_e=ut(),41===P.charCodeAt(I)?(J=L,I++):(J=b,0===$e&&Te(Mt)),J!==b?(mt=A,A=[]):(I=A,A=b)):(I=A,A=b),A===b)if(A=I,40===P.charCodeAt(I)?(Y=K,I++):(Y=b,0===$e&&Te(Oi)),Y!==b){for(_e=[],J=I,be=ut(),(Pe=Lt())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J!==b;)_e.push(J),J=I,be=ut(),(Pe=Lt())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J=I,be=ut(),(Pe=Lt())===b&&(Pe=null),J=be=[be,Pe,ht=ut()],41===P.charCodeAt(I)?(be=L,I++):(be=b,0===$e&&Te(Mt)),be!==b?(mt=A,A=function(A,Y){return A.concat(Y[1]?[Y]:[]).map(_e=>_e[1])}(_e,J)):(I=A,A=b)}else I=A,A=b;return A}())!==b?(mt=A,A=function(A,Y){return{type:"game",name:A,args:Y}}(_e,J)):(I=A,A=b),A}())===b&&(A=function $i(){var A,Y,J,Pe;return A=I,"of("===P.substr(I,3)?(Y="of(",I+=3):(Y=b,0===$e&&Te(en)),Y!==b?(ut(),(J=function hn(){var A;return(A=function zo(){var A,Y,J,Pe;return A=I,(Y=function En(){var A,Y,_e,J,be,Pe,ht,Vt;if(A=I,40===P.charCodeAt(I)?(Y=K,I++):(Y=b,0===$e&&Te(Oi)),Y!==b?(_e=ut(),41===P.charCodeAt(I)?(J=L,I++):(J=b,0===$e&&Te(Mt)),J!==b?(mt=A,A=[]):(I=A,A=b)):(I=A,A=b),A===b)if(A=I,40===P.charCodeAt(I)?(Y=K,I++):(Y=b,0===$e&&Te(Oi)),Y!==b){for(_e=[],J=I,be=ut(),(Pe=Wo())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J!==b;)_e.push(J),J=I,be=ut(),(Pe=Wo())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J=I,be=ut(),(Pe=Wo())===b&&(Pe=null),J=be=[be,Pe,ht=ut()],41===P.charCodeAt(I)?(be=L,I++):(be=b,0===$e&&Te(Mt)),be!==b?(mt=A,A=function(A,Y){return A.concat(Y[1]?[Y]:[]).map(_e=>_e[1])}(_e,J)):(I=A,A=b)}else I=A,A=b;return A}())!==b?(ut(),"=>"===P.substr(I,2)?(J="=>",I+=2):(J=b,0===$e&&Te(Ft)),J!==b?(ut(),(Pe=Lt())!==b?(mt=A,A=function(A,Y){return{type:"arrow",args:A,body:Y}}(Y,Pe)):(I=A,A=b)):(I=A,A=b)):(I=A,A=b),A}())===b&&(A=function le(){var A,Y,_e,J,be,Pe,ht,Vt;if(A=I,91===P.charCodeAt(I)?(Y="[",I++):(Y=b,0===$e&&Te(Yi)),Y!==b?(_e=ut(),93===P.charCodeAt(I)?(J="]",I++):(J=b,0===$e&&Te(mo)),J!==b?(mt=A,A={type:"Array",value:[]}):(I=A,A=b)):(I=A,A=b),A===b)if(A=I,91===P.charCodeAt(I)?(Y="[",I++):(Y=b,0===$e&&Te(Yi)),Y!==b){for(_e=[],J=I,be=ut(),(Pe=Lt())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J!==b;)_e.push(J),J=I,be=ut(),(Pe=Lt())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J=I,be=ut(),(Pe=Lt())===b&&(Pe=null),J=be=[be,Pe,ht=ut()],93===P.charCodeAt(I)?(be="]",I++):(be=b,0===$e&&Te(mo)),be!==b?(mt=A,A=function(A,Y){return{type:"Array",value:A.concat(Y[1]?[Y]:[]).map(_e=>_e[1])}}(_e,J)):(I=A,A=b)}else I=A,A=b;return A}())===b&&(A=function hl(){var A,Y,_e,J,be,Pe,ht,Vt;if(A=I,123===P.charCodeAt(I)?(Y="{",I++):(Y=b,0===$e&&Te(Dn)),Y!==b?(_e=ut(),125===P.charCodeAt(I)?(J="}",I++):(J=b,0===$e&&Te(Ni)),J!==b?(mt=A,A={}):(I=A,A=b)):(I=A,A=b),A===b)if(A=I,123===P.charCodeAt(I)?(Y="{",I++):(Y=b,0===$e&&Te(Dn)),Y!==b){for(_e=[],J=I,be=ut(),(Pe=Ss())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J!==b;)_e.push(J),J=I,be=ut(),(Pe=Ss())!==b?(ht=ut(),44===P.charCodeAt(I)?(Vt=G,I++):(Vt=b,0===$e&&Te(tn)),Vt!==b?J=be=[be,Pe,ht,Vt]:(I=J,J=b)):(I=J,J=b);J=I,be=ut(),(Pe=Ss())===b&&(Pe=null),J=be=[be,Pe,ht=ut()],125===P.charCodeAt(I)?(be="}",I++):(be=b,0===$e&&Te(Ni)),be!==b?(mt=A,A=function(A,Y){return A.concat(Y[1]?[Y]:[]).map(_e=>_e[1]).reduce((_e,[J,be])=>(_e[J]=be,_e),{})}(_e,J)):(I=A,A=b)}else I=A,A=b;return A}())===b&&(A=function gl(){var A;return(A=function fn(){var A,Y,_e,J;if(A=I,39===P.charCodeAt(I)?(Y="'",I++):(Y=b,0===$e&&Te(Xn)),Y!==b){for(_e=[],Z.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(ys)),J===b&&(J=ml());J!==b;)_e.push(J),Z.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(ys)),J===b&&(J=ml());39===P.charCodeAt(I)?(J="'",I++):(J=b,0===$e&&Te(Xn)),J!==b?(mt=A,A=function(A){return{type:"string",value:A.join("")}}(_e)):(I=A,A=b)}else I=A,A=b;return A}())===b&&(A=function Et(){var A,Y,_e,J;if(A=I,34===P.charCodeAt(I)?(Y='"',I++):(Y=b,0===$e&&Te(yo)),Y!==b){for(_e=[],on.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(rl)),J===b&&(J=ml());J!==b;)_e.push(J),on.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(rl)),J===b&&(J=ml());34===P.charCodeAt(I)?(J='"',I++):(J=b,0===$e&&Te(yo)),J!==b?(mt=A,A=function(A){return{type:"string",value:A.join("")}}(_e)):(I=A,A=b)}else I=A,A=b;return A}()),A}())===b&&(A=function yl(){var A,Y,_e,J,be,Pe,ht,Vt,Ji;if(A=I,45===P.charCodeAt(I)?(Y="-",I++):(Y=b,0===$e&&Te(mu)),Y===b&&(Y=null),48===P.charCodeAt(I)?(_e="0",I++):(_e=b,0===$e&&Te(Qc)),_e===b)if(_e=I,Ae.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(yu)),J!==b){for(be=[],ve.test(P.charAt(I))?(Pe=P.charAt(I),I++):(Pe=b,0===$e&&Te(Fi));Pe!==b;)be.push(Pe),ve.test(P.charAt(I))?(Pe=P.charAt(I),I++):(Pe=b,0===$e&&Te(Fi));_e=J=[J,be]}else I=_e,_e=b;if(_e!==b){if(J=I,46===P.charCodeAt(I)?(be=".",I++):(be=b,0===$e&&Te(Yc)),be!==b){if(Pe=[],ve.test(P.charAt(I))?(ht=P.charAt(I),I++):(ht=b,0===$e&&Te(Fi)),ht!==b)for(;ht!==b;)Pe.push(ht),ve.test(P.charAt(I))?(ht=P.charAt(I),I++):(ht=b,0===$e&&Te(Fi));else Pe=b;Pe!==b?J=be=[be,Pe]:(I=J,J=b)}else I=J,J=b;if(J===b&&(J=null),be=I,101===P.charCodeAt(I)?(Pe="e",I++):(Pe=b,0===$e&&Te(Vf)),Pe===b&&(69===P.charCodeAt(I)?(Pe="E",I++):(Pe=b,0===$e&&Te(vo))),Pe!==b){if(43===P.charCodeAt(I)?(ht="+",I++):(ht=b,0===$e&&Te(Jc)),ht===b&&(45===P.charCodeAt(I)?(ht="-",I++):(ht=b,0===$e&&Te(mu))),ht===b&&(ht=null),Vt=[],ve.test(P.charAt(I))?(Ji=P.charAt(I),I++):(Ji=b,0===$e&&Te(Fi)),Ji!==b)for(;Ji!==b;)Vt.push(Ji),ve.test(P.charAt(I))?(Ji=P.charAt(I),I++):(Ji=b,0===$e&&Te(Fi));else Vt=b;Vt!==b?be=Pe=[Pe,ht,Vt]:(I=be,be=b)}else I=be,be=b;be===b&&(be=null),mt=A,A={type:"number",value:parseFloat(P.substring(mt,I))}}else I=A,A=b;return A}())===b&&(A=function ad(){var A,Y;return A=I,"true"===P.substr(I,4)?(Y="true",I+=4):(Y=b,0===$e&&Te(Zc)),Y!==b&&(mt=A,Y={type:"boolean",value:!0}),(A=Y)===b&&(A=I,"false"===P.substr(I,5)?(Y="false",I+=5):(Y=b,0===$e&&Te(Xc)),Y!==b&&(mt=A,Y={type:"boolean",value:!1}),A=Y),A}())===b&&(A=function Go(){var A,Y;return A=I,"null"===P.substr(I,4)?(Y="null",I+=4):(Y=b,0===$e&&Te(ed)),Y!==b&&(mt=A,Y={type:"null",value:null}),Y}()),A}())!==b?(ut(),41===P.charCodeAt(I)?(Pe=L,I++):(Pe=b,0===$e&&Te(Mt)),Pe!==b?(mt=A,A=J):(I=A,A=b)):(I=A,A=b)):(I=A,A=b),A}())===b&&(A=Wo()),A}function Ss(){var A,Y,J,Pe;return A=I,(Y=Wo())!==b?(ut(),58===P.charCodeAt(I)?(J=":",I++):(J=b,0===$e&&Te(Ie)),J!==b?(ut(),(Pe=Lt())!==b?(mt=A,A=function(A,Y){return[A,Y]}(Y,Pe)):(I=A,A=b)):(I=A,A=b)):(I=A,A=b),A}function ml(){var A,Y,_e,J,be,Pe,ht;return A=I,92===P.charCodeAt(I)?(Y="\\",I++):(Y=b,0===$e&&Te(gu)),Y!==b?(ie.test(P.charAt(I))?(_e=P.charAt(I),I++):(_e=b,0===$e&&Te(qc)),_e!==b?(mt=A,A=function(A){switch(A){case"'":case'"':case"\\":case"/":return A;case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t"}}(_e)):(I=A,A=b)):(I=A,A=b),A===b&&(A=I,"\\u"===P.substr(I,2)?(Y="\\u",I+=2):(Y=b,0===$e&&Te(Kc)),Y!==b?(_e=I,ae.test(P.charAt(I))?(J=P.charAt(I),I++):(J=b,0===$e&&Te(vs)),J!==b?(ae.test(P.charAt(I))?(be=P.charAt(I),I++):(be=b,0===$e&&Te(vs)),be!==b?(ae.test(P.charAt(I))?(Pe=P.charAt(I),I++):(Pe=b,0===$e&&Te(vs)),Pe!==b?(ae.test(P.charAt(I))?(ht=P.charAt(I),I++):(ht=b,0===$e&&Te(vs)),ht!==b?_e=J=[J,be,Pe,ht]:(I=_e,_e=b)):(I=_e,_e=b)):(I=_e,_e=b)):(I=_e,_e=b),_e!==b?(mt=A,A=function(A){return String.fromCodePoint(parseInt(A.join(""),16))}(_e)):(I=A,A=b)):(I=A,A=b)),A}function ut(){var A,Y;for($e++,A=[],tt.test(P.charAt(I))?(Y=P.charAt(I),I++):(Y=b,0===$e&&Te(td));Y!==b;)A.push(Y),tt.test(P.charAt(I))?(Y=P.charAt(I),I++):(Y=b,0===$e&&Te(td));return $e--,Y=b,0===$e&&Te(il),A}function Wo(){var A,Y,_e;if(A=I,Y=[],(_e=Tu())!==b)for(;_e!==b;)Y.push(_e),_e=Tu();else Y=b;return Y!==b&&(mt=A,Y=function(A){return{type:"name",value:A.join("")}}(Y)),Y}function Tu(){var A;return Je.test(P.charAt(I))?(A=P.charAt(I),I++):(A=b,0===$e&&Te(ol)),A}if((Co=D())!==b&&I===P.length)return Co;throw Co!==b&&I<P.length&&Te({type:"end"}),function vi(A,Y,_e){return new w(w.buildMessage(A,Y),A,Y,_e)}(_s,lr<P.length?P.charAt(lr):null,function Cs(A,Y){var _e=pl(A),J=pl(Y);return{source:de,start:{offset:A,line:_e.line,column:_e.column},end:{offset:Y,line:J.line,column:J.column}}}(lr,lr<P.length?lr+1:lr))}}}()},42:()=>{}},Ye=>{Ye(Ye.s=171)}]);